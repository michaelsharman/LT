/*! For license information please see index.js.LICENSE.txt */
var t,e,n,r,i={4196:(t,e,n)=>{var r;!function(){var i=function(){this.init()};i.prototype={init:function(){var t=this||s;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||s;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,s.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=e._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||s;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,s.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=e._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},stop:function(){for(var t=this||s,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||s,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||s)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||s;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||s,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator?t._navigator.userAgent:"",i=r.match(/OPR\/(\d+)/g),a=i&&parseInt(i[0].split("/")[1],10)<33,o=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),l=r.match(/Version\/(.*?) /),c=o&&l&&parseInt(l[1],10)<15;return t._codecs={mp3:!(a||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||s;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(n){t.noAudio=!0;break}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var s=t._howls[i]._getSoundIds(),a=0;a<s.length;a++){var o=t._howls[i]._soundById(s[a]);o&&o._node&&!o._node._unlocked&&(o._node._unlocked=!0,o._node.load())}t._autoResume();var l=t.ctx.createBufferSource();l.buffer=t._scratchBuffer,l.connect(t.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),l.onended=function(){l.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0);for(var n=0;n<t._howls.length;n++)t._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),t}},_obtainHtml5Audio:function(){var t=this||s;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||s;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&s.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&s.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var s=new i,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var e=this;return s.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=s.usingWebAudio&&!e._html5,void 0!==s.ctx&&s.ctx&&s.autoUnlock&&s._unlockAudio(),s._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=this,e=null;if(s.noAudio)t._emit("loaderror",null,"No audio support.");else{"string"==typeof t._src&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var r,i;if(t._format&&t._format[n])r=t._format[n];else{if("string"!=typeof(i=t._src[n])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&s.codecs(r)){e=t._src[n];break}}if(e)return t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new o(t),t._webAudio&&c(t),t;t._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?t=null:r=null}}var o=r?n._soundById(r):n._inactiveSound();if(!o)return null;if(r&&!t&&(t=o._sprite||"__default"),"loaded"!==n._state){o._sprite=t,o._ended=!1;var l=o._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(r&&!o._paused)return e||n._loadQueue("play"),o._id;n._webAudio&&s._autoResume();var c=Math.max(0,o._seek>0?o._seek:n._sprite[t][0]/1e3),d=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-c),h=1e3*d/Math.abs(o._rate),u=n._sprite[t][0]/1e3,p=(n._sprite[t][0]+n._sprite[t][1])/1e3;o._sprite=t,o._ended=!1;var f=function(){o._paused=!1,o._seek=c,o._start=u,o._stop=p,o._loop=!(!o._loop&&!n._sprite[t][2])};if(!(c>=p)){var m=o._node;if(n._webAudio){var g=function(){n._playLock=!1,f(),n._refreshBuffer(o);var t=o._muted||n._muted?0:o._volume;m.gain.setValueAtTime(t,s.ctx.currentTime),o._playStart=s.ctx.currentTime,void 0===m.bufferSource.start?o._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,d):o._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,d),h!==1/0&&(n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),h)),e||setTimeout((function(){n._emit("play",o._id),n._loadQueue()}),0)};"running"===s.state&&"interrupted"!==s.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(o._id))}else{var v=function(){m.currentTime=c,m.muted=o._muted||n._muted||s._muted||m.muted,m.volume=o._volume*s.volume(),m.playbackRate=o._rate;try{var r=m.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,f(),r.then((function(){n._playLock=!1,m._unlocked=!0,e?n._loadQueue():n._emit("play",o._id)})).catch((function(){n._playLock=!1,n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),o._ended=!0,o._paused=!0}))):e||(n._playLock=!1,f(),n._emit("play",o._id)),m.playbackRate=o._rate,m.paused)return void n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||o._loop?n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),h):(n._endTimers[o._id]=function(){n._ended(o),m.removeEventListener("ended",n._endTimers[o._id],!1)},m.addEventListener("ended",n._endTimers[o._id],!1))}catch(t){n._emit("playerror",o._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var b=window&&window.ejecta||!m.readyState&&s._navigator.isCocoonJS;if(m.readyState>=3||b)v();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",v(),m.removeEventListener(s._canPlayEvent,y,!1)};m.addEventListener(s._canPlayEvent,y,!1),n._clearTimer(o._id)}}return o._id}n._ended(o)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var i=e._soundById(n[r]);if(i&&!i._paused&&(i._seek=e.seek(n[r]),i._rateSeek=0,i._paused=!0,e._stopFade(n[r]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),i=0;i<r.length;i++){n._clearTimer(r[i]);var s=n._soundById(r[i]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,n._stopFade(r[i]),s._node&&(n._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),n._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&n._clearSound(s._node))),e||n._emit("stop",s._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=t,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,s.ctx.currentTime):a._node&&(a._node.muted=!!s._muted||t),n._emit("mute",a._id))}return n},volume:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]?r._getSoundIds().indexOf(i[0])>=0?e=parseInt(i[0],10):t=parseFloat(i[0]):i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10)),!(void 0!==t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)(n=r._soundById(e[a]))&&(n._volume=t,i[2]||r._stopFade(e[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,s.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*s.volume()),r._emit("volume",n._id));return r},fade:function(t,e,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,e,n,r)}}),i;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),i.volume(t,r);for(var a=i._getSoundIds(r),o=0;o<a.length;o++){var l=i._soundById(a[o]);if(l){if(r||i._stopFade(a[o]),i._webAudio&&!l._muted){var c=s.ctx.currentTime,d=c+n/1e3;l._volume=t,l._node.gain.setValueAtTime(t,c),l._node.gain.linearRampToValueAtTime(e,d)}i._startFadeInterval(l,t,e,n,a[o],void 0===r)}}return i},_startFadeInterval:function(t,e,n,r,i,s){var a=this,o=e,l=n-e,c=Math.abs(l/.01),d=Math.max(4,c>0?r/c:r),h=Date.now();t._fadeTo=n,t._interval=setInterval((function(){var i=(Date.now()-h)/r;h=Date.now(),o+=l*i,o=Math.round(100*o)/100,o=l<0?Math.max(n,o):Math.min(n,o),a._webAudio?t._volume=o:a.volume(o,t._id,!0),s&&(a._volume=o),(n<e&&o<=n||n>e&&o>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(n,t._id),a._emit("fade",t._id))}),d)},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(s.ctx.currentTime),clearInterval(n._interval),n._interval=null,e.volume(n._fadeTo,t),n._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;t=i[0],r._loop=t}else 2===i.length&&(t=i[0],e=parseInt(i[1],10));for(var s=r._getSoundIds(e),a=0;a<s.length;a++)(n=r._soundById(s[a]))&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(s[a])&&(r.pause(s[a],!0),r.play(s[a],!0)))));return r},rate:function(){var t,e,n,r=this,i=arguments;if(0===i.length?e=r._sounds[0]._id:1===i.length?r._getSoundIds().indexOf(i[0])>=0?e=parseInt(i[0],10):t=parseFloat(i[0]):2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10)),"number"!=typeof t)return(n=r._soundById(e))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)if(n=r._soundById(e[a])){r.playing(e[a])&&(n._rateSeek=r.seek(e[a]),n._playStart=r._webAudio?s.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,s.ctx.currentTime):n._node&&(n._node.playbackRate=t);var o=r.seek(e[a]),l=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-o)/Math.abs(n._rate);!r._endTimers[e[a]]&&n._paused||(r._clearTimer(e[a]),r._endTimers[e[a]]=setTimeout(r._ended.bind(r,n),l)),r._emit("rate",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length?n._sounds.length&&(e=n._sounds[0]._id):1===r.length?n._getSoundIds().indexOf(r[0])>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0])):2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10)),void 0===e)return 0;if("number"==typeof t&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(e);if(i){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var a=n.playing(e)?s.ctx.currentTime-i._playStart:0,o=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(o+a*Math.abs(i._rate))}return i._node.currentTime}var l=n.playing(e);l&&n.pause(e,!0),i._seek=t,i._ended=!1,n._clearTimer(e),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=t);var c=function(){l&&n.play(e,!0),n._emit("seek",e)};if(l&&!n._webAudio){var d=function(){n._playLock?setTimeout(d,0):c()};setTimeout(d,0)}else c()}return n},playing:function(t){var e=this;if("number"==typeof t){var n=e._soundById(t);return!!n&&!n._paused}for(var r=0;r<e._sounds.length;r++)if(!e._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,r=e._soundById(t);return r&&(n=e._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(s._canPlayEvent,e[n]._loadFn,!1),e[n]._node.removeEventListener("ended",e[n]._endFn,!1),s._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=s._howls.indexOf(t);r>=0&&s._howls.splice(r,1);var i=!0;for(n=0;n<s._howls.length;n++)if(s._howls[n]._src===t._src||t._src.indexOf(s._howls[n]._src)>=0){i=!1;break}return l&&i&&delete l[t._src],s.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,r){var i=this["_on"+t];return"function"==typeof e&&i.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),this},off:function(t,e,n){var r=this,i=r["_on"+t],s=0;if("number"==typeof e&&(n=e,e=null),e||n)for(s=0;s<i.length;s++){var a=n===i[s].id;if(e===i[s].fn&&a||!e&&a){i.splice(s,1);break}}else if(t)r["_on"+t]=[];else{var o=Object.keys(r);for(s=0;s<o.length;s++)0===o[s].indexOf("_on")&&Array.isArray(r[o[s]])&&(r[o[s]]=[])}return r},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var r=this,i=r["_on"+t],s=i.length-1;s>=0;s--)i[s].id&&i[s].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(r,i[s].fn),0),i[s].once&&r.off(t,i[s].fn,i[s].id));return r._loadQueue(t),r},_loadQueue:function(t){var e=this;if(e._queue.length>0){var n=e._queue[0];n.event===t&&(e._queue.shift(),e._loadQueue()),t||n.action()}return e},_ended:function(t){var e=this,n=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var r=!(!t._loop&&!e._sprite[n][2]);if(e._emit("end",t._id),!e._webAudio&&r&&e.stop(t._id,!0).play(t._id),e._webAudio&&r){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=s.ctx.currentTime;var i=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),i)}return e._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),s._autoSuspend()),e._webAudio||r||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if("function"!=typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var n=e._soundById(t);n&&n._node&&n._node.removeEventListener("ended",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new o(t)},_drain:function(){var t=this,e=t._pool,n=0,r=0;if(!(t._sounds.length<e)){for(r=0;r<t._sounds.length;r++)t._sounds[r]._ended&&n++;for(r=t._sounds.length-1;r>=0;r--){if(n<=e)return;t._sounds[r]._ended&&(t._webAudio&&t._sounds[r]._node&&t._sounds[r]._node.disconnect(0),t._sounds.splice(r,1),n--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=s.ctx.createBufferSource(),t._node.bufferSource.buffer=l[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,s.ctx.currentTime),this},_cleanBuffer:function(t){var e=s._navigator&&s._navigator.vendor.indexOf("Apple")>=0;if(!t.bufferSource)return this;if(s._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=s._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(s._navigator&&s._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(t){this._parent=t,this.init()};o.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++s._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=s._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),t._node.gain.setValueAtTime(n,s.ctx.currentTime),t._node.paused=!0,t._node.connect(s.masterGain)):s.noAudio||(t._node=s._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(s._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=e._src,t._node.preload=!0===e._preload?"auto":e._preload,t._node.volume=n*s.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++s._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(s._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,e=t._parent;e._duration===1/0&&(e._duration=Math.ceil(10*t._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var l={},c=function(t){var e=t._src;if(l[e])return t._duration=l[e].duration,void u(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);h(r.buffer,t)}else{var s=new XMLHttpRequest;s.open(t._xhr.method,e,!0),s.withCredentials=t._xhr.withCredentials,s.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){s.setRequestHeader(e,t._xhr.headers[e])})),s.onload=function(){var e=(s.status+"")[0];"0"===e||"2"===e||"3"===e?h(s.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+s.status+".")},s.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete l[e],t.load())},d(s)}},d=function(t){try{t.send()}catch(e){t.onerror()}},h=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&e._sounds.length>0?(l[e._src]=t,u(e,t)):n()};"undefined"!=typeof Promise&&1===s.ctx.decodeAudioData.length?s.ctx.decodeAudioData(t).then(r).catch(n):s.ctx.decodeAudioData(t,r,n)},u=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(s.usingWebAudio){try{"undefined"!=typeof AudioContext?s.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?s.ctx=new webkitAudioContext:s.usingWebAudio=!1}catch(t){s.usingWebAudio=!1}s.ctx||(s.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(s._navigator&&s._navigator.platform),e=s._navigator&&s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(s._navigator&&s._navigator.userAgent.toLowerCase());s._navigator&&!r&&(s.usingWebAudio=!1)}s.usingWebAudio&&(s.masterGain=void 0===s.ctx.createGain?s.ctx.createGainNode():s.ctx.createGain(),s.masterGain.gain.setValueAtTime(s._muted?0:s._volume,s.ctx.currentTime),s.masterGain.connect(s.ctx.destination)),s._setup()}};void 0===(r=function(){return{Howler:s,Howl:a}}.apply(e,[]))||(t.exports=r),e.Howler=s,e.Howl=a,void 0!==n.g?(n.g.HowlerGlobal=i,n.g.Howler=s,n.g.Howl=a,n.g.Sound=o):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=s,window.Howl=a,window.Sound=o)}(),function(){var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;n>=0;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var r=this;return r.ctx&&r.ctx.listener?(e="number"!=typeof e?r._pos[1]:e,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof t?r._pos:(r._pos=[t,e,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(t,e,n,r,i,s){var a=this;if(!a.ctx||!a.ctx.listener)return a;var o=a._orientation;return e="number"!=typeof e?o[1]:e,n="number"!=typeof n?o[2]:n,r="number"!=typeof r?o[3]:r,i="number"!=typeof i?o[4]:i,s="number"!=typeof s?o[5]:s,"number"!=typeof t?o:(a._orientation=[t,e,n,r,i,s],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,e,n,r,i,s),a)},Howl.prototype.init=(t=Howl.prototype.init,function(e){var n=this;return n._orientation=e.orientation||[1,0,0],n._stereo=e.stereo||null,n._pos=e.pos||null,n._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},n._onstereo=e.onstereo?[{fn:e.onstereo}]:[],n._onpos=e.onpos?[{fn:e.onpos}]:[],n._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var s=r._getSoundIds(n),a=0;a<s.length;a++){var o=r._soundById(s[a]);if(o){if("number"!=typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||e(o,i),"spatial"===i?void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):o._panner.setPosition(t,0,0):o._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",o._id)}}return r},Howl.prototype.pos=function(t,n,r,i){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"pos",action:function(){s.pos(t,n,r,i)}}),s;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof t)return s._pos;s._pos=[t,n,r]}for(var a=s._getSoundIds(i),o=0;o<a.length;o++){var l=s._soundById(a[o]);if(l){if("number"!=typeof t)return l._pos;l._pos=[t,n,r],l._node&&(l._panner&&!l._panner.pan||e(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(t,n,r)),s._emit("pos",l._id)}}return s},Howl.prototype.orientation=function(t,n,r,i){var s=this;if(!s._webAudio)return s;if("loaded"!==s._state)return s._queue.push({event:"orientation",action:function(){s.orientation(t,n,r,i)}}),s;if(n="number"!=typeof n?s._orientation[1]:n,r="number"!=typeof r?s._orientation[2]:r,void 0===i){if("number"!=typeof t)return s._orientation;s._orientation=[t,n,r]}for(var a=s._getSoundIds(i),o=0;o<a.length;o++){var l=s._soundById(a[o]);if(l){if("number"!=typeof t)return l._orientation;l._orientation=[t,n,r],l._node&&(l._panner||(l._pos||(l._pos=s._pos||[0,0,-.5]),e(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(t,n,r)),s._emit("orientation",l._id)}}return s},Howl.prototype.pannerAttr=function(){var t,n,r,i=this,s=arguments;if(!i._webAudio)return i;if(0===s.length)return i._pannerAttr;if(1===s.length){if("object"!=typeof s[0])return(r=i._soundById(parseInt(s[0],10)))?r._pannerAttr:i._pannerAttr;t=s[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:i._panningModel})}else 2===s.length&&(t=s[0],n=parseInt(s[1],10));for(var a=i._getSoundIds(n),o=0;o<a.length;o++)if(r=i._soundById(a[o])){var l=r._pannerAttr;l={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:l.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:l.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:l.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:l.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:l.panningModel};var c=r._panner;c||(r._pos||(r._pos=i._pos||[0,0,-.5]),e(r,"spatial"),c=r._panner),c.coneInnerAngle=l.coneInnerAngle,c.coneOuterAngle=l.coneOuterAngle,c.coneOuterGain=l.coneOuterGain,c.distanceModel=l.distanceModel,c.maxDistance=l.maxDistance,c.refDistance=l.refDistance,c.rolloffFactor=l.rolloffFactor,c.panningModel=l.panningModel}return i},Sound.prototype.init=function(t){return function(){var e=this,n=e._parent;e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this),e._stereo?n.stereo(e._stereo):e._pos&&n.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,n=e._parent;return e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,e._stereo?n.stereo(e._stereo):e._pos?n.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,n._refreshBuffer(e)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()},6411:(t,e,n)=>{var r;!function(i,s,a){if(i){for(var o,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},h={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},u=1;u<20;++u)l[111+u]="f"+u;for(u=0;u<=9;++u)l[u+96]=u.toString();y.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},y.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},y.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},y.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},y.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(b(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var n=t.composedPath()[0];n!==t.target&&(e=n)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},y.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},y.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(l[e]=t[e]);o=null},y.init=function(){var t=y(s);for(var e in t)"_"!==e.charAt(0)&&(y[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},y.init(),i.Mousetrap=y,t.exports&&(t.exports=y),void 0===(r=function(){return y}.call(e,n,e,t))||(t.exports=r)}function p(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function f(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return l[t.which]?l[t.which]:c[t.which]?c[t.which]:String.fromCharCode(t.which).toLowerCase()}function m(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function g(t,e,n){return n||(n=function(){if(!o)for(var t in o={},l)t>95&&t<112||l.hasOwnProperty(t)&&(o[l[t]]=t);return o}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function v(t,e){var n,r,i,s=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),i=0;i<n.length;++i)r=n[i],h[r]&&(r=h[r]),e&&"keypress"!=e&&d[r]&&(r=d[r],s.push("shift")),m(r)&&s.push(r);return{key:r,modifiers:s,action:e=g(r,s,e)}}function b(t,e){return null!==t&&t!==s&&(t===e||b(t.parentNode,e))}function y(t){var e=this;if(t=t||s,!(e instanceof y))return new y(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},i=!1,a=!1,o=!1;function l(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(o=!1)}function c(t,n,i,s,a,o){var l,c,d,h,u=[],p=i.type;if(!e._callbacks[t])return[];for("keyup"==p&&m(t)&&(n=[t]),l=0;l<e._callbacks[t].length;++l)if(c=e._callbacks[t][l],(s||!c.seq||r[c.seq]==c.level)&&p==c.action&&("keypress"==p&&!i.metaKey&&!i.ctrlKey||(d=n,h=c.modifiers,d.sort().join(",")===h.sort().join(",")))){var f=!s&&c.combo==a,g=s&&c.seq==s&&c.level==o;(f||g)&&e._callbacks[t].splice(l,1),u.push(c)}return u}function d(t,n,r,i){e.stopCallback(n,n.target||n.srcElement,r,i)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function h(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=f(t);n&&("keyup"!=t.type||i!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):i=!1)}function u(t,s,a,h,p){e._directMap[t+":"+a]=s;var m,g=(t=t.replace(/\s+/g," ")).split(" ");g.length>1?function(t,e,s,a){function c(e){return function(){o=e,++r[t],clearTimeout(n),n=setTimeout(l,1e3)}}function h(e){d(s,e,t),"keyup"!==a&&(i=f(e)),setTimeout(l,10)}r[t]=0;for(var p=0;p<e.length;++p){var m=p+1===e.length?h:c(a||v(e[p+1]).action);u(e[p],m,a,t,p)}}(t,g,s,a):(m=v(t,a),e._callbacks[m.key]=e._callbacks[m.key]||[],c(m.key,m.modifiers,{type:m.action},h,t,p),e._callbacks[m.key][h?"unshift":"push"]({callback:s,modifiers:m.modifiers,action:m.action,seq:h,level:p,combo:t}))}e._handleKey=function(t,e,n){var r,i=c(t,e,n),s={},h=0,u=!1;for(r=0;r<i.length;++r)i[r].seq&&(h=Math.max(h,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=h)continue;u=!0,s[i[r].seq]=1,d(i[r].callback,n,i[r].combo,i[r].seq)}else u||d(i[r].callback,n,i[r].combo);var p="keypress"==n.type&&a;n.type!=o||m(t)||p||l(s),a=u&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)u(t[r],e,n)},p(t,"keypress",h),p(t,"keydown",h),p(t,"keyup",h)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},6254:function(t){t.exports=function(){function t(t,e){var n=window.matchMedia(t);e(n.matches);var r=function(){return e(n.matches)};return n.addListener(r),function(){return n.removeListener(r)}}function e(t,e){return s[t]!==e&&(s[t]=e,o(t,e),!0)}var n="undefined"!=typeof navigator&&"undefined"!=typeof window;if(n&&"undefined"!=typeof nw)try{nw.Window.get()}catch(t){n=!1}var r=!n,i=n?navigator.userAgent:void 0,s={gui:n,terminal:r,registerQuery:t};s.node="undefined"!=typeof process&&!!process.versions&&!!process.versions.node,s.pwa=s.gui&&window.matchMedia("(display-mode: standalone)").matches&&null!==document.head.querySelector('[rel="manifest"]'),s.uwp="undefined"!=typeof Windows&&"undefined"!=typeof MSApp,s.nwjs=!(!s.node||!process.versions.nw),s.electron=!(!s.node||!process.versions.electron),s.cordova=!(!s.gui||!window.cordova),s.packaged=s.uwp||s.nwjs||s.electron||s.cordova,s.web=!s.node&&!s.packaged,s.browser=s.web,s.website=s.web&&!s.pwa,s.worker=!s.gui&&"undefined"!=typeof self&&void 0!==self.importScripts,s.serviceWorker=s.worker&&!!navigator.serviceWorker.controller||!1,s.android=!!s.gui&&i.includes("Android"),s.chromeos=!!s.gui&&i.includes("CrOS"),s.tizen=!!s.gui&&i.includes("Tizen"),s.ios=s.gui&&/iPad|iPhone|iPod/.test(i)&&!window.MSStream||!1,s.linuxBased=s.android||s.tizen,s.windows=s.node?"win32"===process.platform:i.includes("Windows"),s.macos=s.node?"darwin"===process.platform:i.includes("Macintosh"),s.linux=s.node?"linux"===process.platform:i.includes("Linux")&&!s.linuxBased&&!s.macos,s.edgeHtml=s.gui&&i.includes("Edge/"),s.edgeChromium=s.gui&&i.includes("Edg/"),s.edgeAndroid=s.gui&&i.includes("EdgA/"),s.edgeIos=s.gui&&i.includes("EdgiOS/"),s.chromeIos=s.gui&&i.includes("CriOS/"),s.firefoxIos=s.gui&&i.includes("FxiOS/"),s.edge=s.edgeHtml||s.edgeChromium||s.edgeAndroid||s.edgeIos,s.samsungBrowser=s.gui&&i.includes("SamsungBrowser/"),s.opera=s.gui&&(i.includes("Opera")||i.includes("OPR/")),s.firefox=s.gui&&(i.includes("Firefox")||s.firefoxIos),s.chrome=s.gui&&(i.includes("Chrome")||s.chromeIos)&&!s.edge&&!s.opera&&!s.samsungBrowser,s.safari=s.gui&&i.includes("Safari")&&!s.chrome&&!s.edge&&!s.firefox&&!s.opera&&!s.samsungBrowser||s.edgeIos||s.chromeIos||s.firefoxIos,s.ie=s.trident=s.gui&&i.includes("Trident"),s.blink=s.chrome&&!s.chromeIos||s.edgeChromium||s.edgeAndroid||s.samsungBrowser,s.webkit=s.blink||s.safari,s.gecko=s.firefox&&!s.firefoxIos&&!s.webkit&&!s.safari;var a={};s.on=function(t,e){a[t]=a[t]||new Set,a[t].add(e)},s.off=s.removeListener=function(t,e){a[t]&&a[t].delete(e)};var o=s.emit=function(t,e){a[t]&&a[t].forEach((function(t){return t(e)}))};if(s.gui){s.pixelRatio=parseFloat(window.devicePixelRatio.toFixed(2)),s.gameconsole=i.includes("Xbox")||i.includes("PlayStation");var l=0;if(window.addEventListener("gamepadconnected",(function(t){return l++})),window.addEventListener("gamepaddisconnected",(function(t){return l--})),s.gameconsole)s.gamepad=!0,s.mouse=!0,s.touch=!1,s.tv=!0,s.battery=!1,s.phone=s.tablet=s.hybrid=s.laptop=s.desktop=!1,s.formfactor="gameconsole";else{var c=function(){e("tv","tv"===s.formfactor),e("phone","phone"===s.formfactor),e("tablet","tablet"===s.formfactor),e("hybrid","hybrid"===s.formfactor),e("laptop","laptop"===s.formfactor),e("desktop","desktop"===s.formfactor)},d=function(){var t=Math.min(window.screen.width,window.screen.height);return s.tv?"tv":s.touch&&t<600?"phone":s.touch&&!s.mouse?"tablet":s.touch&&s.mouse?"hybrid":s.battery?"laptop":"desktop"};s.touch=navigator.maxTouchPoints>0,s.tv=i.includes("TV"),l=navigator.getGamepads?Array.from(navigator.getGamepads()).filter((function(t){return null!=t})).length:0,s.gamepad=l>0,t("(orientation: portrait)",(function(t){s.portrait=t,s.landscape=!t,s.orientation=t?"portrait":"landscape",o("portrait",s.portrait),o("landscape",s.landscape),o("orientation",s.orientation)})),t("(any-pointer: coarse)",(function(t){e("touch",t),e("formfactor",d())&&c()})),t("(hover: hover)",(function(t){e("mouse",t),e("input",t?"mouse":"touch"),e("formfactor",d())&&c()}))}}return s.csp=s.uwp||!1,s.nwjs?s.dev="sdk"===process.versions["nw-flavor"]:s.electron?s.dev=process.execPath.replace(/\\/g,"/").includes("node_modules/electron/"):s.uwp?s.dev=Windows.ApplicationModel.Package.current.isDevelopmentMode:s.node?s.dev=!1:s.dev=void 0,s}()},7391:(t,e,n)=>{var r=n(7180),i=n(3181),s=n(3031),a=n(9067),o=n(6833),l=n(3717),c=n(4801);c.alea=r,c.xor128=i,c.xorwow=s,c.xorshift7=a,c.xor4096=o,c.tychei=l,t.exports=c},7180:function(t,e,n){var r;!function(t,i,s){function a(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function o(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function l(t,e){var n=new a(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.alea=l}(0,t=n.nmd(t),n.amdD)},3717:function(t,e,n){var r;!function(t,i,s){function a(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function l(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.tychei=l}(0,t=n.nmd(t),n.amdD)},3181:function(t,e,n){var r;!function(t,i,s){function a(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function l(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.xor128=l}(0,t=n.nmd(t),n.amdD)},6833:function(t,e,n){var r;!function(t,i,s){function a(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,s=e.i;return e.w=r=r+1640531527|0,n=i[s+34&127],t=i[s=s+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[s]=n^t,e.i=s,n+(r^r>>>16)|0},function(t,e){var n,r,i,s,a,o=[],l=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,l=Math.max(l,e.length)),i=0,s=-32;s<l;++s)e&&(r^=e.charCodeAt((s+32)%e.length)),0===s&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,s>=0&&(a=a+1640531527|0,i=0==(n=o[127&s]^=r+a)?i+1:0);for(i>=128&&(o[127&(e&&e.length||0)]=-1),i=127,s=512;s>0;--s)r=o[i+34&127],n=o[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,o[i]=r^n;t.w=a,t.X=o,t.i=i}(e,t)}function o(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function l(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.X&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.xor4096=l}(0,t=n.nmd(t),n.amdD)},9067:function(t,e,n){var r;!function(t,i,s){function a(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function o(t,e){return e.x=t.x.slice(),e.i=t.i,e}function l(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.x&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.xorshift7=l}(0,t=n.nmd(t),n.amdD)},3031:function(t,e,n){var r;!function(t,i,s){function a(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function l(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(e,n,e,i))||(i.exports=r):this.xorwow=l}(0,t=n.nmd(t),n.amdD)},4801:(t,e,n)=>{var r;!function(i,s){var a,o=(0,eval)("this"),l=256,c="random",d=s.pow(l,6),h=s.pow(2,52),u=2*h,p=l-1;function f(t,e,n){var r=[],p=b(v((e=1==e?{entropy:!0}:e||{}).entropy?[t,y(i)]:null==t?function(){try{var t;return a&&(t=a.randomBytes)?t=t(l):(t=new Uint8Array(l),(o.crypto||o.msCrypto).getRandomValues(t)),y(t)}catch(t){var e=o.navigator,n=e&&e.plugins;return[+new Date,o,n,o.screen,y(i)]}}():t,3),r),f=new m(r),_=function(){for(var t=f.g(6),e=d,n=0;t<h;)t=(t+n)*l,e*=l,n=f.g(1);for(;t>=u;)t/=2,e/=2,n>>>=1;return(t+n)/e};return _.int32=function(){return 0|f.g(4)},_.quick=function(){return f.g(4)/4294967296},_.double=_,b(y(f.S),i),(e.pass||n||function(t,e,n,r){return r&&(r.S&&g(r,f),t.state=function(){return g(f,{})}),n?(s[c]=t,e):t})(_,p,"global"in e?e.global:this==s,e.state)}function m(t){var e,n=t.length,r=this,i=0,s=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<l;)a[i]=i++;for(i=0;i<l;i++)a[i]=a[s=p&s+t[i%n]+(e=a[i])],a[s]=e;(r.g=function(t){for(var e,n=0,i=r.i,s=r.j,a=r.S;t--;)e=a[i=p&i+1],n=n*l+a[p&(a[i]=a[s=p&s+e])+(a[s]=e)];return r.i=i,r.j=s,n})(l)}function g(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function v(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)try{r.push(v(t[n],e-1))}catch(t){}return r.length?r:"string"==i?t:t+"\0"}function b(t,e){for(var n,r=t+"",i=0;i<r.length;)e[p&i]=p&(n^=19*e[p&i])+r.charCodeAt(i++);return y(e)}function y(t){return String.fromCharCode.apply(0,t)}if(s["seed"+c]=f,b(s.random(),i),t.exports){t.exports=f;try{a=n(1234)}catch(t){}}else void 0===(r=function(){return f}.call(e,n,e,t))||(t.exports=r)}([],Math)},3184:(t,e,n)=>{n(7391);var r=n(2287);t.exports=r},2287:function(t){(function(){var e={};Math.seedrandom&&(seedrandom=Math.seedrandom);var n=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(t){return/(number|string)/i.test(Object.prototype.toString.call(t).match(/^\[object (.*)\]$/)[1])?t:isNaN(t)?Number(String(this.strSeed=t).split("").map((function(t){return t.charCodeAt(0)})).join("")):t},i=function(t,e,n){return Math.floor(t()*(n-e+1))+e};e.shuffle=function(t,e){if(!n(t))return null;e=r(e)||"none";for(var s=t.length,a=seedrandom(e),o=[],l=[],c=0;c<s;c++)l.push(c);for(c=0;c<s;c++){var d=i(a,0,l.length-1),h=l[d];l.splice(d,1),o.push(t[h])}return o},e.unshuffle=function(t,e){if(!n(t))return null;e=r(e)||"none";for(var s=t.length,a=seedrandom(e),o=[],l=[],c=0;c<s;c++)o.push(null),l.push(c);for(c=0;c<s;c++){var d=i(a,0,l.length-1),h=l[d];l.splice(d,1),o[h]=t[c]}return o},t.exports=e}).call(this)},4648:(t,e,n)=>{n.d(e,{LT:()=>a});var r=n(2844),i=n(7738),s=n(1634);const a={...r,...n(3191),...i,...n(1570),...n(7066),...n(8511),...s,utils:{logger:n(7484).A}}},7738:(t,e,n)=>{n.r(e),n.d(e,{activity:()=>a,activityId:()=>o,activitySubTitle:()=>d,activityTags:()=>h,activityTemplateId:()=>l,activityTitle:()=>c,adaptiveType:()=>u,annotationsConfig:()=>p,autoSaveConfig:()=>f,elapsedTime:()=>m,hasActivityTemplate:()=>g,hasAnnotations:()=>v,hasAutoSave:()=>b,hasEvents:()=>_,hasItemPool:()=>A,hasResourceItems:()=>w,hasSections:()=>x,hasShuffledItems:()=>y,hasTryAgain:()=>E,isAdaptive:()=>S,isResuming:()=>T,itemBank:()=>C,itemPool:()=>k,maxTime:()=>M,region:()=>I,resourceItems:()=>R,sessionId:()=>P,state:()=>D,timeRemaining:()=>L,totalItems:()=>F,userId:()=>O});var r=n(2844),i=n(8511),s=n(7484);function a(){return r.appInstance().getActivity()}function o(){return a().activity_id}function l(){return a().activity_template_id}function c(){return a().config.title}function d(){return a().config.subtitle}function h(){return r.appInstance().getTags()}function u(){return S()&&a().adaptive.hasOwnProperty("type")?a().adaptive.type:""}function p(){return v()&&a()?.config?.annotations_api_init_options?a().config.annotations_api_init_options:{}}function f(){const t=a();return t?.config?.navigation?.auto_save?t.config.navigation.auto_save:{}}function m(){return r.appInstance().getTime()}function g(){return a().hasOwnProperty("activity_template_id")}function v(){const t=a();return Boolean(!0===t?.config?.annotations||t?.config?.annotations_api_init_options)}function b(){const t=a();return t.hasOwnProperty("config")&&t.config.hasOwnProperty("navigation")&&t.config.navigation.hasOwnProperty("auto_save")&&!1!==t.config.navigation.auto_save}function y(){return Boolean(a()?.config?.configuration?.shuffle_items)}function _(){const t=a();return t.hasOwnProperty("events")&&!1!==t.events}function A(){return a().hasOwnProperty("item_pool_id")}function w(){return Boolean(a()?.config?.navigation?.resource_items)}function x(){return a().hasOwnProperty("sections")}function E(){return a()?.dynamic_items.hasOwnProperty("try_again")}function S(){return a().hasOwnProperty("adaptive")}function T(){return a().existing_session}function C(){return a()?.organisation_id}function k(){return a()?.item_pool_id}function M(){return a()?.config?.time?.max_time?a().config.time.max_time:0}function I(){return a()?.config?.regions}function R(){return a()?.config?.navigation?.resource_items}function P(){return a()?.session_id}function D(){let t;return t=void 0===a()?.state?"initial":a().state,t}function L(){return 0===M()?null:M()-m()}function F(){if(x()){let t=0,e=i.sections();for(let n=0;n<e.length;n++)t+=e[n].items.length;return t}return S()?a().hasOwnProperty("items")?a().items.length:(s.A.info("This is an adaptive session, no items array found"),0):a().items.length}function O(){return a()?.user_id}},2844:(t,e,n)=>{n.r(e),n.d(e,{annotationsApp:()=>l,appInstance:()=>o,assessApp:()=>c,eventsApp:()=>d,init:()=>a,questionsApp:()=>h});var r=n(1634),i=n(7066);const s={};function a(t){s.app=t,s.app.on("all",(t=>{(0,r.handleEvent)(t)})),s.app.on("item:load",(t=>{(0,i.questionResponseIds)().forEach((t=>{s.app.question(t).on("changed",(t=>{(0,r.handleEvent)("changed")}))}))}))}function o(){return s.app}function l(){return void 0!==o().annotationsApp()?o().annotationsApp():null}function c(){return o().assessApp()}function d(){return o().eventsApp()}function h(){return o().questionsApp()}},1634:(t,e,n)=>{n.r(e),n.d(e,{diagnostics:()=>l,filterEvent:()=>c,handleEvent:()=>d,listen:()=>h});var r=n(2844),i=n(7738),s=n(7484);const a="2.9.2",o={events:{broadcast:!1,listenFor:"item"}};function l(){let t=window.LearnosityApp?LearnosityApp.versions:{};return{apps:{annotations:{app:r.annotationsApp(),config:i.annotationsConfig(),enabled:i.hasAnnotations()},assess:{app:r.assessApp()},events:{app:r.eventsApp(),enabled:i.hasEvents()},items:{app:r.appInstance(),metadata:i.activity().config.metadata},questions:{app:r.questionsApp()}},activity:{activity:i.activityId(),activityTemplate:i.activityTemplateId(),autoSave:{config:i.autoSaveConfig(),enabled:i.hasAutoSave()},itemBank:i.itemBank(),itemPool:i.itemPool(),session:i.sessionId(),state:i.state(),type:i.activity().type,user:i.userId()},LT:{version:a},versions:t}}function c(t){/^[a-zA-Z:*]*$/.test(t)?o.events.listenFor=t:s.A.warn("Invalid event type")}function d(t){if(o.events.broadcast){const e=o.events.listenFor,n=e.replaceAll("*","");1===e.length&&"*"===e||"all"===e?s.A.info(t):e.startsWith("*")&&!e.endsWith("*")?t.endsWith(n)&&s.A.info(t):e.endsWith("*")&&!e.startsWith("*")?t.startsWith(n)&&s.A.info(t):e.startsWith("*")&&e.endsWith("*")?t.includes(n)&&s.A.info(t):t.startsWith(n)&&s.A.info(t)}}function h(t=!0){o.events.broadcast=Boolean(t),Boolean(t)?s.A.info(` listening for '${o.events.listenFor}'`):s.A.info(" not listening")}},3191:(t,e,n)=>{n.r(e),n.d(e,{dynamic:()=>o,flag:()=>l,isDynamicItem:()=>c,isFirstItem:()=>d,isFlagged:()=>u,isItemFullyAttempted:()=>p,isLastItem:()=>h,isMaskingEnabled:()=>f,item:()=>m,itemAttemptStatus:()=>g,itemByResponseId:()=>v,itemElement:()=>b,itemPosition:()=>y,itemReference:()=>_,itemTags:()=>A});var r=n(2844),i=n(7738),s=n(7066),a=n(8511);function o(){const t=_();return r.assessApp().item(t).dynamic||{}}function l(){const t=_();r.assessApp().item(t).flag()}function c(){return m()?.source.hasOwnProperty("data_table_seed")}function d(){let t;return i.hasSections()?(t="object"==typeof a.sections()[0].items[0]?a.sections()[0].items[0].reference:a.sections()[0].items[0],t===m().reference):(t="object"==typeof i.activity().items[0]?i.activity().items[0].reference:i.activity().items[0],t===m().reference)}function h(){return m().is_last_item}function u(){return m().user_flagged}function p(t){let e,n,i;if(e=t?r.appInstance().getItems()[t].questions:s.questions(),Array.isArray(e)&&e.length)for(let t=0;t<e.length;t++){let r=e[t];if(i=s.questionResponse(r.response_id),!i)return!1;if(r.hasOwnProperty("metadata")&&r.metadata.hasOwnProperty("valid_response_count")&&Array.isArray(i.value)){if(i.value.filter((t=>void 0===t)).length)return!1;if(i.value.filter((t=>null===t)).length)return!1}n=!0}else n=!0;return n}function f(){return Boolean(document.querySelector(".lrn-masking"))}function m(t){return t?r.appInstance().getItems()[t]:r.appInstance().getCurrentItem()}function g(){return r.appInstance().getCurrentItem().attempt_status}function v(t){const e=r.appInstance().getItems();let n;for(const r in e)if(e[r].response_ids.includes(t)){n=e[r];break}return n}function b(){return document.querySelector(`div[data-reference='${_()}']`)}function y(){return r.appInstance().assessApp().getItemPosition(_())+1}function _(){return r.appInstance().getCurrentItem().reference}function A(t){return r.appInstance().getTags()[t||_()]||[]}},1570:(t,e,n)=>{n.r(e),n.d(e,{dialog:()=>a,hideDialog:()=>o,isResponsiveMode:()=>l,isReviewScreen:()=>c,navigate:()=>d,next:()=>h,previous:()=>u,review:()=>p,submit:()=>f});var r=n(2844),i=n(3191),s=n(7484);function a(t){r.assessApp().dialogs().custom.show(t)}function o(){r.assessApp().dialogs().custom.hide()}function l(){return Boolean(document.querySelector(".has-menu-region"))}function c(){let t=!1;setTimeout((()=>(null===document.getElementsByClassName("review-screen")[0].getAttribute("aria-hidden")&&(t=!0),t)),500)}function d(t){switch(t){case"previous":r.appInstance().items().previous();break;case"next":i.isLastItem()||r.appInstance().items().next();break;case"review":null===document.getElementsByClassName("review-screen")[0].getAttribute("aria-hidden")?r.appInstance().dialogs().reviewScreen.hide():r.appInstance().dialogs().reviewScreen.show();break;case"submit":let e={show_submit_confirmation:!0,show_submit_ui:!0,success:function(t){alert("Test saved!")},error:function(t){alert("Test submit failed...check browser log"),console.log("Submission failed: ",t)}};r.appInstance().submit(e);break;default:"number"==typeof Number(t)&&Number(t)>=0?r.appInstance().items().goto(Number(t)):s.A.warn(`Invalid target (${t})`)}}function h(){d("next")}function u(){d("previous")}function p(){d("review")}function f(){d("submit")}},7066:(t,e,n)=>{n.r(e),n.d(e,{question:()=>a,questionInstance:()=>o,questionResponse:()=>c,questionResponseIds:()=>d,questionScore:()=>h,questions:()=>l});var r=n(2844),i=n(3191),s=n(7484);function a(t){let e=t||d()[0];return e?r.appInstance().question(e).getQuestion():(s.A.error(`Question not found (index ${e})`),{})}function o(t){let e=t||d()[0];return e?r.appInstance().question(e):{}}function l(){return i.item().questions}function c(t){let e=t||d()[0];return e?function(t){return r.appInstance().question(t)?r.appInstance().question(t).getResponse():void s.A.error(`Response not found ${t}`)}(e):{}}function d(){return l().map((t=>t.response_id))}function h(t){let e=t||d()[0];return e&&r.appInstance().getScores()[e]||{}}},8511:(t,e,n)=>{n.r(e),n.d(e,{isFirstItemInSection:()=>s,isLastItemInSection:()=>a,section:()=>o,sectionHasShuffledItems:()=>l,sectionIndex:()=>c,sectionItemPosition:()=>d,sections:()=>h,totalItemsInSection:()=>u});var r=n(7738),i=n(3191);function s(){return 1===d()}function a(){return d()===u()}function o(){if(r.hasSections()){const t=i.itemReference(),e=h();let n=-1,r=!1;for(let i=0;i<e.length&&!r;i++){++n;for(let n=0;n<e[i].items.length;n++)if(t===e[i].items[n].reference){r=!0;break}}return h()[n]}return{}}function l(){return Boolean(o()?.config?.configuration?.shuffle_items)}function c(){if(r.hasSections()){const t=i.itemReference(),e=e();let n=0,r=!1;for(let i=0;i<e.length&&!r;i++){++n;for(let n=0;n<e[i].items.length;n++)if(t===e[i].items[n].reference){r=!0;break}}return n}return 0}function d(){const t=i.itemReference(),e=o();let n=0;if(!Object.keys(e).length)return null;for(let r=0;r<e.items.length&&(++n,t!==e.items[r].reference);r++);return n}function h(){return r.hasSections()?r.activity().sections:[]}function u(){return o()?.items?.length||null}},4029:(t,e,n)=>{n.r(e),n.d(e,{run:()=>s});var r=n(2844),i=n(7738);function s(){r.appInstance().on("item:load",(()=>{let t=i.totalItems(),e=Array.from(document.getElementsByClassName("item-prev")),n=Array.from(document.getElementsByClassName("item-next")),r=e.concat(n);for(let e=0;e<r.length;e++){let n=r[e].getAttribute("aria-label");r[e].setAttribute("aria-live",n+" of "+t)}}))}},2519:(t,e,n)=>{n.r(e),n.d(e,{run:()=>a});var r=n(2844),i=n(3191);const s={renderedCss:!1,resize:{triggered:!1}};function a(){s.renderedCss||function(){const t=document.createElement("style");t.textContent="\n/* Learnosity column resizer styles */\n.lrn-resizer {\n    background-color: #e8e8e8;\n    cursor: grab;\n    width: 3px;\n    padding: 0;\n    position: relative;\n}\n.lrn-resizer span {\n    position: relative;\n    width: 45px;\n    height: 30px;\n    border: 1px solid #e4e4e4;\n    left: -22px;\n    border-radius: 3px;\n    cursor: grab;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 1.5em;\n    z-index: 2;\n    padding-bottom: 3px;\n    color: #444;\n\n    -webkit-user-select: none;\n    user-select: none;\n\n    background: rgb(233,233,233);\n    background: linear-gradient(0deg, rgba(233,233,233,1) 0%, rgba(250,250,250,1) 51%, rgba(238,238,238,1) 100%);\n}\n.row {\n    display: flex;\n}\n.col-xs-6.lrn-column-left {\n    display: flex;\n    min-width: 5em;\n    overflow: hidden;\n}\n.col-xs-6.lrn-column-right {\n    display: flex;\n\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    min-width: 5em;\n    overflow: hidden;\n}\n.lrn-column-left .lrn_widget,\n.lrn-column-right .lrn_widget {\n    padding: 1.5em;\n}\n@media (max-width: 650px) {\n    .lrn-resizer {\n        display: none;\n    }\n}\n",document.head.append(t),s.renderedCss=!0}(),r.appInstance().on("item:load",(()=>{o()})),window.addEventListener("resize",function(t,e){let n;return s.resize.triggered||(s.resize.triggered=!0,t.apply(this)),(...e)=>{clearTimeout(n),n=setTimeout((()=>{s.resize.triggered=!1,t.apply(this,e)}),250)}}(o))}function o(){let t=i.itemElement(),e=t.querySelectorAll('[class^="col-"]'),n=Boolean(t.querySelector(".lrn-resizer")),r=Boolean(document.querySelector(".lrn-layout-single-column"));if(2===e.length){if(r||n)r&&n&&function(t,e){let n=t.querySelector(".lrn-resizer");n&&n.remove(),e[0].removeAttribute("style"),window.dispatchEvent(new Event("resize"))}(t,e);else{let t=document.createElement("div");t.setAttribute("tooltip","Click and hold to drag column width");let n=document.createElement("span");n.innerHTML=" ",t.classList.add("lrn-resizer"),e[0].classList.add("lrn-column-left"),e[1].classList.add("lrn-column-right"),t.append(n),e[0].after(t)}!function(t){let e=t.querySelector(".lrn-resizer");e&&function(t){const e=t.previousElementSibling;let n=0,r=0;const i=t=>{n=t instanceof MouseEvent?t.clientX:t.targetTouches[0].clientX;const i=e.getBoundingClientRect();r=i.width,document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),document.addEventListener("touchmove",s),document.addEventListener("touchend",a)},s=i=>{let s;s=i instanceof MouseEvent?i.clientX-n:i.targetTouches[0].clientX-n;const a=100*(r+s)/t.parentNode.getBoundingClientRect().width;a>=10&&a<=90&&(e.style.width=a+"%")},a=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",a)};t.addEventListener("mousedown",i),t.addEventListener("touchstart",i)}(e)}(t)}}},1499:(t,e,n)=>{n.r(e),n.d(e,{run:()=>a});var r=n(2844),i=n(7066),s=n(3184);function a(t){let e=t||1,n="LRN Hide Alternatives:";r.appInstance().on("item:load",(()=>{let t=i.questions();Object.values(t).forEach((function(t){if("mcq"===t.type)if(function(t){return!t.multiple_responses||!1===t.multiple_responses}(t))if(function(t,e){return t.options.length-e>1}(t,e))if(function(t){return"validation"in t&&t.validation}(t))if(r=t.validation,Boolean(r.valid_response.value&&r.valid_response.value.length)){let n=[],r=function(t){return t.valid_response.value}(t.validation);Object.values(r).forEach((function(e){Object.values(t.options).forEach((function(t){e!==t.value&&n.push(t.value)}))}));let i=[];for(let r=0;r<e;r++)i.push(s.shuffle(n,t.response_id)[r]);let a=document.getElementById(t.response_id).getElementsByClassName("lrn_mcqgroup");for(let t=0;t<a[0].children.length;t++){let e=a[0].children[t].getElementsByClassName("lrn-input");for(const n of i)e[0].getAttribute("value")===n&&(a[0].children[t].style.display="none")}}else console.info(n,"No correct answer found in validation object");else console.info(n," No validation object found");else console.info(n,"Invalid number of options to hide:",e);else console.info(n,"Only supports single response mode");var r}))}))}},4163:(t,e,n)=>{n.r(e),n.d(e,{run:()=>c});var r=n(2844),i=n(3191),s=n(7066),a=n(6254),o=n(6411);const l={supportedPlatforms:["chromeos","macos","windows"]};function c(t={global:[{bindings:{chromeos:["ctrl+shift+v"],macos:["command+shift+v"],windows:["ctrl+shift+v"]},type:"item.flag"},{bindings:{chromeos:["ctrl+alt+0"],macos:["command+option+0"],windows:["ctrl+alt+0"]},type:"masking.enable"}],item:[{bindings:{chromeos:["ctrl+shift+1","ctrl+shift+2","ctrl+shift+3","ctrl+shift+4","ctrl+shift+5","ctrl+shift+6"],macos:["command+ctrl+1","command+ctrl+2","command+ctrl+3","command+ctrl+4","command+ctrl+5","command+ctrl+6"],windows:["ctrl+shift+1","ctrl+shift+2","ctrl+shift+3","ctrl+shift+4","ctrl+shift+5","ctrl+shift+6"]},restrictTo:["mcq"],type:"response.set"},{bindings:{chromeos:["ctrl+alt+1","ctrl+alt+2","ctrl+alt+3","ctrl+alt+4","ctrl+alt+5","ctrl+alt+6"],macos:["command+option+1","command+option+2","command+option+3","command+option+4","command+option+5","command+option+6"],windows:["ctrl+alt+1","ctrl+alt+2","ctrl+alt+3","ctrl+alt+4","ctrl+alt+5","ctrl+alt+6"]},type:"response.mask"}]}){const e=function(){let t;return l.supportedPlatforms.forEach((e=>{a[e]&&(t=e)})),t}();l.bindings=t,e&&(o.prototype.stopCallback=function(t,e,n){let r=document.activeElement;return"radio"!==r.getAttribute("type")&&"checkbox"!==r.getAttribute("type")&&!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.contentEditable&&"true"==e.contentEditable)},l.bindings.hasOwnProperty("global")&&Array.isArray(l.bindings.global)&&l.bindings.global.forEach((t=>{if(t.hasOwnProperty("type"))switch(t.type){case"item.flag":n=t.bindings[e],o.bind(n,((t,e)=>{i.flag()}));break;case"masking.enable":!function(t){s.questionInstance().isMaskable()&&o.bind(t,(t=>{r.appInstance().questionsApp().masking(!i.isMaskingEnabled())}))}(t.bindings[e])}var n})),l.bindings.hasOwnProperty("item")&&Array.isArray(l.bindings.item)&&r.appInstance().on("item:load",(()=>{l.bindings.item.forEach((t=>{if(t.hasOwnProperty("type"))switch(t.type){case"response.mask":!function(t){let e=s.questions(),n=0;e.forEach((t=>{"mcq"===t.type&&n++})),1===n&&Object.values(e).forEach((function(e){"mcq"===e.type&&o.bind(t,((t,n)=>{if(i.isMaskingEnabled()){let t=Number(n.at(-1));if(e.options?.length>=t){let e=i.itemElement().querySelectorAll(".lrn-mcq-option")[t-1].querySelector(".lrn-mask");e&&e.click()}}}))}))}(t.bindings[e]);break;case"response.set":!function(t){let e=s.questions(),n=0;e.forEach((t=>{"mcq"===t.type&&n++})),1===n&&Object.values(e).forEach((function(e){"mcq"===e.type&&o.bind(t,(t=>{e.options?.length>=t.key&&document.getElementById(`${e.response_id}`).querySelectorAll(".lrn-input")[t.key-1].click()}))}))}(t.bindings[e])}}))})))}},3835:(t,e,n)=>{n.r(e),n.d(e,{run:()=>s});var r=n(2844),i=n(3191);function s(t,e="lrn__magnifier"){t||(t={zoom:4,shape:"square",width:350,height:350});const n=document.querySelectorAll(`.${e}`),s=new a(t);n.forEach((t=>{t.addEventListener("click",(()=>{s.toggle()}))})),r.appInstance().on("item:load",function(t){let e=i.itemElement().querySelectorAll("img");e&&e.forEach((e=>{e.addEventListener("click",(e=>{t.isVisible()||t.show(e)}))}))}(s))}function a(t){const e=this;e.options=Object.assign({zoom:2,shape:"square",width:200,height:200},t),window.MutationObserver||window.WebKitMutationObserver;let n,r,i,s,a,o=!1,l={};function c(t,e,n){t.style.left=`${e}px`,t.style.top=`${n}px`}function d(t,e,n){t.style.width=`${e}px`,t.style.height=`${n}px`}function h(){switch(e.options.shape){case"square":d(n,e.options.width,e.options.height);break;case"circle":d(n,e.options.width,e.options.height),n.style.borderRadius="50%"}r.style.WebkitTransform=r.style.MozTransform=r.style.OTransform=r.style.MsTransform=r.style.transform=`scale(${e.options.zoom})`}function u(t,e){let n=e;for(;null!=n;){if(n==t)return!0;n=n.parentNode}return!1}function p(){o&&(y(),v(),A())}function f(){o&&(window.clearTimeout(s),s=window.setTimeout(p,100))}function m(){o&&f()}function g(t,n){const r=l[t];if(r)for(let t=0;t<r.length;t++)r[t].call(e,n)}function v(){const t=n.offsetLeft,i=n.offsetTop,s=document.body.scrollLeft,o=document.body.scrollTop,l=-t*e.options.zoom-s*e.options.zoom,d=-i*e.options.zoom-o*e.options.zoom;c(r,l,d),g("viewPortChanged",a)}function b(t,e){const n=t.querySelectorAll(e);if(n.length>0)for(let t=0;t<n.length;t++)n[t].parentNode.removeChild(n[t])}function y(){r.innerHTML="";const t=document.body,e=t.cloneNode(!0),i=t.style.backgroundColor;i&&n.css("background-color",i),e.style.cursor="auto",e.style.paddingTop="0px",e.setAttribute("unselectable","on");const s=t.querySelectorAll("canvas"),o=e.querySelectorAll("canvas");if(s.length>0&&s.length===o.length)for(let t=0;t<s.length;t++)o[t].getContext("2d").drawImage(s[t],0,0);b(e,"script"),b(e,"audio"),b(e,"video"),b(e,".magnifier"),g("prepareContent",e),r.appendChild(e);const l=document.body.clientWidth,c=document.body.clientHeight;d(r,l,c),a=r.querySelector("body"),g("contentUpdated",a)}function _(t){const e=[];if(t.getAttribute){t.getAttribute("id")&&e.push("#"+t.getAttribute("id")),t.className&&e.push("."+t.className.split(" ").join("."));for(let n=0;n<e.length;n++){let r=a.querySelectorAll(e[n]);if(1==r.length)return r[0].scrollTop=t.scrollTop,r[0].scrollLeft=t.scrollLeft,!0}}else t==document&&v();return!1}function A(t){if(o){if(t&&t.target)_(t.target);else{let t=[],e=document.querySelectorAll("div");for(let n=0;n<e.length;n++)e[n].scrollTop>0&&t.push(e[n]);for(let e=0;e<t.length;e++)u(n,t[e])||_(t[e])}g("syncScrollBars",a)}}return document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.isVisible()&&e.hide()})),e.setZoom=function(t){e.options.zoom=t,h()},e.setShape=function(t,n,r){e.options.shape=t,n&&(e.options.width=n),r&&(e.options.height=r),h()},e.setWidth=function(t){e.options.width=t,h()},e.setHeight=function(t){e.options.height=t,h()},e.getZoom=function(){return e.options.zoom},e.getShape=function(){return e.options.shape},e.getWidth=function(){return e.options.width},e.getHeight=function(){return e.options.height},e.isVisible=function(){return o},e.on=function(t,e){l[t]=l[t]||[],l[t].push(e)},e.syncScrollBars=function(t){A()},e.syncContent=function(t){f()},e.hide=function(t){i&&(i.disconnect(),i=null),document.removeEventListener&&(document.removeEventListener("DOMNodeInserted",m,!1),document.removeEventListener("DOMNodeRemoved",m,!1)),r.innerHTML="",n.style.display="none",o=!1},e.show=function(t){let e,r;t?(e=t.pageX-175,r=t.pageY-175):(e=200,r=200),h(),y(),c(n,e,r),n.style.display="",v(),A(),g("initScrollBars",a),o=!0},e.toggle=function(t){e.isVisible()?e.hide():e.show()},function(){const t=document.createElement("div");t.innerHTML='<div class="magnifier" style="display: none;position: fixed;overflow: hidden;background-color: white;border: 1px solid #555;border-radius: 4px;z-index:10000;">\n                                <div class="magnifier-content" style="top: 0px;left: 0px;margin-left: 0px;margin-top: 0px;overflow: visible;position: absolute;display: block;transform-origin: left top;-moz-transform-origin: left top;-ms-transform-origin: left top;-webkit-transform-origin: left top;-o-transform-origin: left top;user-select: none;-moz-user-select: none;-webkit-user-select: none;padding-top: 0px"></div>\n                                <div class="magnifier-glass" style="position: absolute;top: 0px;left: 0px;width: 100%;height: 100%;opacity: 0.0;-ms-filter: alpha(opacity=0);background-color: white;cursor: move;"></div>\n                            </div>',n=t.querySelector(".magnifier"),document.body.appendChild(n),r=n.querySelector(".magnifier-content"),window.addEventListener&&(window.addEventListener("resize",p,!1),window.addEventListener("scroll",A,!0)),function(t,e){let n,r,i,s,a=null,o=null;function l(o){const l=o.target||o.srcElement,c=l.parentNode;if(l&&-1==e.exclude.indexOf(l.tagName.toUpperCase())&&(!c||-1==e.exclude.indexOf(c.tagName.toUpperCase()))){a=t;const e=o.pageX||o.touches[0].pageX,l=o.pageY||o.touches[0].pageY;i=a.getBoundingClientRect().left-a.offsetLeft,s=a.getBoundingClientRect().top-a.offsetTop,r=e-(a.getBoundingClientRect().left+document.body.scrollLeft),n=l-(a.getBoundingClientRect().top+document.body.scrollTop),o.preventDefault()}}function c(t){if(null!==a){const o=t.pageX||t.touches[0].pageX,l=t.pageY||t.touches[0].pageY,c=o-r-i-document.body.scrollLeft,d=l-n-s-document.body.scrollTop;!function(t,e,n){t.style.left=`${e}px`,t.style.top=`${n}px`}(a,c,d),e.ondrag&&e.ondrag.call(t)}}function d(t){null!==a&&(a=null)}(e=e||{}).exclude=["INPUT","TEXTAREA","SELECT","A","BUTTON"],o=e.handler?t.querySelector(e.handler):t,t.style.cursor="move",o.addEventListener("mousedown",(function(t){l(t)})),window.addEventListener("mousemove",(function(t){c(t)})),window.addEventListener("mouseup",(function(t){d()})),o.addEventListener("touchstart",(function(t){l(t)})),window.addEventListener("touchmove",(function(t){c(t)})),window.addEventListener("touchend",(function(t){d()}))}(n,{ondrag:v})}(),e}},5220:(t,e,n)=>{n.r(e),n.d(e,{run:()=>o});var r=n(2844),i=n(7484),s=n(7066);const a={chosenMask:"upperAlpha",prefixMask:{lowerAlpha:97,upperAlpha:65,numeric:49},explicitPrefixes:[],renderedCss:!1,suffix:"."};function o(t="upperAlpha",e=".",n){a.prefixMask.hasOwnProperty(t)&&(a.chosenMask=t),e&&"string"==typeof e&&(a.suffix=e),n&&Array.isArray(n)&&(a.explicitPrefixes=n),a.renderedCss||function(){const t=document.createElement("style");t.textContent="\n/* Learnosity MCQ label prefix styles */\n.lrn-prefix-label {\n    padding-right: 15px;\n    font-weight: 500;\n}\n@media (max-width: 750px) {\n    .lrn-prefix-label {\n        padding-right: 10px;\n    }\n}\n@media (max-width: 650px) {\n    .lrn-prefix-label {\n        padding-right: 5px;\n    }\n}\n",document.head.append(t),a.renderedCss=!0}(),r.appInstance().on("item:load",(()=>{!function(t){const e=a.prefixMask[a.chosenMask],n=a.suffix;try{for(let r of t)if("mcq"===r.type&&"block"!==r?.ui_style?.type&&"horizontal-input-bottom"!==r?.ui_style?.type){let t=r.response_id,i=document.getElementById(t).querySelectorAll(".lrn-mcq-option"),s=0;for(let t of i){let r=t.querySelector(".lrn-possible-answer").children;if(!t.querySelector(".lrn-prefix-label")){let t;t=Array.isArray(a.explicitPrefixes)&&a.explicitPrefixes.length&&"string"==typeof a.explicitPrefixes[s]?a.explicitPrefixes[s]:String.fromCharCode(e+s);for(let e=0;e<r.length;e++){let i=document.createElement("span");i.classList.add("lrn-prefix-label"),i.append(`${t}${n}`),r[e].prepend(i)}s++}}}}catch(t){i.A.error(t)}}(s.questions())}))}},8286:(t,e,n)=>{n.r(e),n.d(e,{halt:()=>s,run:()=>i});const r={color:"rgba(250, 170, 140, 0.5)",renderedCss:!1,zindex:99999};function i(t,e){if(t&&"string"==typeof t&&(r.color=t),e&&"number"==typeof e&&(r.zindex=e),!document.querySelector(".lrn__overlay")){const t=document.createElement("div");t.classList.add("lrn__overlay"),document.querySelector("body").append(t)}r.renderedCss||function(){const t=document.createElement("style"),e=`\n/* Learnosity page overlay styles */\n.lrn__overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: ${r.color};\n    z-index: ${r.zindex};\n    pointer-events: none;\n}\n`;t.textContent=e,document.head.append(t),r.renderedCss=!0}()}function s(){const t=document.querySelector(".lrn__overlay");t&&t.remove()}},2447:(t,e,n)=>{n.r(e),n.d(e,{run:()=>o});var r=n(2844),i=n(7484),s=n(7066);const a={class:"lrn__resetResponse",label:"Reset question",renderedCss:!1,types:["mcq"]};function o(t,e){t&&"string"==typeof t&&(a.label=t),e&&Array.isArray(e)&&(a.types=e),a.renderedCss||function(){const t=document.createElement("style"),e=`\n/* Learnosity reset question styles */\n.lrn .lrn_btn.${a.class} {\n    margin-top: 1em;\n    margin-bottom: 0.5em;\n    clear: both;\n    display: block;\n}\n`;t.textContent=e,document.head.append(t),a.renderedCss=!0}(),r.appInstance().on("item:load",(()=>{!function(){const t=s.questions();try{for(const e of t)if(a.types.includes("*")||a.types.includes(e.type)){const t=e.response_id,n=document.getElementById(t),r=n.querySelector(".lrn_response");let i=n.querySelector(`.${a.class}`);i||(r.append(l()),i=n.querySelector(`.${a.class}`),i.addEventListener("click",c))}}catch(t){i.A.error(t)}}()}))}function l(){const t=document.createElement("button"),e=document.createElement("span");return t.classList.add("lds-btn","lds-btn-secondary","lrn_btn",a.class),e.append(a.label),t.append(e),t}function c(t){const e=t.srcElement.closest(".lrn_widget").getAttribute("id");r.questionsApp().question(e).resetResponse()}},1978:(t,e,n)=>{n.r(e),n.d(e,{run:()=>o});var r=n(2844),i=n(7738),s=n(7484);const a={forceRenderTimer:!1,renderedCss:!1};function o(t=60){const e=document.querySelector(".lrn-sm"),n=document.querySelector(".lrn-timer-wrapper");if(e&&n){a.renderedCss||function(){const t=document.createElement("style");t.textContent="\n/* Learnosity toggle timer styles */\n.lrn.lrn-assess .lrn-region:not(.lrn-items-region) .lrn_btn.lt__timer-button {\n    font-size: inherit;\n}\n\n.lrn-assess .lrn_btn.lt__timer-button .timer {\n    padding: 8px;\n    height: 29px;\n    position: relative;\n    top: -4px;\n}\n\n.lrn.lrn-assess .lt__timer-wrapper.lt__timer-hide .lrn_btn.lt__timer-button .timer .clock:before {\n    padding-right: 0;\n}\n\n.lrn-timer-wrapper.lt__timer-hide .lt__timer-button .timer > *:not(.clock) {\n    display: none;\n}\n",document.head.append(t),a.renderedCss=!0}();const e=Array.from(n.children),o=document.createElement("button");o.classList.add("lrn_btn","lt__timer-button"),o.setAttribute("type","button"),o.setAttribute("aria-label",`${n.getAttribute("aria-label")}, click to toggle visibility of the timer.`),n.innerHTML="",n.appendChild(o),e.forEach((t=>{o.appendChild(t)})),o.addEventListener("click",(()=>{!function(t){t.classList.toggle("lt__timer-hide")}(n)})),r.appInstance().on("time:change",(()=>{const e=i.timeRemaining();!a.forceRenderTimer&&"number"==typeof e&&e<=Number(t)&&n.classList.contains("lt__timer-hide")&&(a.forceRenderTimer=!0,n.classList.remove("lt__timer-hide"),s.A.info(`Force show the timer limit (${t}) reached.`))}))}}},2333:(t,e,n)=>{n.r(e),n.d(e,{launchPlayer:()=>c,run:()=>l});var r=n(2844),i=n(1570),s=n(7484),a=n(4196);const o={player:{instances:{beach:null,birds:null,wind:null,thunder:null,campfire:null,rain:null},sound:null,volume:null},playlist:{beach:"https://assets.learnosity.com/learnosity_toolkit/whitenoise/beach.mp3",birds:"https://assets.learnosity.com/learnosity_toolkit/whitenoise/birds.mp3",wind:"https://assets.learnosity.com/learnosity_toolkit/whitenoise/wind.mp3",thunder:"https://assets.learnosity.com/learnosity_toolkit/whitenoise/thunder.mp3",campfire:"https://assets.learnosity.com/learnosity_toolkit/whitenoise/campfire.mp3",rain:"https://assets.learnosity.com/learnosity_toolkit/whitenoise/rain.mp3"},renderedCss:!1};function l(){o.renderedCss||function(){const t=document.createElement("style");t.textContent='\n/* Learnosity white noise player styles */\n:root {\n    --lt-border: #888888;\n    --lt-border-radius: 10px;\n    --lt-color: #333333;\n}\n\n.lt__player {\n    background-color: #fff;\n    width: 100%;\n    max-width: 30rem;\n    border: 1px solid #dddddd;\n    border-radius: var(--lt-border-radius);\n    padding: 1rem;\n    filter: drop-shadow(4px 5px 7px #8d8d8d);\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: var(--lt-color);\n    margin: 0 auto;\n}\n.lt__player svg {\n    width: 60px;\n    height: 60px;\n}\n.lt__meta ul {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    list-style: none;\n    text-align: center;\n    margin: 0;\n    padding: 0;\n}\n.lt__meta ul li {\n    box-sizing: border-box;\n    border-radius: var(--lt-border-radius);\n    border: 1px solid var(--lt-border);\n    margin: 0.3rem;\n\n    &:hover {\n        background-color: #f2f4f5;\n    }\n}\n.lt__meta ul li button {\n    display: block;\n    text-decoration: none;\n    border-radius: inherit;\n    width: 100%;\n    border: none;\n    background: none;\n\n    &:hover,\n    &:focus {\n        outline: 5px auto -webkit-focus-ring-color;\n        outline-offset: -2px;\n        background-color: #f2f4f5;\n    }\n\n    &:active {\n        box-shadow: 0 0 0 0.25rem rgba(49, 132, 253, 0.5);\n    }\n}\n.lt__meta ul li button.lt__sound-active {\n    box-shadow: 0 0 0 0.25rem rgba(49, 132, 253, 0.5);\n    background: #efefef;\n}\n.lt__meta ul li svg {\n    padding: 1rem 1rem 0.3rem 1rem;\n    vertical-align: middle;\n}\n.lt__control-wrapper svg {\n    width: 30px;\n}\n.lt__control-wrapper svg:last-child {\n    position: relative;\n    left: 15px;\n}\n.lt__sound-label {\n    display: block;\n    padding-bottom: 0.7rem;\n}\n.lt__toolbar {\n    margin-top: 0.5rem;\n    text-align: center;\n}\n.lt__control-wrapper label {\n    text-align: center;\n    padding-bottom: 0;\n    margin-bottom: 0;\n    display: block;\n    position: relative;\n    top: 10px;\n}\n.lt__control-wrapper button {\n    background: none;\n    border: none;\n    cursor: pointer;\n}\ninput[type="range"] {\n   -webkit-appearance: none;\n    appearance: none;\n    background: transparent;\n    cursor: pointer;\n    width: 15rem;\n}\n/* Removes default focus */\ninput[type="range"]:focus {\n  outline: none;\n}\ninput[type="range"]::-webkit-slider-runnable-track {\n   background-color: #01243d;\n   border-radius: 0.5rem;\n   height: 0.5rem;\n}\ninput[type="range"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n   appearance: none;\n   margin-top: -12px;\n   background-color: #fff;\n   border: 2px solid #01243d;\n   height: 2rem;\n   width: 1rem;\n}\ninput[type="range"]:focus::-webkit-slider-thumb {\n  border: 1px solid #01243d;\n  outline: 3px solid #01243d;\n  outline-offset: 0.125rem;\n}\ninput[type="range"]::-moz-range-track {\n   background-color: #01243d;\n   border-radius: 0.5rem;\n   height: 0.5rem;\n}\ninput[type="range"]::-moz-range-thumb {\n   border: none;\n   border-radius: 0;\n   border: 1px solid #01243d;\n   background-color: #fff;\n   height: 2rem;\n   width: 1rem;\n}\ninput[type="range"]:focus::-moz-range-thumb {\n  border: 1px solid #01243d;\n  outline: 3px solid #01243d;\n  outline-offset: 0.125rem;\n}\n\n@media (max-width: 400px) {\n    .lt__meta ul {\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n    }\n    input[type="range"] {\n        width: 10rem;\n    }\n}\n\n.lt__whitenoise-player-icon::before {\n    content: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 80C149.9 80 62.4 159.4 49.6 262c9.4-3.8 19.6-6 30.4-6c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48c-44.2 0-80-35.8-80-80V384 336 288C0 146.6 114.6 32 256 32s256 114.6 256 256v48 48 16c0 44.2-35.8 80-80 80c-26.5 0-48-21.5-48-48V304c0-26.5 21.5-48 48-48c10.8 0 21 2.1 30.4 6C449.6 159.4 362.1 80 256 80z"/></svg>\');\n    width: 16px;\n    color: var(--lt-color);\n    margin-top: 0;\n    font-size: 16px;\n    -webkit-transition: color .2s;\n    transition: color .2s;\n    -webkit-font-smoothing: antialiased;\n}\n',document.head.append(t),o.renderedCss=!0}(),r.assessApp().on("button:btn-whitenoise:clicked",(()=>{c()}))}function c(t){const e='<div class="lt__player">\n    <div class="lt__meta">\n        <p id="lt__player-instructions" class="sr-only">Choose a sound from the list below. Click to play or pause, use the slider at the bottom to control the volume level.</p>\n        <ul aria-labelledby="lt__player-instructions">\n            <li><button class="lt__controls-sound" data-lt-sound="beach" aria-pressed="false" aria-label="Click to play or pause beach sounds"><svg role="img" aria-label="Beach" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M346.3 271.8l-60.1-21.9L214 448H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H544c17.7 0 32-14.3 32-32s-14.3-32-32-32H282.1l64.1-176.2zm121.1-.2l-3.3 9.1 67.7 24.6c18.1 6.6 38-4.2 39.6-23.4c6.5-78.5-23.9-155.5-80.8-208.5c2 8 3.2 16.3 3.4 24.8l.2 6c1.8 57-7.3 113.8-26.8 167.4zM462 99.1c-1.1-34.4-22.5-64.8-54.4-77.4c-.9-.4-1.9-.7-2.8-1.1c-33-11.7-69.8-2.4-93.1 23.8l-4 4.5C272.4 88.3 245 134.2 226.8 184l-3.3 9.1L434 269.7l3.3-9.1c18.1-49.8 26.6-102.5 24.9-155.5l-.2-6zM107.2 112.9c-11.1 15.7-2.8 36.8 15.3 43.4l71 25.8 3.3-9.1c19.5-53.6 49.1-103 87.1-145.5l4-4.5c6.2-6.9 13.1-13 20.5-18.2c-79.6 2.5-154.7 42.2-201.2 108z" /></svg><span class="lt__sound-label">Beach</span></button></li>\n            <li><button class="lt__controls-sound" data-lt-sound="birds" aria-pressed="false" aria-label="Click to play or pause birds sounds"><svg role="img" aria-label="Birds" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M160.8 96.5c14 17 31 30.9 49.5 42.2c25.9 15.8 53.7 25.9 77.7 31.6V138.8C265.8 108.5 250 71.5 248.6 28c-.4-11.3-7.5-21.5-18.4-24.4c-7.6-2-15.8-.2-21 5.8c-13.3 15.4-32.7 44.6-48.4 87.2zM320 144v30.6l0 0v1.3l0 0 0 32.1c-60.8-5.1-185-43.8-219.3-157.2C97.4 40 87.9 32 76.6 32c-7.9 0-15.3 3.9-18.8 11C46.8 65.9 32 112.1 32 176c0 116.9 80.1 180.5 118.4 202.8L11.8 416.6C6.7 418 2.6 421.8 .9 426.8s-.8 10.6 2.3 14.8C21.7 466.2 77.3 512 160 512c3.6 0 7.2-1.2 10-3.5L245.6 448H320c88.4 0 160-71.6 160-160V128l29.9-44.9c1.3-2 2.1-4.4 2.1-6.8c0-6.8-5.5-12.3-12.3-12.3H400c-44.2 0-80 35.8-80 80zm80-16a16 16 0 1 1 0 32 16 16 0 1 1 0-32z" /></svg><span class="lt__sound-label">Birds</span></button></li>\n            <li><button class="lt__controls-sound" data-lt-sound="campfire" aria-pressed="false" aria-label="Click to play or pause campfire sounds"><svg role="img" aria-label="Campfire" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M159.3 5.4c7.8-7.3 19.9-7.2 27.7 .1c27.6 25.9 53.5 53.8 77.7 84c11-14.4 23.5-30.1 37-42.9c7.9-7.4 20.1-7.4 28 .1c34.6 33 63.9 76.6 84.5 118c20.3 40.8 33.8 82.5 33.8 111.9C448 404.2 348.2 512 224 512C98.4 512 0 404.1 0 276.5c0-38.4 17.8-85.3 45.4-131.7C73.3 97.7 112.7 48.6 159.3 5.4zM225.7 416c25.3 0 47.7-7 68.8-21c42.1-29.4 53.4-88.2 28.1-134.4c-4.5-9-16-9.6-22.5-2l-25.2 29.3c-6.6 7.6-18.5 7.4-24.7-.5c-16.5-21-46-58.5-62.8-79.8c-6.3-8-18.3-8.1-24.7-.1c-33.8 42.5-50.8 69.3-50.8 99.4C112 375.4 162.6 416 225.7 416z" /></svg><span class="lt__sound-label">Campfire</span></button></li>\n            <li><button class="lt__controls-sound" data-lt-sound="rain" aria-pressed="false" aria-label="Click to play or pause rain sounds"><svg role="img" aria-label="Rain" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M96 320c-53 0-96-43-96-96c0-42.5 27.6-78.6 65.9-91.2C64.7 126.1 64 119.1 64 112C64 50.1 114.1 0 176 0c43.1 0 80.5 24.3 99.2 60c14.7-17.1 36.5-28 60.8-28c44.2 0 80 35.8 80 80c0 5.5-.6 10.8-1.6 16c.5 0 1.1 0 1.6 0c53 0 96 43 96 96s-43 96-96 96H96zm-6.8 52c1.3-2.5 3.9-4 6.8-4s5.4 1.5 6.8 4l35.1 64.6c4.1 7.5 6.2 15.8 6.2 24.3v3c0 26.5-21.5 48-48 48s-48-21.5-48-48v-3c0-8.5 2.1-16.9 6.2-24.3L89.2 372zm160 0c1.3-2.5 3.9-4 6.8-4s5.4 1.5 6.8 4l35.1 64.6c4.1 7.5 6.2 15.8 6.2 24.3v3c0 26.5-21.5 48-48 48s-48-21.5-48-48v-3c0-8.5 2.1-16.9 6.2-24.3L249.2 372zm124.9 64.6L409.2 372c1.3-2.5 3.9-4 6.8-4s5.4 1.5 6.8 4l35.1 64.6c4.1 7.5 6.2 15.8 6.2 24.3v3c0 26.5-21.5 48-48 48s-48-21.5-48-48v-3c0-8.5 2.1-16.9 6.2-24.3z" /></svg><span class="lt__sound-label">Rain</span></button></li>\n            <li><button class="lt__controls-sound" data-lt-sound="thunder" aria-pressed="false" aria-label="Click to play or pause thunder sounds"><svg role="img" aria-label="Thunder" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 224c0 53 43 96 96 96h47.2L290 202.5c17.6-14.1 42.6-14 60.2 .2s22.8 38.6 12.8 58.8L333.7 320H352h64c53 0 96-43 96-96s-43-96-96-96c-.5 0-1.1 0-1.6 0c1.1-5.2 1.6-10.5 1.6-16c0-44.2-35.8-80-80-80c-24.3 0-46.1 10.9-60.8 28C256.5 24.3 219.1 0 176 0C114.1 0 64 50.1 64 112c0 7.1 .7 14.1 1.9 20.8C27.6 145.4 0 181.5 0 224zm330.1 3.6c-5.8-4.7-14.2-4.7-20.1-.1l-160 128c-5.3 4.2-7.4 11.4-5.1 17.8s8.3 10.7 15.1 10.7h70.1L177.7 488.8c-3.4 6.7-1.6 14.9 4.3 19.6s14.2 4.7 20.1 .1l160-128c5.3-4.2 7.4-11.4 5.1-17.8s-8.3-10.7-15.1-10.7H281.9l52.4-104.8c3.4-6.7 1.6-14.9-4.2-19.6z" /></svg><span class="lt__sound-label">Thunder</span></button></li>\n            <li><button class="lt__controls-sound" data-lt-sound="wind" aria-pressed="false" aria-label="Click to play or pause wind sounds"><svg role="img" aria-label="Wind" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M288 32c0 17.7 14.3 32 32 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H352c53 0 96-43 96-96s-43-96-96-96H320c-17.7 0-32 14.3-32 32zm64 352c0 17.7 14.3 32 32 32h32c53 0 96-43 96-96s-43-96-96-96H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H384c-17.7 0-32 14.3-32 32zM128 512h32c53 0 96-43 96-96s-43-96-96-96H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H160c17.7 0 32 14.3 32 32s-14.3 32-32 32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32z"/></svg><span class="lt__sound-label">Wind</span></button></li>\n        </ul>\n    </div>\n    <div class="lt__toolbar">\n        <div class="lt__control-wrapper">\n            <label for="ld-volume">\n                Volume (<span id="ld-volume-value">100</span>%)\n            </label>\n            <svg role="img" aria-label="Move the slider to the left to reduce volume" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M320 64c0-12.6-7.4-24-18.9-29.2s-25-3.1-34.4 5.3L131.8 160H64c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64h67.8L266.7 471.9c9.4 8.4 22.9 10.4 34.4 5.3S320 460.6 320 448V64z"/></svg>\n            <input type="range" id="ld-volume" min="0" max="1.0" value="1.0" step="0.1" class="lt__controls-volume slider">\n            <svg role="img" aria-label="Move the slider to the right to increase volume" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M533.6 32.5C598.5 85.2 640 165.8 640 256s-41.5 170.7-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"/></svg>\n        </div>\n    </div>\n</div>';if(t){const n=document.getElementById(t);if(!n)return void s.A.error(`Element id '${t}' not found, cound not render player.`);n.innerHTML=e}else i.dialog({header:"White noise player",body:e,buttons:[{button_id:"dialog_btn_whitenoise_player",label:"Close",is_primary:!1}]});setTimeout((()=>{const t=document.querySelectorAll(".lt__controls-sound"),e=document.getElementById("ld-volume");t.forEach((t=>{t.addEventListener("keydown",(e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),t.click())})),t.addEventListener("click",(e=>{e.preventDefault(),function(t){const e=t.getAttribute("data-lt-sound"),n=document.querySelector(`[data-lt-sound="${e}"]`);o.player.sound&&d(o.player.sound),n.classList.contains("lt__sound-active")?d(e):(o.player.instances[e]||function(t){o.player.instances[t]=new a.Howl({src:[o.playlist[t]],html5:!0,loop:!0})}(e),o.player.sound=e,function(t){o.player.instances[t].play()}(e)),u(e)}(t)}))})),o.player.sound&&u(o.player.sound),e.value=o.player.volume||1,h(),e.addEventListener("input",(()=>{h()}))}),500),r.assessApp().on("button:dialog_btn_whitenoise_player:clicked",(()=>{i.hideDialog()}))}function d(t){o.player.instances[t].stop()}function h(){const t=document.getElementById("ld-volume"),e=document.getElementById("ld-volume-value"),n=t.value;o.player.volume=n,a.Howler.volume(n),e.innerHTML=100*n}function u(t){document.querySelectorAll(".lt__controls-sound").forEach((e=>{e.getAttribute("data-lt-sound")!==t||e.classList.contains("lt__sound-active")?(e.classList.remove("lt__sound-active"),e.setAttribute("aria-pressed","false")):(e.classList.add("lt__sound-active"),e.focus(),e.setAttribute("aria-pressed","true"))}))}},5588:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.r(e),n.d(e,{run:()=>c});var i=n(2844),s=n(3191),a=n(9091),o=t([a]);a=(o.then?(await o)():o)[0];const l={renderedCss:!1};function c(){l.renderedCss||u(),i.appInstance().on("item:load",(t=>{d()}))}function d(){const t=s.itemReference(),e=document.querySelector(`.learnosity-item[data-reference="${t}"]`).querySelectorAll(".lrn_widget .resource");e.length&&e.forEach(((t,e)=>{let n=t.querySelector("a").getAttribute("href");if("pdf"===n.substring(n.length-3)){function r(e){if(!document.getElementById(e)){const r=document.createElement("div"),i=document.createElement("iframe");r.setAttribute("id",e),r.setAttribute("class","lt__renderPDF_pdf"),t.before(r),i.setAttribute("class","pdf-viewer"),i.setAttribute("src",`${n}#sidebarViewOnLoad=0&_pagemode=none&_toolbar=0&view=FitH`),r.appendChild(i)}}t.classList.add("sr-only"),h(n).then((t=>{r(t)}))}}))}async function h(t){const e=(new TextEncoder).encode(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map((t=>t.toString(16).padStart(2,"0"))).join("")}function u(){const t=document.createElement("style");t.textContent="\n/* Learnosity render PDF styles */\n.lt__renderPDF_pdf .pdf-viewer {\n    border: none;\n    width: 100%;\n    height: 650px;\n}\n",document.head.append(t),l.renderedCss=!0}r()}catch(p){r(p)}}))},9161:(t,e,n)=>{n.r(e),n.d(e,{run:()=>i});var r=n(2844);function i(){r.appInstance().on("item:load",(function(t){s()})),r.annotationsApp().on("notepad:toggleVisibility",(function(t){s()})),r.annotationsApp().on("stickynote:add",(function(t){s()}))}function s(){let t=[],e=[],n=["lrn_texteditor_editable"],r=document.getElementById("learnosity_assess");for(let e=0;e<n.length;e++)if(t=r.getElementsByClassName(n[e]),t.length)for(let e=0;e<t.length;e++)a(t[e]);e=r.getElementsByTagName("textarea");for(let t=0;t<e.length;t++)a(e[t])}function a(t){t.setAttribute("data-gramm","false"),t.setAttribute("data-gramm_editor","false"),t.setAttribute("data-enable-grammarly","false"),t.setAttribute("spellcheck","false"),t.setAttribute("autocorrect","false"),t.setAttribute("autocomplete","false"),t.setAttribute("autocapitalize","false")}},1017:(t,e,n)=>{n.r(e),n.d(e,{run:()=>I});var r=n(2844),i=n(7484),s=n(7738),a=n(1570),o=n(3191),l=n(7066);const c=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((t=>t.charCodeAt(0)))),d=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((t=>t.charCodeAt(0))));var h;const u=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),p=null!==(h=String.fromCodePoint)&&void 0!==h?h:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};var f,m,g,v,b;function y(t){return t>=f.ZERO&&t<=f.NINE}!function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"}(f||(f={})),function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"}(m||(m={})),function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"}(g||(g={})),(b=v||(v={}))[b.Legacy=0]="Legacy",b[b.Strict=1]="Strict",b[b.Attribute=2]="Attribute";class _{constructor(t,e,n){this.decodeTree=t,this.emitCodePoint=e,this.errors=n,this.state=g.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=v.Strict}startEntity(t){this.decodeMode=t,this.state=g.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case g.EntityStart:return t.charCodeAt(e)===f.NUM?(this.state=g.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=g.NamedEntity,this.stateNamedEntity(t,e));case g.NumericStart:return this.stateNumericStart(t,e);case g.NumericDecimal:return this.stateNumericDecimal(t,e);case g.NumericHex:return this.stateNumericHex(t,e);case g.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===f.LOWER_X?(this.state=g.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=g.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,n,r){if(e!==n){const i=n-e;this.result=this.result*Math.pow(r,i)+parseInt(t.substr(e,i),r),this.consumed+=i}}stateNumericHex(t,e){const n=e;for(;e<t.length;){const i=t.charCodeAt(e);if(!(y(i)||(r=i,r>=f.UPPER_A&&r<=f.UPPER_F||r>=f.LOWER_A&&r<=f.LOWER_F)))return this.addToNumericResult(t,n,e,16),this.emitNumericEntity(i,3);e+=1}var r;return this.addToNumericResult(t,n,e,16),-1}stateNumericDecimal(t,e){const n=e;for(;e<t.length;){const r=t.charCodeAt(e);if(!y(r))return this.addToNumericResult(t,n,e,10),this.emitNumericEntity(r,2);e+=1}return this.addToNumericResult(t,n,e,10),-1}emitNumericEntity(t,e){var n;if(this.consumed<=e)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===f.SEMI)this.consumed+=1;else if(this.decodeMode===v.Strict)return 0;return this.emitCodePoint(function(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=u.get(t))&&void 0!==e?e:t}(this.result),this.consumed),this.errors&&(t!==f.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:n}=this;let r=n[this.treeIndex],i=(r&m.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const a=t.charCodeAt(e);if(this.treeIndex=w(n,r,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return 0===this.result||this.decodeMode===v.Attribute&&(0===i||((s=a)===f.EQUALS||function(t){return t>=f.UPPER_A&&t<=f.UPPER_Z||t>=f.LOWER_A&&t<=f.LOWER_Z||y(t)}(s)))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],i=(r&m.VALUE_LENGTH)>>14,0!==i){if(a===f.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==v.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}var s;return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:n}=this,r=(n[e]&m.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,r,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,n){const{decodeTree:r}=this;return this.emitCodePoint(1===e?r[t]&~m.VALUE_LENGTH:r[t+1],n),3===e&&this.emitCodePoint(r[t+2],n),n}end(){var t;switch(this.state){case g.NamedEntity:return 0===this.result||this.decodeMode===v.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case g.NumericDecimal:return this.emitNumericEntity(0,2);case g.NumericHex:return this.emitNumericEntity(0,3);case g.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case g.EntityStart:return 0}}}function A(t){let e="";const n=new _(t,(t=>e+=p(t)));return function(t,r){let i=0,s=0;for(;(s=t.indexOf("&",s))>=0;){e+=t.slice(i,s),n.startEntity(r);const a=n.write(t,s+1);if(a<0){i=s+n.end();break}i=s+a,s=0===a?i+1:i}const a=e+t.slice(i);return e="",a}}function w(t,e,n,r){const i=(e&m.BRANCH_LENGTH)>>7,s=e&m.JUMP_TABLE;if(0===i)return 0!==s&&r===s?n:-1;if(s){const e=r-s;return e<0||e>=i?-1:t[n+e]-1}let a=n,o=a+i-1;for(;a<=o;){const e=a+o>>>1,n=t[e];if(n<r)a=e+1;else{if(!(n>r))return t[e+i];o=e-1}}return-1}const x=A(c);function E(t){for(let e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}A(d),new Map(E([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(E([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(E([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(E([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const S=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function T(t,e){return function(n){let r,i=0,s="";for(;r=t.exec(n);)i!==r.index&&(s+=n.substring(i,r.index)),s+=e.get(r[0].charCodeAt(0)),i=r.index+1;return s+n.substring(i)}}var C,k;String.prototype.codePointAt,T(/[&<>'"]/g,S),T(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),T(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"}(C||(C={})),function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"}(k||(k={}));const M={includeSpaces:!1,renderedCss:!1,validTypes:["longtextV2","plaintext"]};function I(t=!1){M.includeSpaces=Boolean(t),M.renderedCss||function(){const t=document.createElement("style");t.textContent="\n/* Learnosity essay limit by character styles */\n.lrn_widget .lrn_word_count,\n.lrn_widget .lrn_character_count {\n    margin-right: 0px;\n}\n",document.head.append(t),M.renderedCss=!0}(),function(){const t=r.appInstance().getQuestions();for(const[e,n]of Object.entries(t))if(M.validTypes.indexOf(n.type)>=0){let t=r.appInstance().question(n.response_id);r.appInstance().question(n.response_id).on("rendered",(()=>{P(t),s.isResuming()&&R(t)})),t.on("changed",(()=>{R(t)}))}}(),r.appInstance().on("item:load",(function(t){!function(){const t=document.querySelector(".test-submit.item-next"),e=document.querySelector(".custom_btn.item-next");e&&!a.isResponsiveMode()&&(o.isLastItem()?function(){const t=document.querySelector(".review-screen"),e=s.activity()?.config?.configuration?.decouple_submit_from_review;return!(!t||e)}()&&s.region()?e.classList.add("hidden"):(t.classList.add("hidden"),e.classList.remove("hidden")):e.classList.add("hidden"))}()}));const e=document.querySelector(".custom_btn.item-next");e?(e.classList.add("lrn_btn_blue"),function(){const t=document.querySelector(".custom_btn.item-next");t&&(t.addEventListener("click",D),r.appInstance().on("test:panel:shown",(t=>{let e=document.querySelector(".panel-footer .test-submit");e&&e.addEventListener("click",D)})))}()):i.A.error("No custom submit button found. Character length validation will occur, but no submission prevention.")}function R(t,e=!0){const n=t.getQuestion().type,r=t.getQuestion().max_length,i=t.getResponse()?.value?t.getResponse()?.value:"";let s,a,o=!0;return"plaintext"===n?(s=M.includeSpaces?i:F(i),a=s.length):(s=M.includeSpaces?L(i):F(L(i)),a=function(t,e=v.Legacy){return x(t,e)}(s).length),r&&a>r&&(o=!1),e&&function(t,e,n){const r=t.getQuestion().response_id,i=document.getElementById(r),s=i.querySelector(".lrn_texteditor_editable"),a=i.querySelector(".lrn_word_count"),o=i.querySelector(".lrn_length_indicator"),l="lrn_wordcount_warning_label",c="lrn_wordcount_warning";let d=n;function h(){a.textContent=d,e?(s.classList.remove(c),o.classList.remove(l)):(s.classList.add(c),o.classList.add(l))}"plaintext"===t.getQuestion().type?(d=n+" /",setTimeout((()=>{h()}),10)):h()}(t,o,a),o}function P(t){const e=s.activity()?.config?.questions_api_init_options?.labelBundle?.wordLength;if(!e){const e=t.getQuestion().response_id,n=document.getElementById(e).querySelector(".lrn_word_limit"),r=n.textContent.replace("Word","Character");n.textContent=r}}function D(t){const e=r.appInstance().getQuestions();let n=[];for(const t in e)M.validTypes.includes(e[t].type)&&(e[t]?.submit_over_limit||R(l.questionInstance(t),!1)||n.push(t));if(n.length){i.A.warn("Invalid essay response length found."),t.preventDefault(),t.stopPropagation();let e=[];for(let t=0;t<n.length;t++){let r=o.itemByResponseId(n[t]);r&&e.push(r.source.reference)}!function(t){const e={question:s.activity()?.config?.labelBundle?.question||"Question",submitTest:s.activity()?.config?.labelBundle?.submitTest||"Submit activity",decline:s.activity()?.config?.labelBundle?.decline||"Cancel",invalidQuestionsMessage:s.activity()?.config?.labelBundle?.invalidQuestionsMessage||"The following questions are not currently valid. Please follow the links to review"};let n=`\n        <p>${e.invalidQuestionsMessage}</p>\n        <ul>\n    `;for(let r=0;r<t.length;r++)n+=`<li class="link essay-limit-character-item" data-item-reference="${t[r]}">${e.question}</li>`;n+="</ul>",r.assessApp().on("button:btn_essay_character_limit_cancel:clicked",(()=>{a.hideDialog()})),r.appInstance().on("test:panel:show",(()=>{setTimeout((()=>{const t=document.querySelectorAll(".essay-limit-character-item");t&&t.forEach((t=>{let e=t.getAttribute("data-item-reference");t.addEventListener("click",(()=>{r.appInstance().items().goto(e),a.hideDialog()}))}))}),500)})),a.dialog({header:e.submitTest,body:n,buttons:[{button_id:"btn_essay_character_limit_cancel",label:e.decline,is_primary:!0}]})}(e)}else!function(){const t=document.getElementById("lrn_assess_next_btn");if(t)t.click();else{const t={show_submit_confirmation:!0,show_submit_ui:!0,success:function(t){i.A.info("Submit was successful",t)},error:function(t){i.A.error("Submit has failed",t)}};r.appInstance().submit(t)}}()}function L(t){return t.replace(/<[^>]*>/g,"").trim()}function F(t){return t.replace(/\s+/g,"")}},6975:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{LT:()=>_});var i=n(4648),s=n(4029),a=n(9161),o=n(2519),l=n(1017),c=n(1499),d=n(4163),h=n(3835),u=n(5220),p=n(8286),f=n(5588),m=n(2447),g=n(1978),v=n(2333),b=t([f]);f=(b.then?(await b)():b)[0];const y={extensions:{ariaCountOnNav:{...s},blockGrammarChecks:{...a},columnResizer:{...o},essayLimitByCharacter:{...l},hideAlternatives:{...c},keyboardShortcuts:{...d},magnifier:{...h},mcqLabelPrefix:{...u},pageOverlay:{...p},renderPDF:{...f},resetResponse:{...m},toggleTimer:{...g},whiteNoise:{...v}}},_={...i.LT,...y};r()}catch(t){r(t)}}))},7484:(t,e,n)=>{n.d(e,{A:()=>r});const r={error:function(t){console.error("%cError:%c "+t,"display:inline-block;background-color:#e0005a;color:#fff;font-weight:bold;padding:3px 7px;border-radius:3px","")},info:function(t){console.info("%cInfo:%c "+t,"display:inline-block;background-color:#46C0FF;color:#000;font-weight:bold;padding:3px 7px;border-radius:3px","")},log:function(t){console.log(t)},warn:function(t,e="log"){console.warn("%cWarning:%c "+t,"display:inline-block;background-color:gold;color:#000;font-weight:bold;padding:3px 7px;border-radius:3px","")}}},1234:()=>{},9091:(t,e,n)=>{n.a(t,(async(t,e)=>{try{var n={1782:(t,e,n)=>{var r=n(7316),i=n(9762),s=TypeError;t.exports=function(t){if(r(t))return t;throw new s(i(t)+" is not a function")}},4958:(t,e,n)=>{var r=n(7316),i=String,s=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw new s("Can't set "+i(t)+" as a prototype")}},5690:(t,e,n)=>{var r=n(23).has;t.exports=function(t){return r(t),t}},5834:(t,e,n)=>{var r=n(2658),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new i("Incorrect invocation")}},4719:(t,e,n)=>{var r=n(7633),i=String,s=TypeError;t.exports=function(t){if(r(t))return t;throw new s(i(t)+" is not an object")}},5115:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7585:(t,e,n)=>{var r=n(1299),i=n(8374),s=TypeError;t.exports=r(ArrayBuffer.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==i(t))throw new s("ArrayBuffer expected");return t.byteLength}},582:(t,e,n)=>{var r=n(8403),i=n(7585),s=r(ArrayBuffer.prototype.slice);t.exports=function(t){if(0!==i(t))return!1;try{return s(t,0,0),!1}catch(t){return!0}}},4358:(t,e,n)=>{var r=n(9298),i=n(8403),s=n(1299),a=n(9548),o=n(582),l=n(7585),c=n(8126),d=n(4837),h=r.structuredClone,u=r.ArrayBuffer,p=r.DataView,f=r.TypeError,m=Math.min,g=u.prototype,v=p.prototype,b=i(g.slice),y=s(g,"resizable","get"),_=s(g,"maxByteLength","get"),A=i(v.getInt8),w=i(v.setInt8);t.exports=(d||c)&&function(t,e,n){var r,i=l(t),s=void 0===e?i:a(e),g=!y||!y(t);if(o(t))throw new f("ArrayBuffer is detached");if(d&&(t=h(t,{transfer:[t]}),i===s&&(n||g)))return t;if(i>=s&&(!n||g))r=b(t,0,s);else{var v=n&&!g&&_?{maxByteLength:_(t)}:void 0;r=new u(s,v);for(var x=new p(t),E=new p(r),S=m(s,i),T=0;T<S;T++)w(E,T,A(x,T))}return d||c(t),r}},5861:(t,e,n)=>{var r,i,s,a=n(5115),o=n(940),l=n(9298),c=n(7316),d=n(7633),h=n(936),u=n(8329),p=n(9762),f=n(9293),m=n(7041),g=n(9691),v=n(2658),b=n(2176),y=n(9763),_=n(2292),A=n(7561),w=n(1649),x=w.enforce,E=w.get,S=l.Int8Array,T=S&&S.prototype,C=l.Uint8ClampedArray,k=C&&C.prototype,M=S&&b(S),I=T&&b(T),R=Object.prototype,P=l.TypeError,D=_("toStringTag"),L=A("TYPED_ARRAY_TAG"),F="TypedArrayConstructor",O=a&&!!y&&"Opera"!==u(l.opera),B=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},q={BigInt64Array:8,BigUint64Array:8},H=function(t){var e=b(t);if(d(e)){var n=E(e);return n&&h(n,F)?n[F]:H(e)}},U=function(t){if(!d(t))return!1;var e=u(t);return h(N,e)||h(q,e)};for(r in N)(s=(i=l[r])&&i.prototype)?x(s)[F]=i:O=!1;for(r in q)(s=(i=l[r])&&i.prototype)&&(x(s)[F]=i);if((!O||!c(M)||M===Function.prototype)&&(M=function(){throw new P("Incorrect invocation")},O))for(r in N)l[r]&&y(l[r],M);if((!O||!I||I===R)&&(I=M.prototype,O))for(r in N)l[r]&&y(l[r].prototype,I);if(O&&b(k)!==I&&y(k,I),o&&!h(I,D))for(r in B=!0,g(I,D,{configurable:!0,get:function(){return d(this)?this[L]:void 0}}),N)l[r]&&f(l[r],L,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:B&&L,aTypedArray:function(t){if(U(t))return t;throw new P("Target is not a typed array")},aTypedArrayConstructor:function(t){if(c(t)&&(!y||v(M,t)))return t;throw new P(p(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(o){if(n)for(var i in N){var s=l[i];if(s&&h(s.prototype,t))try{delete s.prototype[t]}catch(n){try{s.prototype[t]=e}catch(t){}}}I[t]&&!n||m(I,t,n?e:O&&T[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(o){if(y){if(n)for(r in N)if((i=l[r])&&h(i,t))try{delete i[t]}catch(t){}if(M[t]&&!n)return;try{return m(M,t,n?e:O&&M[t]||e)}catch(t){}}for(r in N)!(i=l[r])||i[t]&&!n||m(i,t,e)}},getTypedArrayConstructor:H,isView:function(t){if(!d(t))return!1;var e=u(t);return"DataView"===e||h(N,e)||h(q,e)},isTypedArray:U,TypedArray:M,TypedArrayPrototype:I}},7003:(t,e,n)=>{var r=n(451);t.exports=function(t,e,n){for(var i=0,s=arguments.length>2?n:r(e),a=new t(s);s>i;)a[i]=e[i++];return a}},9773:(t,e,n)=>{var r=n(4115),i=n(6985),s=n(451),a=function(t){return function(e,n,a){var o,l=r(e),c=s(l),d=i(a,c);if(t&&n!=n){for(;c>d;)if((o=l[d++])!=o)return!0}else for(;c>d;d++)if((t||d in l)&&l[d]===n)return t||d||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4026:(t,e,n)=>{var r=n(7789),i=n(3622),s=n(2007),a=n(451),o=function(t){var e=1===t;return function(n,o,l){for(var c,d=s(n),h=i(d),u=a(h),p=r(o,l);u-- >0;)if(p(c=h[u],u,d))switch(t){case 0:return c;case 1:return u}return e?-1:void 0}};t.exports={findLast:o(0),findLastIndex:o(1)}},6661:(t,e,n)=>{var r=n(940),i=n(6998),s=TypeError,a=Object.getOwnPropertyDescriptor,o=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=o?function(t,e){if(i(t)&&!a(t,"length").writable)throw new s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},2304:(t,e,n)=>{var r=n(451);t.exports=function(t,e){for(var n=r(t),i=new e(n),s=0;s<n;s++)i[s]=t[n-s-1];return i}},5886:(t,e,n)=>{var r=n(451),i=n(1003),s=RangeError;t.exports=function(t,e,n,a){var o=r(t),l=i(n),c=l<0?o+l:l;if(c>=o||c<0)throw new s("Incorrect index");for(var d=new e(o),h=0;h<o;h++)d[h]=h===c?a:t[h];return d}},5723:(t,e,n)=>{var r=n(4719),i=n(3316);t.exports=function(t,e,n,s){try{return s?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},8374:(t,e,n)=>{var r=n(8403),i=r({}.toString),s=r("".slice);t.exports=function(t){return s(i(t),8,-1)}},8329:(t,e,n)=>{var r=n(3077),i=n(7316),s=n(8374),a=n(2292)("toStringTag"),o=Object,l="Arguments"===s(function(){return arguments}());t.exports=r?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=o(t),a))?n:l?s(e):"Object"===(r=s(e))&&i(e.callee)?"Arguments":r}},1425:(t,e,n)=>{var r=n(936),i=n(8953),s=n(5764),a=n(7744);t.exports=function(t,e,n){for(var o=i(e),l=a.f,c=s.f,d=0;d<o.length;d++){var h=o[d];r(t,h)||n&&r(n,h)||l(t,h,c(e,h))}}},7888:(t,e,n)=>{var r=n(8154);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},1111:t=>{t.exports=function(t,e){return{value:t,done:e}}},9293:(t,e,n)=>{var r=n(940),i=n(7744),s=n(1198);t.exports=r?function(t,e,n){return i.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},1198:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8947:(t,e,n)=>{var r=n(4871),i=n(7744),s=n(1198);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,s(0,n)):t[a]=n}},9691:(t,e,n)=>{var r=n(9687),i=n(7744);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},7041:(t,e,n)=>{var r=n(7316),i=n(7744),s=n(9687),a=n(6e3);t.exports=function(t,e,n,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:e;if(r(n)&&s(n,c,o),o.global)l?t[e]=n:a(e,n);else{try{o.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},6880:(t,e,n)=>{var r=n(7041);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},6e3:(t,e,n)=>{var r=n(9298),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},940:(t,e,n)=>{var r=n(8154);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8126:(t,e,n)=>{var r,i,s,a,o=n(9298),l=n(2276),c=n(4837),d=o.structuredClone,h=o.ArrayBuffer,u=o.MessageChannel,p=!1;if(c)p=function(t){d(t,{transfer:[t]})};else if(h)try{u||(r=l("worker_threads"))&&(u=r.MessageChannel),u&&(i=new u,s=new h(2),a=function(t){i.port1.postMessage(null,[t])},2===s.byteLength&&(a(s),0===s.byteLength&&(p=a)))}catch(t){}t.exports=p},1558:t=>{var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},5584:(t,e,n)=>{var r=n(9298),i=n(7633),s=r.document,a=i(s)&&i(s.createElement);t.exports=function(t){return a?s.createElement(t):{}}},4287:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},5050:t=>{t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},3413:(t,e,n)=>{var r=n(8471),i=n(4864);t.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},8471:t=>{t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},4864:(t,e,n)=>{var r=n(9298),i=n(8374);t.exports="process"===i(r.process)},234:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},2171:(t,e,n)=>{var r,i,s=n(9298),a=n(234),o=s.process,l=s.Deno,c=o&&o.versions||l&&l.version,d=c&&c.v8;d&&(i=(r=d.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},298:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},34:(t,e,n)=>{var r=n(8403),i=Error,s=r("".replace),a=String(new i("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(a);t.exports=function(t,e){if(l&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=s(t,o,"");return t}},1931:(t,e,n)=>{var r=n(9293),i=n(34),s=n(3437),a=Error.captureStackTrace;t.exports=function(t,e,n,o){s&&(a?a(t,e):r(t,"stack",i(n,o)))}},3437:(t,e,n)=>{var r=n(8154),i=n(1198);t.exports=!r((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},4978:(t,e,n)=>{var r=n(9298),i=n(5764).f,s=n(9293),a=n(7041),o=n(6e3),l=n(1425),c=n(7007);t.exports=function(t,e){var n,d,h,u,p,f=t.target,m=t.global,g=t.stat;if(n=m?r:g?r[f]||o(f,{}):(r[f]||{}).prototype)for(d in e){if(u=e[d],h=t.dontCallGetSet?(p=i(n,d))&&p.value:n[d],!c(m?d:f+(g?".":"#")+d,t.forced)&&void 0!==h){if(typeof u==typeof h)continue;l(u,h)}(t.sham||h&&h.sham)&&s(u,"sham",!0),a(n,d,u,t)}}},8154:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7294:(t,e,n)=>{var r=n(2486),i=Function.prototype,s=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(s):function(){return a.apply(s,arguments)})},7789:(t,e,n)=>{var r=n(6218),i=n(1782),s=n(2486),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:s?a(t,e):function(){return t.apply(e,arguments)}}},2486:(t,e,n)=>{var r=n(8154);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2026:(t,e,n)=>{var r=n(2486),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},5145:(t,e,n)=>{var r=n(940),i=n(936),s=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,o=i(s,"name"),l=o&&"something"===function(){}.name,c=o&&(!r||r&&a(s,"name").configurable);t.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},1299:(t,e,n)=>{var r=n(8403),i=n(1782);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},6218:(t,e,n)=>{var r=n(8374),i=n(8403);t.exports=function(t){if("Function"===r(t))return i(t)}},8403:(t,e,n)=>{var r=n(2486),i=Function.prototype,s=i.call,a=r&&i.bind.bind(s,s);t.exports=r?a:function(t){return function(){return s.apply(t,arguments)}}},7187:(t,e,n)=>{var r=n(9298),i=n(7316);t.exports=function(t,e){return arguments.length<2?(n=r[t],i(n)?n:void 0):r[t]&&r[t][e];var n}},9235:t=>{t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},907:(t,e,n)=>{var r=n(2026),i=n(4719),s=n(9235),a=n(273);t.exports=function(t,e){e&&"string"==typeof t||i(t);var n=a(t);return s(i(void 0!==n?r(n,t):t))}},273:(t,e,n)=>{var r=n(8329),i=n(8486),s=n(3734),a=n(6596),o=n(2292)("iterator");t.exports=function(t){if(!s(t))return i(t,o)||i(t,"@@iterator")||a[r(t)]}},7612:(t,e,n)=>{var r=n(2026),i=n(1782),s=n(4719),a=n(9762),o=n(273),l=TypeError;t.exports=function(t,e){var n=arguments.length<2?o(t):e;if(i(n))return s(r(n,t));throw new l(a(t)+" is not iterable")}},8486:(t,e,n)=>{var r=n(1782),i=n(3734);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},1096:(t,e,n)=>{var r=n(1782),i=n(4719),s=n(2026),a=n(1003),o=n(9235),l="Invalid size",c=RangeError,d=TypeError,h=Math.max,u=function(t,e,n,r){this.set=t,this.size=e,this.has=n,this.keys=r};u.prototype={getIterator:function(){return o(i(s(this.keys,this.set)))},includes:function(t){return s(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new d(l);var n=a(e);if(n<0)throw new c(l);return new u(t,h(n,0),r(t.has),r(t.keys))}},9298:function(t){var e=function(t){return t&&t.Math===Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof global&&global)||e("object"==typeof this&&this)||function(){return this}()||Function("return this")()},936:(t,e,n)=>{var r=n(8403),i=n(2007),s=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(i(t),e)}},6010:t=>{t.exports={}},519:(t,e,n)=>{var r=n(7187);t.exports=r("document","documentElement")},9394:(t,e,n)=>{var r=n(940),i=n(8154),s=n(5584);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},3622:(t,e,n)=>{var r=n(8403),i=n(8154),s=n(8374),a=Object,o=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?o(t,""):a(t)}:a},7523:(t,e,n)=>{var r=n(7316),i=n(7633),s=n(9763);t.exports=function(t,e,n){var a,o;return s&&r(a=e.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&s(t,o),t}},4993:(t,e,n)=>{var r=n(8403),i=n(7316),s=n(7542),a=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(t){return a(t)}),t.exports=s.inspectSource},8422:(t,e,n)=>{var r=n(7633),i=n(9293);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},1649:(t,e,n)=>{var r,i,s,a=n(8443),o=n(9298),l=n(7633),c=n(9293),d=n(936),h=n(7542),u=n(3727),p=n(6010),f="Object already initialized",m=o.TypeError,g=o.WeakMap;if(a||h.state){var v=h.state||(h.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(t,e){if(v.has(t))throw new m(f);return e.facade=t,v.set(t,e),e},i=function(t){return v.get(t)||{}},s=function(t){return v.has(t)}}else{var b=u("state");p[b]=!0,r=function(t,e){if(d(t,b))throw new m(f);return e.facade=t,c(t,b,e),e},i=function(t){return d(t,b)?t[b]:{}},s=function(t){return d(t,b)}}t.exports={set:r,get:i,has:s,enforce:function(t){return s(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}}}},5191:(t,e,n)=>{var r=n(2292),i=n(6596),s=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[s]===t)}},6998:(t,e,n)=>{var r=n(8374);t.exports=Array.isArray||function(t){return"Array"===r(t)}},5986:(t,e,n)=>{var r=n(8329);t.exports=function(t){var e=r(t);return"BigInt64Array"===e||"BigUint64Array"===e}},7316:(t,e,n)=>{var r=n(1558),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},7007:(t,e,n)=>{var r=n(8154),i=n(7316),s=/#|\.prototype\./,a=function(t,e){var n=l[o(t)];return n===d||n!==c&&(i(e)?r(e):!!e)},o=a.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",d=a.POLYFILL="P";t.exports=a},3734:t=>{t.exports=function(t){return null==t}},7633:(t,e,n)=>{var r=n(7316),i=n(1558),s=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===s}:function(t){return"object"==typeof t?null!==t:r(t)}},2554:t=>{t.exports=!1},7814:(t,e,n)=>{var r=n(7187),i=n(7316),s=n(2658),a=n(7960),o=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&s(e.prototype,o(t))}},5504:(t,e,n)=>{var r=n(2026);t.exports=function(t,e,n){for(var i,s,a=n?t:t.iterator,o=t.next;!(i=r(o,a)).done;)if(void 0!==(s=e(i.value)))return s}},6837:(t,e,n)=>{var r=n(7789),i=n(2026),s=n(4719),a=n(9762),o=n(5191),l=n(451),c=n(2658),d=n(7612),h=n(273),u=n(3316),p=TypeError,f=function(t,e){this.stopped=t,this.result=e},m=f.prototype;t.exports=function(t,e,n){var g,v,b,y,_,A,w,x=n&&n.that,E=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),T=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),k=r(e,x),M=function(t){return g&&u(g,"normal",t),new f(!0,t)},I=function(t){return E?(s(t),C?k(t[0],t[1],M):k(t[0],t[1])):C?k(t,M):k(t)};if(S)g=t.iterator;else if(T)g=t;else{if(!(v=h(t)))throw new p(a(t)+" is not iterable");if(o(v)){for(b=0,y=l(t);y>b;b++)if((_=I(t[b]))&&c(m,_))return _;return new f(!1)}g=d(t,v)}for(A=S?t.next:g.next;!(w=i(A,g)).done;){try{_=I(w.value)}catch(t){u(g,"throw",t)}if("object"==typeof _&&_&&c(m,_))return _}return new f(!1)}},3316:(t,e,n)=>{var r=n(2026),i=n(4719),s=n(8486);t.exports=function(t,e,n){var a,o;i(t);try{if(!(a=s(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){o=!0,a=t}if("throw"===e)throw n;if(o)throw a;return i(a),n}},375:(t,e,n)=>{var r=n(2026),i=n(6941),s=n(9293),a=n(6880),o=n(2292),l=n(1649),c=n(8486),d=n(5238).IteratorPrototype,h=n(1111),u=n(3316),p=o("toStringTag"),f="IteratorHelper",m="WrapForValidIterator",g=l.set,v=function(t){var e=l.getterFor(t?m:f);return a(i(d),{next:function(){var n=e(this);if(t)return n.nextHandler();try{var r=n.done?void 0:n.nextHandler();return h(r,n.done)}catch(t){throw n.done=!0,t}},return:function(){var n=e(this),i=n.iterator;if(n.done=!0,t){var s=c(i,"return");return s?r(s,i):h(void 0,!0)}if(n.inner)try{u(n.inner.iterator,"normal")}catch(t){return u(i,"throw",t)}return u(i,"normal"),h(void 0,!0)}})},b=v(!0),y=v(!1);s(y,p,"Iterator Helper"),t.exports=function(t,e){var n=function(n,r){r?(r.iterator=n.iterator,r.next=n.next):r=n,r.type=e?m:f,r.nextHandler=t,r.counter=0,r.done=!1,g(this,r)};return n.prototype=e?b:y,n}},8142:(t,e,n)=>{var r=n(2026),i=n(1782),s=n(4719),a=n(9235),o=n(375),l=n(5723),c=o((function(){var t=this.iterator,e=s(r(this.next,t));if(!(this.done=!!e.done))return l(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return s(this),i(t),new c(a(this),{mapper:t})}},5238:(t,e,n)=>{var r,i,s,a=n(8154),o=n(7316),l=n(7633),c=n(6941),d=n(2176),h=n(7041),u=n(2292),p=n(2554),f=u("iterator"),m=!1;[].keys&&("next"in(s=[].keys())?(i=d(d(s)))!==Object.prototype&&(r=i):m=!0),!l(r)||a((function(){var t={};return r[f].call(t)!==t}))?r={}:p&&(r=c(r)),o(r[f])||h(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},6596:t=>{t.exports={}},451:(t,e,n)=>{var r=n(8293);t.exports=function(t){return r(t.length)}},9687:(t,e,n)=>{var r=n(8403),i=n(8154),s=n(7316),a=n(936),o=n(940),l=n(5145).CONFIGURABLE,c=n(4993),d=n(1649),h=d.enforce,u=d.get,p=String,f=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),b=o&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),_=t.exports=function(t,e,n){"Symbol("===m(p(e),0,7)&&(e="["+g(p(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||l&&t.name!==e)&&(o?f(t,"name",{value:e,configurable:!0}):t.name=e),b&&n&&a(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=h(t);return a(r,"source")||(r.source=v(y,"string"==typeof e?e:"")),t};Function.prototype.toString=_((function(){return s(this)&&u(this).source||c(this)}),"toString")},8537:t=>{var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},1264:(t,e,n)=>{var r=n(5730);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},6941:(t,e,n)=>{var r,i=n(4719),s=n(6617),a=n(298),o=n(6010),l=n(519),c=n(5584),d=n(3727),h="prototype",u="script",p=d("IE_PROTO"),f=function(){},m=function(t){return"<"+u+">"+t+"</"+u+">"},g=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;v="undefined"!=typeof document?document.domain&&r?g(r):(e=c("iframe"),n="java"+u+":",e.style.display="none",l.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(m("document.F=Object")),t.close(),t.F):g(r);for(var i=a.length;i--;)delete v[h][a[i]];return v()};o[p]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f[h]=i(t),n=new f,f[h]=null,n[p]=t):n=v(),void 0===e?n:s.f(n,e)}},6617:(t,e,n)=>{var r=n(940),i=n(9610),s=n(7744),a=n(4719),o=n(4115),l=n(1706);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=o(e),i=l(e),c=i.length,d=0;c>d;)s.f(t,n=i[d++],r[n]);return t}},7744:(t,e,n)=>{var r=n(940),i=n(9394),s=n(9610),a=n(4719),o=n(4871),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h="enumerable",u="configurable",p="writable";e.f=r?s?function(t,e,n){if(a(t),e=o(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var r=d(t,e);r&&r[p]&&(t[e]=n.value,n={configurable:u in n?n[u]:r[u],enumerable:h in n?n[h]:r[h],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=o(e),a(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},5764:(t,e,n)=>{var r=n(940),i=n(2026),s=n(1879),a=n(1198),o=n(4115),l=n(4871),c=n(936),d=n(9394),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=o(t),e=l(e),d)try{return h(t,e)}catch(t){}if(c(t,e))return a(!i(s.f,t,e),t[e])}},5455:(t,e,n)=>{var r=n(9138),i=n(298).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},1963:(t,e)=>{e.f=Object.getOwnPropertySymbols},2176:(t,e,n)=>{var r=n(936),i=n(7316),s=n(2007),a=n(3727),o=n(7888),l=a("IE_PROTO"),c=Object,d=c.prototype;t.exports=o?c.getPrototypeOf:function(t){var e=s(t);if(r(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?d:null}},2658:(t,e,n)=>{var r=n(8403);t.exports=r({}.isPrototypeOf)},9138:(t,e,n)=>{var r=n(8403),i=n(936),s=n(4115),a=n(9773).indexOf,o=n(6010),l=r([].push);t.exports=function(t,e){var n,r=s(t),c=0,d=[];for(n in r)!i(o,n)&&i(r,n)&&l(d,n);for(;e.length>c;)i(r,n=e[c++])&&(~a(d,n)||l(d,n));return d}},1706:(t,e,n)=>{var r=n(9138),i=n(298);t.exports=Object.keys||function(t){return r(t,i)}},1879:(t,e)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},9763:(t,e,n)=>{var r=n(1299),i=n(4719),s=n(4958);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),s(r),e?t(n,r):n.__proto__=r,n}}():void 0)},2923:(t,e,n)=>{var r=n(2026),i=n(7316),s=n(7633),a=TypeError;t.exports=function(t,e){var n,o;if("string"===e&&i(n=t.toString)&&!s(o=r(n,t)))return o;if(i(n=t.valueOf)&&!s(o=r(n,t)))return o;if("string"!==e&&i(n=t.toString)&&!s(o=r(n,t)))return o;throw new a("Can't convert object to primitive value")}},8953:(t,e,n)=>{var r=n(7187),i=n(8403),s=n(5455),a=n(1963),o=n(4719),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=s.f(o(t)),n=a.f;return n?l(e,n(t)):e}},3713:(t,e,n)=>{var r=n(8403),i=n(936),s=SyntaxError,a=parseInt,o=String.fromCharCode,l=r("".charAt),c=r("".slice),d=r(/./.exec),h={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},u=/^[\da-f]{4}$/i,p=/^[\u0000-\u001F]$/;t.exports=function(t,e){for(var n=!0,r="";e<t.length;){var f=l(t,e);if("\\"===f){var m=c(t,e,e+2);if(i(h,m))r+=h[m],e+=2;else{if("\\u"!==m)throw new s('Unknown escape sequence: "'+m+'"');var g=c(t,e+=2,e+4);if(!d(u,g))throw new s("Bad Unicode escape at: "+e);r+=o(a(g,16)),e+=4}}else{if('"'===f){n=!1,e++;break}if(d(p,f))throw new s("Bad control character in string literal at: "+e);r+=f,e++}}if(n)throw new s("Unterminated string at: "+e);return{value:r,end:e}}},6085:(t,e,n)=>{var r=n(7744).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},5645:(t,e,n)=>{var r=n(3734),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},4057:(t,e,n)=>{var r=n(23),i=n(8848),s=r.Set,a=r.add;t.exports=function(t){var e=new s;return i(t,(function(t){a(e,t)})),e}},5656:(t,e,n)=>{var r=n(5690),i=n(23),s=n(4057),a=n(6098),o=n(1096),l=n(8848),c=n(5504),d=i.has,h=i.remove;t.exports=function(t){var e=r(this),n=o(t),i=s(e);return a(e)<=n.size?l(e,(function(t){n.includes(t)&&h(i,t)})):c(n.getIterator(),(function(t){d(e,t)&&h(i,t)})),i}},23:(t,e,n)=>{var r=n(8403),i=Set.prototype;t.exports={Set,add:r(i.add),has:r(i.has),remove:r(i.delete),proto:i}},8461:(t,e,n)=>{var r=n(5690),i=n(23),s=n(6098),a=n(1096),o=n(8848),l=n(5504),c=i.Set,d=i.add,h=i.has;t.exports=function(t){var e=r(this),n=a(t),i=new c;return s(e)>n.size?l(n.getIterator(),(function(t){h(e,t)&&d(i,t)})):o(e,(function(t){n.includes(t)&&d(i,t)})),i}},8550:(t,e,n)=>{var r=n(5690),i=n(23).has,s=n(6098),a=n(1096),o=n(8848),l=n(5504),c=n(3316);t.exports=function(t){var e=r(this),n=a(t);if(s(e)<=n.size)return!1!==o(e,(function(t){if(n.includes(t))return!1}),!0);var d=n.getIterator();return!1!==l(d,(function(t){if(i(e,t))return c(d,"normal",!1)}))}},990:(t,e,n)=>{var r=n(5690),i=n(6098),s=n(8848),a=n(1096);t.exports=function(t){var e=r(this),n=a(t);return!(i(e)>n.size)&&!1!==s(e,(function(t){if(!n.includes(t))return!1}),!0)}},194:(t,e,n)=>{var r=n(5690),i=n(23).has,s=n(6098),a=n(1096),o=n(5504),l=n(3316);t.exports=function(t){var e=r(this),n=a(t);if(s(e)<n.size)return!1;var c=n.getIterator();return!1!==o(c,(function(t){if(!i(e,t))return l(c,"normal",!1)}))}},8848:(t,e,n)=>{var r=n(8403),i=n(5504),s=n(23),a=s.Set,o=s.proto,l=r(o.forEach),c=r(o.keys),d=c(new a).next;t.exports=function(t,e,n){return n?i({iterator:c(t),next:d},e):l(t,e)}},507:(t,e,n)=>{var r=n(7187),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=r("Set");try{(new e)[t](i(0));try{return(new e)[t](i(-1)),!1}catch(t){return!0}}catch(t){return!1}}},6098:(t,e,n)=>{var r=n(1299),i=n(23);t.exports=r(i.proto,"size","get")||function(t){return t.size}},3194:(t,e,n)=>{var r=n(5690),i=n(23),s=n(4057),a=n(1096),o=n(5504),l=i.add,c=i.has,d=i.remove;t.exports=function(t){var e=r(this),n=a(t).getIterator(),i=s(e);return o(n,(function(t){c(e,t)?d(i,t):l(i,t)})),i}},5703:(t,e,n)=>{var r=n(5690),i=n(23).add,s=n(4057),a=n(1096),o=n(5504);t.exports=function(t){var e=r(this),n=a(t).getIterator(),l=s(e);return o(n,(function(t){i(l,t)})),l}},3727:(t,e,n)=>{var r=n(6807),i=n(7561),s=r("keys");t.exports=function(t){return s[t]||(s[t]=i(t))}},7542:(t,e,n)=>{var r=n(9298),i=n(6e3),s="__core-js_shared__",a=r[s]||i(s,{});t.exports=a},6807:(t,e,n)=>{var r=n(2554),i=n(7542);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.34.0",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},4837:(t,e,n)=>{var r=n(9298),i=n(8154),s=n(2171),a=n(3413),o=n(8471),l=n(4864),c=r.structuredClone;t.exports=!!c&&!i((function(){if(o&&s>92||l&&s>94||a&&s>97)return!1;var t=new ArrayBuffer(8),e=c(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},3663:(t,e,n)=>{var r=n(2171),i=n(8154),s=n(9298).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6985:(t,e,n)=>{var r=n(1003),i=Math.max,s=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):s(n,e)}},212:(t,e,n)=>{var r=n(4151),i=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},9548:(t,e,n)=>{var r=n(1003),i=n(8293),s=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw new s("Wrong length or index");return n}},4115:(t,e,n)=>{var r=n(3622),i=n(5645);t.exports=function(t){return r(i(t))}},1003:(t,e,n)=>{var r=n(8537);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},8293:(t,e,n)=>{var r=n(1003),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},2007:(t,e,n)=>{var r=n(5645),i=Object;t.exports=function(t){return i(r(t))}},9892:(t,e,n)=>{var r=n(9817),i=RangeError;t.exports=function(t,e){var n=r(t);if(n%e)throw new i("Wrong offset");return n}},9817:(t,e,n)=>{var r=n(1003),i=RangeError;t.exports=function(t){var e=r(t);if(e<0)throw new i("The argument can't be less than 0");return e}},4151:(t,e,n)=>{var r=n(2026),i=n(7633),s=n(7814),a=n(8486),o=n(2923),l=n(2292),c=TypeError,d=l("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var n,l=a(t,d);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||s(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},4871:(t,e,n)=>{var r=n(4151),i=n(7814);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},3077:(t,e,n)=>{var r={};r[n(2292)("toStringTag")]="z",t.exports="[object z]"===String(r)},5730:(t,e,n)=>{var r=n(8329),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},2276:(t,e,n)=>{var r=n(4864);t.exports=function(t){try{if(r)return Function('return require("'+t+'")')()}catch(t){}}},9762:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},7561:(t,e,n)=>{var r=n(8403),i=0,s=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+s,36)}},7960:(t,e,n)=>{var r=n(3663);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9610:(t,e,n)=>{var r=n(940),i=n(8154);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2743:t=>{var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},8443:(t,e,n)=>{var r=n(9298),i=n(7316),s=r.WeakMap;t.exports=i(s)&&/native code/.test(String(s))},2292:(t,e,n)=>{var r=n(9298),i=n(6807),s=n(936),a=n(7561),o=n(3663),l=n(7960),c=r.Symbol,d=i("wks"),h=l?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return s(d,t)||(d[t]=o&&s(c,t)?c[t]:h("Symbol."+t)),d[t]}},7342:(t,e,n)=>{var r=n(7187),i=n(936),s=n(9293),a=n(2658),o=n(9763),l=n(1425),c=n(6085),d=n(7523),h=n(1264),u=n(8422),p=n(1931),f=n(940),m=n(2554);t.exports=function(t,e,n,g){var v="stackTraceLimit",b=g?2:1,y=t.split("."),_=y[y.length-1],A=r.apply(null,y);if(A){var w=A.prototype;if(!m&&i(w,"cause")&&delete w.cause,!n)return A;var x=r("Error"),E=e((function(t,e){var n=h(g?e:t,void 0),r=g?new A(t):new A;return void 0!==n&&s(r,"message",n),p(r,E,r.stack,2),this&&a(w,this)&&d(r,this,E),arguments.length>b&&u(r,arguments[b]),r}));if(E.prototype=w,"Error"!==_?o?o(E,x):l(E,x,{name:!0}):f&&v in A&&(c(E,A,v),c(E,A,"prepareStackTrace")),l(E,A),!m)try{w.name!==_&&s(w,"name",_),w.constructor=E}catch(t){}return E}}},4226:(t,e,n)=>{var r=n(4978),i=n(2007),s=n(451),a=n(6661),o=n(4287);r({target:"Array",proto:!0,arity:1,forced:n(8154)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),n=s(e),r=arguments.length;o(n+r);for(var l=0;l<r;l++)e[n]=arguments[l],n++;return a(e,n),n}})},3352:(t,e,n)=>{var r=n(4978),i=n(9298),s=n(7294),a=n(7342),o="WebAssembly",l=i[o],c=7!==new Error("e",{cause:7}).cause,d=function(t,e){var n={};n[t]=a(t,e,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},h=function(t,e){if(l&&l[t]){var n={};n[t]=a(o+"."+t,e,c),r({target:o,stat:!0,constructor:!0,arity:1,forced:c},n)}};d("Error",(function(t){return function(e){return s(t,this,arguments)}})),d("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),d("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),d("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),d("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),d("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),d("URIError",(function(t){return function(e){return s(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},9803:(t,e,n)=>{var r=n(5861),i=n(4026).findLastIndex,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},8837:(t,e,n)=>{var r=n(5861),i=n(4026).findLast,s=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},8347:(t,e,n)=>{var r=n(9298),i=n(2026),s=n(5861),a=n(451),o=n(9892),l=n(2007),c=n(8154),d=r.RangeError,h=r.Int8Array,u=h&&h.prototype,p=u&&u.set,f=s.aTypedArray,m=s.exportTypedArrayMethod,g=!c((function(){var t=new Uint8ClampedArray(2);return i(p,t,{length:1,0:3},1),3!==t[1]})),v=g&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));m("set",(function(t){f(this);var e=o(arguments.length>1?arguments[1]:void 0,1),n=l(t);if(g)return i(p,this,n,e);var r=this.length,s=a(n),c=0;if(s+e>r)throw new d("Wrong length");for(;c<s;)this[e+c]=n[c++]}),!g||v)},7995:(t,e,n)=>{var r=n(2304),i=n(5861),s=i.aTypedArray,a=i.exportTypedArrayMethod,o=i.getTypedArrayConstructor;a("toReversed",(function(){return r(s(this),o(this))}))},62:(t,e,n)=>{var r=n(5861),i=n(8403),s=n(1782),a=n(7003),o=r.aTypedArray,l=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,d=i(r.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&s(t);var e=o(this),n=a(l(e),e);return d(n,t)}))},4602:(t,e,n)=>{var r=n(5886),i=n(5861),s=n(5986),a=n(1003),o=n(212),l=i.aTypedArray,c=i.getTypedArrayConstructor,d=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();d("with",{with:function(t,e){var n=l(this),i=a(t),d=s(n)?o(e):+e;return r(n,c(n),i,d)}}.with,!h)},344:(t,e,n)=>{var r=n(940),i=n(9691),s=n(582),a=ArrayBuffer.prototype;r&&!("detached"in a)&&i(a,"detached",{configurable:!0,get:function(){return s(this)}})},7583:(t,e,n)=>{var r=n(4978),i=n(4358);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},4305:(t,e,n)=>{var r=n(4978),i=n(4358);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},7121:(t,e,n)=>{var r=n(4978),i=n(9298),s=n(5834),a=n(4719),o=n(7316),l=n(2176),c=n(9691),d=n(8947),h=n(8154),u=n(936),p=n(2292),f=n(5238).IteratorPrototype,m=n(940),g=n(2554),v="constructor",b="Iterator",y=p("toStringTag"),_=TypeError,A=i[b],w=g||!o(A)||A.prototype!==f||!h((function(){A({})})),x=function(){if(s(this,f),l(this)===f)throw new _("Abstract class Iterator not directly constructable")},E=function(t,e){m?c(f,t,{configurable:!0,get:function(){return e},set:function(e){if(a(this),this===f)throw new _("You can't redefine this property");u(this,t)?this[t]=e:d(this,t,e)}}):f[t]=e};u(f,y)||E(y,b),!w&&u(f,v)&&f[v]!==Object||E(v,x),x.prototype=f,r({global:!0,constructor:!0,forced:w},{Iterator:x})},385:(t,e,n)=>{var r=n(4978),i=n(6837),s=n(1782),a=n(4719),o=n(9235);r({target:"Iterator",proto:!0,real:!0},{every:function(t){a(this),s(t);var e=o(this),n=0;return!i(e,(function(e,r){if(!t(e,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2993:(t,e,n)=>{var r=n(4978),i=n(2026),s=n(1782),a=n(4719),o=n(9235),l=n(375),c=n(5723),d=n(2554),h=l((function(){for(var t,e,n=this.iterator,r=this.predicate,s=this.next;;){if(t=a(i(s,n)),this.done=!!t.done)return;if(e=t.value,c(n,r,[e,this.counter++],!0))return e}}));r({target:"Iterator",proto:!0,real:!0,forced:d},{filter:function(t){return a(this),s(t),new h(o(this),{predicate:t})}})},8497:(t,e,n)=>{var r=n(4978),i=n(2026),s=n(1782),a=n(4719),o=n(9235),l=n(907),c=n(375),d=n(3316),h=n(2554),u=c((function(){for(var t,e,n=this.iterator,r=this.mapper;;){if(e=this.inner)try{if(!(t=a(i(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){d(n,"throw",t)}if(t=a(i(this.next,n)),this.done=!!t.done)return;try{this.inner=l(r(t.value,this.counter++),!1)}catch(t){d(n,"throw",t)}}}));r({target:"Iterator",proto:!0,real:!0,forced:h},{flatMap:function(t){return a(this),s(t),new u(o(this),{mapper:t,inner:null})}})},7944:(t,e,n)=>{var r=n(4978),i=n(8142);r({target:"Iterator",proto:!0,real:!0,forced:n(2554)},{map:i})},8518:(t,e,n)=>{var r=n(4978),i=n(6837),s=n(1782),a=n(4719),o=n(9235);r({target:"Iterator",proto:!0,real:!0},{some:function(t){a(this),s(t);var e=o(this),n=0;return i(e,(function(e,r){if(t(e,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2808:(t,e,n)=>{var r=n(4978),i=n(940),s=n(9298),a=n(7187),o=n(8403),l=n(2026),c=n(7316),d=n(7633),h=n(6998),u=n(936),p=n(5730),f=n(451),m=n(8947),g=n(8154),v=n(3713),b=n(3663),y=s.JSON,_=s.Number,A=s.SyntaxError,w=y&&y.parse,x=a("Object","keys"),E=Object.getOwnPropertyDescriptor,S=o("".charAt),T=o("".slice),C=o(/./.exec),k=o([].push),M=/^\d$/,I=/^[1-9]$/,R=/^(?:-|\d)$/,P=/^[\t\n\r ]$/,D=function(t,e,n,r){var i,s,a,o,c,p=t[e],m=r&&p===r.value,g=m&&"string"==typeof r.source?{source:r.source}:{};if(d(p)){var v=h(p),b=m?r.nodes:v?[]:{};if(v)for(i=b.length,a=f(p),o=0;o<a;o++)L(p,o,D(p,""+o,n,o<i?b[o]:void 0));else for(s=x(p),a=f(s),o=0;o<a;o++)c=s[o],L(p,c,D(p,c,n,u(b,c)?b[c]:void 0))}return l(n,t,e,p,g)},L=function(t,e,n){if(i){var r=E(t,e);if(r&&!r.configurable)return}void 0===n?delete t[e]:m(t,e,n)},F=function(t,e,n,r){this.value=t,this.end=e,this.source=n,this.nodes=r},O=function(t,e){this.source=t,this.index=e};O.prototype={fork:function(t){return new O(this.source,t)},parse:function(){var t=this.source,e=this.skip(P,this.index),n=this.fork(e),r=S(t,e);if(C(R,r))return n.number();switch(r){case"{":return n.object();case"[":return n.array();case'"':return n.string();case"t":return n.keyword(!0);case"f":return n.keyword(!1);case"n":return n.keyword(null)}throw new A('Unexpected character: "'+r+'" at: '+e)},node:function(t,e,n,r,i){return new F(e,r,t?null:T(this.source,n,r),i)},object:function(){for(var t=this.source,e=this.index+1,n=!1,r={},i={};e<t.length;){if(e=this.until(['"',"}"],e),"}"===S(t,e)&&!n){e++;break}var s=this.fork(e).string(),a=s.value;e=s.end,e=this.until([":"],e)+1,e=this.skip(P,e),s=this.fork(e).parse(),m(i,a,s),m(r,a,s.value),e=this.until([",","}"],s.end);var o=S(t,e);if(","===o)n=!0,e++;else if("}"===o){e++;break}}return this.node(1,r,this.index,e,i)},array:function(){for(var t=this.source,e=this.index+1,n=!1,r=[],i=[];e<t.length;){if(e=this.skip(P,e),"]"===S(t,e)&&!n){e++;break}var s=this.fork(e).parse();if(k(i,s),k(r,s.value),e=this.until([",","]"],s.end),","===S(t,e))n=!0,e++;else if("]"===S(t,e)){e++;break}}return this.node(1,r,this.index,e,i)},string:function(){var t=this.index,e=v(this.source,this.index+1);return this.node(0,e.value,t,e.end)},number:function(){var t=this.source,e=this.index,n=e;if("-"===S(t,n)&&n++,"0"===S(t,n))n++;else{if(!C(I,S(t,n)))throw new A("Failed to parse number at: "+n);n=this.skip(M,++n)}if(!("."===S(t,n)&&(n=this.skip(M,++n)),"e"!==S(t,n)&&"E"!==S(t,n)||(n++,"+"!==S(t,n)&&"-"!==S(t,n)||n++,n!==(n=this.skip(M,n)))))throw new A("Failed to parse number's exponent value at: "+n);return this.node(0,_(T(t,e,n)),e,n)},keyword:function(t){var e=""+t,n=this.index,r=n+e.length;if(T(this.source,n,r)!==e)throw new A("Failed to parse value at: "+n);return this.node(0,t,n,r)},skip:function(t,e){for(var n=this.source;e<n.length&&C(t,S(n,e));e++);return e},until:function(t,e){e=this.skip(P,e);for(var n=S(this.source,e),r=0;r<t.length;r++)if(t[r]===n)return e;throw new A('Unexpected character: "'+n+'" at: '+e)}};var B=g((function(){var t,e="9007199254740993";return w(e,(function(e,n,r){t=r.source})),t!==e})),N=b&&!g((function(){return 1/w("-0 \t")!=-1/0}));r({target:"JSON",stat:!0,forced:B},{parse:function(t,e){return N&&!c(e)?w(t):function(t,e){t=p(t);var n=new O(t,0,""),r=n.parse(),i=r.value,s=n.skip(P,r.end);if(s<t.length)throw new A('Unexpected extra character: "'+S(t,s)+'" after the parsed data at: '+s);return c(e)?D({"":i},"",e,r):i}(t,e)}})},5561:(t,e,n)=>{var r=n(4978),i=n(5656);r({target:"Set",proto:!0,real:!0,forced:!n(507)("difference")},{difference:i})},8587:(t,e,n)=>{var r=n(4978),i=n(8154),s=n(8461);r({target:"Set",proto:!0,real:!0,forced:!n(507)("intersection")||i((function(){return"3,2"!==Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:s})},3247:(t,e,n)=>{var r=n(4978),i=n(8550);r({target:"Set",proto:!0,real:!0,forced:!n(507)("isDisjointFrom")},{isDisjointFrom:i})},3302:(t,e,n)=>{var r=n(4978),i=n(990);r({target:"Set",proto:!0,real:!0,forced:!n(507)("isSubsetOf")},{isSubsetOf:i})},9490:(t,e,n)=>{var r=n(4978),i=n(194);r({target:"Set",proto:!0,real:!0,forced:!n(507)("isSupersetOf")},{isSupersetOf:i})},5438:(t,e,n)=>{var r=n(4978),i=n(3194);r({target:"Set",proto:!0,real:!0,forced:!n(507)("symmetricDifference")},{symmetricDifference:i})},7914:(t,e,n)=>{var r=n(4978),i=n(5703);r({target:"Set",proto:!0,real:!0,forced:!n(507)("union")},{union:i})},9709:(t,e,n)=>{var r=n(4978),i=n(9298),s=n(7187),a=n(1198),o=n(7744).f,l=n(936),c=n(5834),d=n(7523),h=n(1264),u=n(5050),p=n(34),f=n(940),m=n(2554),g="DOMException",v=s("Error"),b=s(g),y=function(){c(this,_);var t=arguments.length,e=h(t<1?void 0:arguments[0]),n=h(t<2?void 0:arguments[1],"Error"),r=new b(e,n),i=new v(e);return i.name=g,o(r,"stack",a(1,p(i.stack,1))),d(r,this,y),r},_=y.prototype=b.prototype,A="stack"in new v(g),w="stack"in new b(1,2),x=b&&f&&Object.getOwnPropertyDescriptor(i,g),E=!(!x||x.writable&&x.configurable),S=A&&!E&&!w;r({global:!0,constructor:!0,forced:m||S},{DOMException:S?y:b});var T=s(g),C=T.prototype;if(C.constructor!==T)for(var k in m||o(C,"constructor",a(1,T)),u)if(l(u,k)){var M=u[k],I=M.s;l(T,I)||o(T,I,a(6,M.c))}},3655:(t,e,n)=>{var r=n(7041),i=n(8403),s=n(5730),a=n(2743),o=URLSearchParams,l=o.prototype,c=i(l.append),d=i(l.delete),h=i(l.forEach),u=i([].push),p=new o("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&r(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return d(this,t);var r=[];h(this,(function(t,e){u(r,{key:e,value:t})})),a(e,1);for(var i,o=s(t),l=s(n),p=0,f=0,m=!1,g=r.length;p<g;)i=r[p++],m||i.key===o?(m=!0,d(this,i.key)):f++;for(;f<g;)(i=r[f++]).key===o&&i.value===l||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},2555:(t,e,n)=>{var r=n(7041),i=n(8403),s=n(5730),a=n(2743),o=URLSearchParams,l=o.prototype,c=i(l.getAll),d=i(l.has),h=new o("a=1");!h.has("a",2)&&h.has("a",void 0)||r(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return d(this,t);var r=c(this,t);a(e,1);for(var i=s(n),o=0;o<r.length;)if(r[o++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},2202:(t,e,n)=>{var r=n(940),i=n(8403),s=n(9691),a=URLSearchParams.prototype,o=i(a.forEach);r&&!("size"in a)&&s(a,"size",{get:function(){var t=0;return o(this,(function(){t++})),t},configurable:!0,enumerable:!0})},7640:(t,e,n)=>{n.d(e,{AnnotationLayer:()=>H,FreeTextAnnotationElement:()=>T,InkAnnotationElement:()=>D,StampAnnotationElement:()=>N}),n(4226),n(5561),n(8587),n(3247),n(3302),n(9490),n(5438),n(7914),n(7944),n(7121),n(8497);var r=n(3266),i=n(473),s=n(4780);function a(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function o(t){return Math.max(0,Math.min(255,255*t))}class l{static CMYK_G(t){let[e,n,r,i]=t;return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=o(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=a(e);return`#${n}${n}${n}`}static RGB_G(t){let[e,n,r]=t;return["G",.3*e+.59*n+.11*r]}static RGB_rgb(t){return t.map(o)}static RGB_HTML(t){return`#${t.map(a).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,r,i]=t;return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(t){let[e,n,r,i]=t;return[o(1-Math.min(1,e+i)),o(1-Math.min(1,r+i)),o(1-Math.min(1,n+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,r]=t;const i=1-e,s=1-n,a=1-r;return["CMYK",i,s,a,Math.min(i,s,a)]}}var c=n(8266);const d=1e3,h=new WeakSet;function u(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class p{static create(t){switch(t.data.annotationType){case r.AnnotationType.LINK:return new m(t);case r.AnnotationType.TEXT:return new g(t);case r.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new b(t);case"Btn":return t.data.radioButton?new A(t):t.data.checkBox?new _(t):new w(t);case"Ch":return new x(t);case"Sig":return new y(t)}return new v(t);case r.AnnotationType.POPUP:return new E(t);case r.AnnotationType.FREETEXT:return new T(t);case r.AnnotationType.LINE:return new C(t);case r.AnnotationType.SQUARE:return new k(t);case r.AnnotationType.CIRCLE:return new M(t);case r.AnnotationType.POLYLINE:return new I(t);case r.AnnotationType.CARET:return new P(t);case r.AnnotationType.INK:return new D(t);case r.AnnotationType.POLYGON:return new R(t);case r.AnnotationType.HIGHLIGHT:return new L(t);case r.AnnotationType.UNDERLINE:return new F(t);case r.AnnotationType.SQUIGGLY:return new O(t);case r.AnnotationType.STRIKEOUT:return new B(t);case r.AnnotationType.STAMP:return new N(t);case r.AnnotationType.FILEATTACHMENT:return new q(t);default:return new f(t)}}}class f{#t=!1;constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(t){let{titleObj:e,contentsObj:n,richText:r}=t;return!!(e?.str||n?.str||r?.str)}get hasPopupData(){return f._hasPopupData(this.data)}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof v||(s.tabIndex=d),s.style.zIndex=this.parent.zIndex++,this.data.popupRef&&s.setAttribute("aria-haspopup","dialog"),e.noRotate&&s.classList.add("norotate");const{pageWidth:a,pageHeight:o,pageX:l,pageY:c}=i.rawDims;if(!e.rect||this instanceof E){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,s),s}const{width:h,height:p}=u(e.rect),f=r.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(!t&&e.borderStyle.width>0){s.style.borderWidth=`${e.borderStyle.width}px`;const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e=`calc(${t}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;s.style.borderRadius=e}else if(this instanceof A){const t=`calc(${h}px * var(--scale-factor)) / calc(${p}px * var(--scale-factor))`;s.style.borderRadius=t}switch(e.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:s.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:s.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:s.style.borderBottomStyle="solid"}const i=e.borderColor||null;i?(this.#t=!0,s.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2])):s.style.borderWidth=0}s.style.left=100*(f[0]-l)/a+"%",s.style.top=100*(f[1]-c)/o+"%";const{rotation:m}=e;return e.hasOwnCanvas||0===m?(s.style.width=100*h/a+"%",s.style.height=100*p/o+"%"):this.setRotation(m,s),s}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:s}=u(this.data.rect);let a,o;t%180==0?(a=100*i/n,o=100*s/r):(a=100*s/n,o=100*i/r),e.style.width=`${a}%`,e.style.height=`${o}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const r=n.detail[t],i=r[0],s=r.slice(1);n.target.style[e]=l[`${i}_HTML`](s),this.annotationStorage.setValue(this.data.id,{[e]:l[`${i}_rgb`](s)})};return(0,r.shadow)(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2==1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail)){const i=t[r]||n[r];i?.(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,i]of Object.entries(e)){const s=n[r];s&&(s({detail:{[r]:i},target:t}),delete e[r])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,i]=this.data.rect;if(1===t.length){const[,{x:s,y:a},{x:o,y:l}]=t[0];if(r===s&&i===a&&e===o&&n===l)return}const{style:s}=this.container;let a;if(this.#t){const{borderColor:t,borderWidth:e}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${t}" stroke-width="${e}">`],this.container.classList.add("hasBorder")}const o=r-e,l=i-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=c.createElement("defs");d.append(h);const u=c.createElement("clipPath"),p=`clippath_${this.data.id}`;u.setAttribute("id",p),u.setAttribute("clipPathUnits","objectBoundingBox"),h.append(u);for(const[,{x:n,y:r},{x:s,y:d}]of t){const t=c.createElement("rect"),h=(s-e)/o,p=(i-r)/l,f=(n-s)/o,m=(r-d)/l;t.setAttribute("x",h),t.setAttribute("y",p),t.setAttribute("width",f),t.setAttribute("height",m),u.append(t),a?.push(`<rect vector-effect="non-scaling-stroke" x="${h}" y="${p}" width="${f}" height="${m}"/>`)}this.#t&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const n=new E({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:s,exportValues:a}of i){if(-1===t)continue;if(s===e)continue;const i="string"==typeof a?a:null,o=document.querySelector(`[data-element-id="${s}"]`);!o||h.has(o)?n.push({id:s,exportValue:i,domElement:o}):(0,r.warn)(`_getElementsByName - element not allowed: ${s}`)}return n}for(const r of document.getElementsByName(t)){const{exportValue:t}=r,i=r.getAttribute("data-element-id");i!==e&&h.has(r)&&n.push({id:i,exportValue:t,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})}))}}class m extends f{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(this.#e(n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#r(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&this.#r()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#r()}#e(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#r()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#r()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const i=n.get(r);i&&(t[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#r()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#r(),!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{n?.();const{fields:t,refs:i,include:s}=e,a=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===s&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const o=this.annotationStorage,l=[];for(const t of a){const{id:e}=t;switch(l.push(e),t.type){case"text":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;o.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(h.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}}class g extends f{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class v extends f{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&("CANVAS"===t.previousSibling?.nodeName&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return r.FeatureTest.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,i){n.includes("mouse")?t.addEventListener(n,(t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(n,(t=>{if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(t)}})}))}_setEventListeners(t,e,n,r){for(const[i,s]of n)("Action"===s||this.data.actions?.[s])&&("Focus"!==s&&"Blur"!==s||(e||={focused:!1}),this._setEventListener(t,e,i,s,r),"Focus"!==s||this.data.actions?.Blur?"Blur"!==s||this.data.actions?.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":r.Util.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const{fontColor:e}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,i=t.style;let s;const a=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/(r.LINE_FACTOR*n))||1);s=Math.min(n,a(e/r.LINE_FACTOR))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(n,a(t/r.LINE_FACTOR))}i.fontSize=`calc(${s}px * var(--scale-factor))`,i.color=r.Util.makeHexColor(e[0],e[1],e[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class b extends v{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,r){const i=this.annotationStorage;for(const s of this._getElementsByName(t.name,t.id))s.domElement&&(s.domElement[e]=n),i.setValue(s.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let i=r.value||"";const s=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;s&&i.length>s&&(i=i.slice(0,s));let a=r.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const o={userValue:i,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",a??i),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),h.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=d,this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",(r=>{t.setValue(e,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue??"";n.value=o.userValue=e,o.formattedValue=null}));let l=t=>{const{formattedValue:e}=o;null!=e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(t=>{if(o.focused)return;const{target:e}=t;o.userValue&&(e.value=o.userValue),o.lastCommittedValue=e.value,o.commitKey=1,this.data.actions?.Focus||(o.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){o.userValue=n.detail.value??"",t.setValue(e,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:r}=n.detail;o.formattedValue=r,null!=r&&n.target!==document.activeElement&&(n.target.value=r),t.setValue(e,{formattedValue:r})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:i}=n;if(0===r)return void i.removeAttribute("maxLength");i.setAttribute("maxLength",r);let s=o.userValue;!s||s.length<=r||(s=s.slice(0,r),i.value=o.userValue=s,t.setValue(e,{value:s}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:i.selectionStart,selEnd:i.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(t=>{o.commitKey=1;let n=-1;if("Escape"===t.key?n=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(o.commitKey=3):n=2,-1===n)return;const{value:r}=t.target;o.lastCommittedValue!==r&&(o.lastCommittedValue=r,o.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const r=l;l=null,n.addEventListener("blur",(t=>{if(!o.focused||!t.relatedTarget)return;this.data.actions?.Blur||(o.focused=!1);const{value:n}=t.target;o.userValue=n,o.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:n,willCommit:!0,commitKey:o.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}),r(t)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(t=>{o.lastCommittedValue=null;const{data:n,target:r}=t,{value:i,selectionStart:s,selectionEnd:a}=r;let l=s,c=a;switch(t.inputType){case"deleteWordBackward":{const t=i.substring(0,s).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=i.substring(s).match(/^[^\w]*\w*/);t&&(c+=t[0].length);break}case"deleteContentBackward":s===a&&(l-=1);break;case"deleteContentForward":s===a&&(c+=1)}t.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing=`calc(${t}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class y extends v{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class _ extends v{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"==typeof r&&(r="Off"!==r,t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return h.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=e.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",e.exportValue),i.tabIndex=d,i.addEventListener("change",(r=>{const{name:i,checked:s}=r.target;for(const r of this._getElementsByName(i,n)){const n=s&&r.exportValue===e.exportValue;r.domElement&&(r.domElement.checked=n),t.setValue(r.id,{value:n})}t.setValue(n,{value:s})})),i.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(e=>{const r={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(r,e)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class A extends v{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"==typeof r&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const r of this._getElementsByName(e.fieldName,n))t.setValue(r.id,{value:!1});const i=document.createElement("input");if(h.add(i),i.setAttribute("data-element-id",n),i.disabled=e.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=e.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=d,i.addEventListener("change",(e=>{const{name:r,checked:i}=e.target;for(const e of this._getElementsByName(r,n))t.setValue(e.id,{value:!1});t.setValue(n,{value:i})})),i.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!=n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const r=e.buttonValue;i.addEventListener("updatefromsandbox",(e=>{const i={value:e=>{const i=r===e.detail.value;for(const r of this._getElementsByName(e.target.name)){const e=i&&r.id===n;r.domElement&&(r.domElement.checked=e),t.setValue(r.id,{value:e})}}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class w extends m{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(t.title=this.data.alternativeText);const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class x extends v{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");h.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=d;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const t of r.options)t.selected=t.value===e}));for(const t of this.data.options){const e=document.createElement("option");e.textContent=t.displayValue,e.value=t.exportValue,n.value.includes(t.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let s=null;if(i){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),r.prepend(t),s=()=>{t.remove(),r.removeEventListener("input",s),s=null},r.addEventListener("input",s)}const a=t=>{const e=t?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[e])):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let o=a(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){s?.();const i=n.detail.value,l=new Set(Array.isArray(i)?i:[i]);for(const t of r.options)t.selected=l.has(t.value);t.setValue(e,{value:a(!0)}),o=a(!1)},multipleSelection(t){r.multiple=!0},remove(n){const i=r.options,s=n.detail.remove;i[s].selected=!1,r.remove(s),i.length>0&&-1===Array.prototype.findIndex.call(i,(t=>t.selected))&&(i[0].selected=!0),t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==r.length;)r.remove(0);t.setValue(e,{value:null,items:[]}),o=a(!1)},insert(n){const{index:i,displayValue:s,exportValue:c}=n.detail.insert,d=r.children[i],h=document.createElement("option");h.textContent=s,h.value=c,d?d.before(h):r.append(h),t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const t of i){const{displayValue:e,exportValue:n}=t,i=document.createElement("option");i.textContent=e,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const r=new Set(n.detail.indices);for(const t of n.target.options)t.selected=r.has(t.index);t.setValue(e,{value:a(!0)}),o=a(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{const r=a(!0);t.setValue(e,{value:r}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(t=>t.target.value))):r.addEventListener("input",(function(n){t.setValue(e,{value:a(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class E extends f{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:f._hasPopupData(e)}),this.elements=n}render(){this.container.classList.add("popupAnnotation");const t=new S({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map((t=>`${r.AnnotationPrefix}${t}`)).join(",")),this.container}}class S{#i=this.#s.bind(this);#a=this.#o.bind(this);#l=this.#c.bind(this);#d=this.#h.bind(this);#u=null;#p=null;#f=null;#m=null;#g=null;#v=null;#b=null;#y=!1;#_=null;#A=null;#w=null;#x=null;#E=!1;constructor(t){let{container:e,color:n,elements:r,titleObj:s,modificationDate:a,contentsObj:o,richText:l,parent:c,rect:d,parentRect:h,open:u}=t;this.#p=e,this.#x=s,this.#f=o,this.#w=l,this.#v=c,this.#u=n,this.#A=d,this.#b=h,this.#g=r,this.#m=i.PDFDateString.toDateObject(a),this.trigger=r.flatMap((t=>t.getElementsToTriggerPopup()));for(const t of this.trigger)t.addEventListener("click",this.#d),t.addEventListener("mouseenter",this.#l),t.addEventListener("mouseleave",this.#a),t.classList.add("popupTriggerArea");for(const t of r)t.container?.addEventListener("keydown",this.#i);this.#p.hidden=!0,u&&this.#h()}render(){if(this.#_)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:s}}}=this.#v,a=this.#_=document.createElement("div");if(a.className="popup",this.#u){const t=a.style.outlineColor=r.Util.makeHexColor(...this.#u);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))a.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else{const t=.7;a.style.backgroundColor=r.Util.makeHexColor(...this.#u.map((e=>Math.floor(t*(255-e)+e))))}}const o=document.createElement("span");o.className="header";const l=document.createElement("h1");if(o.append(l),({dir:l.dir,str:l.textContent}=this.#x),a.append(o),this.#m){const t=document.createElement("span");t.classList.add("popupDate"),t.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),t.setAttribute("data-l10n-args",JSON.stringify({date:this.#m.toLocaleDateString(),time:this.#m.toLocaleTimeString()})),o.append(t)}const d=this.#f,h=this.#w;if(!h?.str||d?.str&&d.str!==h.str){const t=this._formatContents(d);a.append(t)}else c.XfaLayer.render({xfaHtml:h.html,intent:"richText",div:a}),a.lastChild.classList.add("richText","popupContent");let u=!!this.#b,p=u?this.#b:this.#A;for(const t of this.#g)if(!p||null!==r.Util.intersect(t.data.rect,p)){p=t.data.rect,u=!0;break}const f=r.Util.normalizeRect([p[0],t[3]-p[1]+t[1],p[2],t[3]-p[3]+t[1]]),m=u?p[2]-p[0]+5:0,g=f[0]+m,v=f[1],{style:b}=this.#p;b.left=100*(g-i)/e+"%",b.top=100*(v-s)/n+"%",this.#p.append(a)}_formatContents(t){let{str:e,dir:n}=t;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let t=0,e=i.length;t<e;++t){const n=i[t];r.append(document.createTextNode(n)),t<e-1&&r.append(document.createElement("br"))}return r}#s(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&this.#y)&&this.#h()}#h(){this.#y=!this.#y,this.#y?(this.#c(),this.#p.addEventListener("click",this.#d),this.#p.addEventListener("keydown",this.#i)):(this.#o(),this.#p.removeEventListener("click",this.#d),this.#p.removeEventListener("keydown",this.#i))}#c(){this.#_||this.render(),this.isVisible?this.#y&&this.#p.classList.add("focused"):(this.#p.hidden=!1,this.#p.style.zIndex=parseInt(this.#p.style.zIndex)+1e3)}#o(){this.#p.classList.remove("focused"),!this.#y&&this.isVisible&&(this.#p.hidden=!0,this.#p.style.zIndex=parseInt(this.#p.style.zIndex)-1e3)}forceHide(){this.#E=this.isVisible,this.#E&&(this.#p.hidden=!0)}maybeShow(){this.#E&&(this.#E=!1,this.#p.hidden=!1)}get isVisible(){return!1===this.#p.hidden}}class T extends f{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class C extends f{#S=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:e,height:n}=u(t.rect),r=this.svgFactory.create(e,n,!0),i=this.#S=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#S}addHighlightArea(){this.container.classList.add("highlightArea")}}class k extends f{#T=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:e,height:n}=u(t.rect),r=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,s=this.#T=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",i/2),s.setAttribute("y",i/2),s.setAttribute("width",e-i),s.setAttribute("height",n-i),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#T}addHighlightArea(){this.container.classList.add("highlightArea")}}class M extends f{#C=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:e,height:n}=u(t.rect),r=this.svgFactory.create(e,n,!0),i=t.borderStyle.width,s=this.#C=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",e/2),s.setAttribute("cy",n/2),s.setAttribute("rx",e/2-i/2),s.setAttribute("ry",n/2-i/2),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#C}addHighlightArea(){this.container.classList.add("highlightArea")}}class I extends f{#k=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:n}=u(t.rect),r=this.svgFactory.create(e,n,!0);let i=[];for(const e of t.vertices){const n=e.x-t.rect[0],r=t.rect[3]-e.y;i.push(n+","+r)}i=i.join(" ");const s=this.#k=this.svgFactory.createElement(this.svgElementName);return s.setAttribute("points",i),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#k}addHighlightArea(){this.container.classList.add("highlightArea")}}class R extends I{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class P extends f{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class D extends f{#M=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:n}=u(t.rect),r=this.svgFactory.create(e,n,!0);for(const e of t.inkLists){let n=[];for(const r of e){const e=r.x-t.rect[0],i=t.rect[3]-r.y;n.push(`${e},${i}`)}n=n.join(" ");const i=this.svgFactory.createElement(this.svgElementName);this.#M.push(i),i.setAttribute("points",n),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),r.append(i)}return this.container.append(r),this.container}getElementsToTriggerPopup(){return this.#M}addHighlightArea(){this.container.classList.add("highlightArea")}}class L extends f{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class F extends f{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class O extends f{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class B extends f{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class N extends f{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class q extends f{#I=null;constructor(t){super(t,{isRenderable:!0});const{filename:e,content:n}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(e,!0),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:e,content:n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*e.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#R.bind(this)),this.#I=n;const{isMac:i}=r.FeatureTest.platform;return t.addEventListener("keydown",(t=>{"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&this.#R()})),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#I}addHighlightArea(){this.container.classList.add("highlightArea")}#R(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class H{#P=null;#D=null;#L=new Map;constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:r,page:i,viewport:s}=t;this.div=e,this.#P=n,this.#D=r,this.page=i,this.viewport=s,this.zIndex=0}#F(t,e){const n=t.firstChild||t;n.id=`${r.AnnotationPrefix}${e}`,this.div.append(t),this.#P?.moveElementInDOM(this.div,t,n,!1)}async render(t){const{annotations:e}=t,n=this.div;(0,i.setLayerDimensions)(n,this.viewport);const a=new Map,o={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:t.annotationStorage||new s.AnnotationStorage,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const t of e){if(t.noHTML)continue;const e=t.annotationType===r.AnnotationType.POPUP;if(e){const e=a.get(t.id);if(!e)continue;o.elements=e}else{const{width:e,height:n}=u(t.rect);if(e<=0||n<=0)continue}o.data=t;const n=p.create(o);if(!n.isRenderable)continue;if(!e&&t.popupRef){const e=a.get(t.popupRef);e?e.push(n):a.set(t.popupRef,[n])}n.annotationEditorType>0&&this.#L.set(n.data.id,n);const i=n.render();t.hidden&&(i.style.visibility="hidden"),this.#F(i,t.id)}this.#O()}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,(0,i.setLayerDimensions)(n,{rotation:e.rotation}),this.#O(),n.hidden=!1}#O(){if(!this.#D)return;const t=this.div;for(const[e,n]of this.#D){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;const{firstChild:i}=r;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.before(n):r.append(n)}this.#D.clear()}getEditableAnnotations(){return Array.from(this.#L.values())}getEditableAnnotation(t){return this.#L.get(t)}}},4780:(t,e,n)=>{n.d(e,{AnnotationStorage:()=>o,PrintAnnotationStorage:()=>l,SerializableEmpty:()=>a}),n(4226),n(7944),n(9709);var r=n(3266),i=n(9115),s=n(2825);const a=Object.freeze({map:null,hash:"",transfer:void 0});class o{#B=!1;#N=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#N.get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return this.#N.get(t)}remove(t){if(this.#N.delete(t),0===this.#N.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const t of this.#N.values())if(t instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#N.get(t);let r=!1;if(void 0!==n)for(const[t,i]of Object.entries(e))n[t]!==i&&(r=!0,n[t]=i);else r=!0,this.#N.set(t,e);r&&this.#q(),e instanceof i.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#N.has(t)}getAll(){return this.#N.size>0?(0,r.objectFromMap)(this.#N):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return this.#N.size}#q(){this.#B||(this.#B=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#B&&(this.#B=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new l(this)}get serializable(){if(0===this.#N.size)return a;const t=new Map,e=new s.MurmurHash3_64,n=[],r=Object.create(null);let o=!1;for(const[n,s]of this.#N){const a=s instanceof i.AnnotationEditor?s.serialize(!1,r):s;a&&(t.set(n,a),e.update(`${n}:${JSON.stringify(a)}`),o||=!!a.bitmap)}if(o)for(const e of t.values())e.bitmap&&n.push(e.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:a}}class l extends o{#H;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,i=structuredClone(e,r?{transfer:r}:null);this.#H={map:i,hash:n,transfer:r}}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#H}}},9406:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{PDFDataRangeTransport:()=>P,PDFWorker:()=>B,build:()=>j,getDocument:()=>C,version:()=>z}),n(3655),n(2555),n(2202),n(3352),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583),n(4226),n(5561),n(8587),n(3247),n(3302),n(9490),n(5438),n(7914),n(7944),n(9709);var i=n(3266),s=n(4780),a=n(473),o=n(3742),l=n(7738),c=n(1250),d=n(1368),h=n(6694),u=n(3472),p=n(3890),f=n(4092),m=n(5171),g=n(3474),v=n(3498),b=n(1521),y=t([l,v]);[l,v]=y.then?(await y)():y;const _=65536,A=100,w=5e3,x=i.isNodeJS?l.NodeCanvasFactory:a.DOMCanvasFactory,E=i.isNodeJS?l.NodeCMapReaderFactory:a.DOMCMapReaderFactory,S=i.isNodeJS?l.NodeFilterFactory:a.DOMFilterFactory,T=i.isNodeJS?l.NodeStandardFontDataFactory:a.DOMStandardFontDataFactory;function C(t){if("string"==typeof t||t instanceof URL?t={url:t}:(0,i.isArrayBuffer)(t)&&(t={data:t}),"object"!=typeof t)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new R,{docId:n}=e,r=t.url?M(t.url):null,s=t.data?I(t.data):null,o=t.httpHeaders||null,l=!0===t.withCredentials,c=t.password??null,u=t.range instanceof P?t.range:null,p=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:_;let b=t.worker instanceof B?t.worker:null;const y=t.verbosity,A="string"!=typeof t.docBaseUrl||(0,a.isDataScheme)(t.docBaseUrl)?null:t.docBaseUrl,w="string"==typeof t.cMapUrl?t.cMapUrl:null,C=!1!==t.cMapPacked,D=t.CMapReaderFactory||E,L="string"==typeof t.standardFontDataUrl?t.standardFontDataUrl:null,F=t.StandardFontDataFactory||T,O=!0!==t.stopAtErrors,q=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,H=!1!==t.isEvalSupported,U="boolean"==typeof t.isOffscreenCanvasSupported?t.isOffscreenCanvasSupported:!i.isNodeJS,z=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,j="boolean"==typeof t.disableFontFace?t.disableFontFace:i.isNodeJS,V=!0===t.fontExtraProperties,G=!0===t.enableXfa,W=t.ownerDocument||globalThis.document,$=!0===t.disableRange,X=!0===t.disableStream,K=!0===t.disableAutoFetch,Y=!0===t.pdfBug,Q=u?u.length:t.length??NaN,J="boolean"==typeof t.useSystemFonts?t.useSystemFonts:!i.isNodeJS&&!j,Z="boolean"==typeof t.useWorkerFetch?t.useWorkerFetch:D===a.DOMCMapReaderFactory&&F===a.DOMStandardFontDataFactory&&w&&L&&(0,a.isValidFetchUrl)(w,document.baseURI)&&(0,a.isValidFetchUrl)(L,document.baseURI),tt=t.canvasFactory||new x({ownerDocument:W}),et=t.filterFactory||new S({docId:n,ownerDocument:W});(0,i.setVerbosityLevel)(y);const nt={canvasFactory:tt,filterFactory:et};if(Z||(nt.cMapReaderFactory=new D({baseUrl:w,isCompressed:C}),nt.standardFontDataFactory=new F({baseUrl:L})),!b){const t={verbosity:y,port:d.GlobalWorkerOptions.workerPort};b=t.port?B.fromPort(t):new B(t),e._worker=b}const rt={docId:n,apiVersion:"4.0.379",data:s,password:c,disableAutoFetch:K,rangeChunkSize:p,length:Q,docBaseUrl:A,enableXfa:G,evaluatorOptions:{maxImageSize:q,disableFontFace:j,ignoreErrors:O,isEvalSupported:H,isOffscreenCanvasSupported:U,canvasMaxAreaInBytes:z,fontExtraProperties:V,useSystemFonts:J,cMapUrl:Z?w:null,standardFontDataUrl:Z?L:null}},it={ignoreErrors:O,isEvalSupported:H,disableFontFace:j,fontExtraProperties:V,enableXfa:G,ownerDocument:W,disableAutoFetch:K,pdfBug:Y,styleElement:null};return b.promise.then((function(){if(e.destroyed)throw new Error("Loading aborted");const t=k(b,rt),c=new Promise((function(t){let e;var n;u?e=new f.PDFDataTransportStream({length:Q,initialData:u.initialData,progressiveDone:u.progressiveDone,contentDispositionFilename:u.contentDispositionFilename,disableRange:$,disableStream:X},u):s||(n={url:r,length:Q,httpHeaders:o,withCredentials:l,rangeChunkSize:p,disableRange:$,disableStream:X},e=i.isNodeJS?new v.PDFNodeStream(n):(0,a.isValidFetchUrl)(n.url)?new m.PDFFetchStream(n):new g.PDFNetworkStream(n)),t(e)}));return Promise.all([t,c]).then((function(t){let[r,i]=t;if(e.destroyed)throw new Error("Loading aborted");const s=new h.MessageHandler(n,r,b.port),a=new N(s,e,i,it,nt);e._transport=a,s.send("Ready",null)}))})).catch(e._capability.reject),e}async function k(t,e){if(t.destroyed)throw new Error("Worker was destroyed");const n=await t.messageHandler.sendWithPromise("GetDocRequest",e,e.data?[e.data.buffer]:null);if(t.destroyed)throw new Error("Worker was destroyed");return n}function M(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(i.isNodeJS&&"string"==typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function I(t){if(i.isNodeJS&&"undefined"!=typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"==typeof t)return(0,i.stringToBytes)(t);if("object"==typeof t&&!isNaN(t?.length)||(0,i.isArrayBuffer)(t))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class R{static#U=0;constructor(){this._capability=new i.PromiseCapability,this._transport=null,this._worker=null,this.docId="d"+R.#U++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class P{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new i.PromiseCapability}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(t,e)}))}onDataProgressiveRead(t){this._readyCapability.promise.then((()=>{for(const e of this._progressiveReadListeners)e(t)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const t of this._progressiveDoneListeners)t()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){(0,i.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class D{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class L{#z=null;#j=!1;constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new a.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new q,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.PageViewport({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,i.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(t){let{canvasContext:e,viewport:n,intent:r="display",annotationMode:s=i.AnnotationMode.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:h=null}=t;this._stats?.time("Overall");const u=this._transport.getRenderingIntent(r,s,h);this.#j=!1,this.#V(),l||(l=this._transport.getOptionalContentConfig());let p=this._intentStates.get(u.cacheKey);p||(p=Object.create(null),this._intentStates.set(u.cacheKey,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const f=!!(u.renderingIntent&i.RenderingIntentFlag.PRINT);p.displayReadyCapability||(p.displayReadyCapability=new i.PromiseCapability,p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));const m=t=>{p.renderTasks.delete(g),(this._maybeCleanupAfterRender||f)&&(this.#j=!0),this.#G(!f),t?(g.capability.reject(t),this._abortOperatorList({intentState:p,reason:t instanceof Error?t:new Error(t)})):g.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},g=new U({callback:m,params:{canvasContext:e,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!f,pdfBug:this._pdfBug,pageColors:d});(p.renderTasks||=new Set).add(g);const v=g.task;return Promise.all([p.displayReadyCapability.promise,l]).then((t=>{let[e,n]=t;this.destroyed?m():(this._stats?.time("Rendering"),g.initializeGraphics({transparency:e,optionalContentConfig:n}),g.operatorListChanged())})).catch(m),v}getOperatorList(){let{intent:t="display",annotationMode:e=i.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(t,e,n,!0);let s,a=this._intentStates.get(r.cacheKey);return a||(a=Object.create(null),this._intentStates.set(r.cacheKey,a)),a.opListReadCapability||(s=Object.create(null),s.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(s))},a.opListReadCapability=new i.PromiseCapability,(a.renderTasks||=new Set).add(s),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((t=>b.XfaText.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const r=e.getReader(),i={items:[],styles:Object.create(null)};!function e(){r.read().then((function(n){let{value:r,done:s}=n;s?t(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),e())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#j=!1,this.#V(),Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#j=!0;const e=this.#G(!1);return t&&e&&(this._stats&&=new a.StatTimer),e}#G(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#V(),!this.#j||this.destroyed)return!1;if(t)return this.#z=setTimeout((()=>{this.#z=null,this.#G(!1)}),w),!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#j=!1,!0}#V(){this.#z&&(clearTimeout(this.#z),this.#z=null)}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const t of e.renderTasks)t.operatorListChanged();t.lastChunk&&this.#G(!0)}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:r}=t;const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:i},s).getReader(),o=this._intentStates.get(n);o.streamReader=a;const l=()=>{a.read().then((t=>{let{value:e,done:n}=t;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,o),l())}),(t=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const t of o.renderTasks)t.operatorListChanged();this.#G(!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(t);else{if(!o.opListReadCapability)throw t;o.opListReadCapability.reject(t)}}}))};l()}_abortOperatorList(t){let{intentState:e,reason:n,force:r=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof a.RenderingCancelledException){let t=A;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})}),t))}}if(e.streamReader.cancel(new i.AbortException(n.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}class F{#W=new Set;#$=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#$.then((()=>{for(const t of this.#W)t.call(this,n)}))}addEventListener(t,e){this.#W.add(e)}removeEventListener(t,e){this.#W.delete(e)}terminate(){this.#W.clear()}}const O={isWorkerDisabled:!1,fakeWorkerId:0};i.isNodeJS&&(O.isWorkerDisabled=!0,d.GlobalWorkerOptions.workerSrc||="./pdf.worker.mjs"),O.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},O.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};class B{static#X;constructor(){let{name:t=null,port:e=null,verbosity:n=(0,i.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=new i.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,e){if(B.#X?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");return(B.#X||=new WeakMap).set(e,this),void this._initializeFromPort(e)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new h.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!O.isWorkerDisabled&&!B.#K){let{workerSrc:t}=B;try{O.isSameOrigin(window.location.href,t)||(t=O.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new h.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",i),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};e.addEventListener("error",i),n.on("test",(t=>{e.removeEventListener("error",i),this.destroyed?r():t?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())})),n.on("ready",(t=>{if(e.removeEventListener("error",i),this.destroyed)r();else try{s()}catch{this._setupFakeWorker()}}));const s=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void s()}catch{(0,i.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){O.isWorkerDisabled||((0,i.warn)("Setting up fake worker."),O.isWorkerDisabled=!0),B._setupFakeWorkerGlobal.then((t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new F;this._port=e;const n="fake"+O.fakeWorkerId++,r=new h.MessageHandler(n+"_worker",n,e);t.setup(r,e);const i=new h.MessageHandler(n,n+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),B.#X?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const e=this.#X?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new B(t)}static get workerSrc(){if(d.GlobalWorkerOptions.workerSrc)return d.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#K(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return(0,i.shadow)(this,"_setupFakeWorkerGlobal",(async()=>this.#K?this.#K:(await import(this.workerSrc)).WorkerMessageHandler)())}}class N{#Y=new Map;#Q=new Map;#J=new Map;#Z=null;constructor(t,e,n,r,s){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new q,this.fontLoader=new o.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new i.PromiseCapability,this.setupMessageHandler()}#tt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Y.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#Y.set(t,r),r}get annotationStorage(){return(0,i.shadow)(this,"annotationStorage",new s.AnnotationStorage)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=i.RenderingIntentFlag.DISPLAY,o=s.SerializableEmpty;switch(t){case"any":a=i.RenderingIntentFlag.ANY;break;case"display":break;case"print":a=i.RenderingIntentFlag.PRINT;break;default:(0,i.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case i.AnnotationMode.DISABLE:a+=i.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case i.AnnotationMode.ENABLE:break;case i.AnnotationMode.ENABLE_FORMS:a+=i.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case i.AnnotationMode.ENABLE_STORAGE:a+=i.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(a&i.RenderingIntentFlag.PRINT&&n instanceof s.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,i.warn)(`getRenderingIntent - invalid annotationMode: ${e}`)}return r&&(a+=i.RenderingIntentFlag.OPLIST),{renderingIntent:a,cacheKey:`${a}_${o.hash}`,annotationStorageSerializable:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new i.PromiseCapability,this.#Z?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const e of this.#Q.values())t.push(e._destroy());this.#Q.clear(),this.#J.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#Y.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new i.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{(0,i.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function(t){let{value:n,done:r}=t;r?e.close():((0,i.assert)(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(t=>{const n=new i.PromiseCapability,r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&e.onProgress?.(this._lastProgress),r.onProgress=t=>{e.onProgress?.({loaded:t.loaded,total:t.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),t.on("GetRangeReader",((t,e)=>{(0,i.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function(t){let{value:n,done:r}=t;r?e.close():((0,i.assert)(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new D(n,this))})),t.on("DocException",(function(t){let n;switch(t.name){case"PasswordException":n=new i.PasswordException(t.message,t.code);break;case"InvalidPDFException":n=new i.InvalidPDFException(t.message);break;case"MissingPDFException":n=new i.MissingPDFException(t.message);break;case"UnexpectedResponseException":n=new i.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":n=new i.UnknownErrorException(t.message,t.details);break;default:(0,i.unreachable)("DocException - expected a valid Error.")}e._capability.reject(n)})),t.on("PasswordRequest",(t=>{if(this.#Z=new i.PromiseCapability,e.onPassword){const n=t=>{t instanceof Error?this.#Z.reject(t):this.#Z.resolve({password:t})};try{e.onPassword(n,t.code)}catch(t){this.#Z.reject(t)}}else this.#Z.reject(new i.PasswordException(t.message,t.code));return this.#Z.promise})),t.on("DataLoaded",(t=>{e.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{this.destroyed||this.#Q.get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(e=>{let[n,r,s]=e;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(r){case"Font":const e=this._params;if("error"in s){const t=s.error;(0,i.warn)(`Error during font loading: ${t}`),this.commonObjs.resolve(n,t);break}const a=e.pdfBug&&globalThis.FontInspector?.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,l=new o.FontFaceObject(s,{isEvalSupported:e.isEvalSupported,disableFontFace:e.disableFontFace,ignoreErrors:e.ignoreErrors,inspectFont:a});this.fontLoader.bind(l).catch((e=>t.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!e.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)}));break;case"CopyLocalImage":const{imageRef:c}=s;(0,i.assert)(c,"The imageRef must be defined.");for(const t of this.#Q.values())for(const[,e]of t.objs)if(e.ref===c)return e.dataLen?(this.commonObjs.resolve(n,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null})),t.on("obj",(t=>{let[e,n,r,s]=t;if(this.destroyed)return;const a=this.#Q.get(n);if(!a.objs.has(e))if(0!==a._intentStates.size)switch(r){case"Image":a.objs.resolve(e,s),s?.dataLen>i.MAX_IMAGE_SIZE_TO_CACHE&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(e,s);break;default:throw new Error(`Got unknown object type ${r}`)}else s?.bitmap?.close()})),t.on("DocProgress",(t=>{this.destroyed||e.onProgress?.({loaded:t.loaded,total:t.total})})),t.on("FetchBuiltInCMap",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),t.on("FetchStandardFontData",(t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,i.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally((()=>{this.annotationStorage.resetModified()}))}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#J.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((t=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new L(e,t,this,this._params.pdfBug);return this.#Q.set(e,n),n}));return this.#J.set(e,r),r}getPageIndex(t){return"object"!=typeof t||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#tt("GetFieldObjects")}hasJSActions(){return this.#tt("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#tt("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((t=>new p.OptionalContentConfig(t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#Y.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then((t=>({info:t[0],metadata:t[1]?new u.Metadata(t[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#Y.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#Q.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#Y.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:t,enableXfa:e}=this._params;return(0,i.shadow)(this,"loadingParams",{disableAutoFetch:t,enableXfa:e})}}class q{#et=Object.create(null);#nt(t){return this.#et[t]||={capability:new i.PromiseCapability,data:null}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=this.#nt(t);return n.capability.promise.then((()=>e(n.data))),null}const n=this.#et[t];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#et[t];return e?.capability.settled??!1}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#nt(t);n.data=e,n.capability.resolve()}clear(){for(const t in this.#et){const{data:e}=this.#et[t];e?.bitmap?.close()}this.#et=Object.create(null)}*[Symbol.iterator](){for(const t in this.#et){const{capability:e,data:n}=this.#et[t];e.settled&&(yield[t,n])}}}class H{#rt=null;constructor(t){this.#rt=t,this.onContinue=null}get promise(){return this.#rt.capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#rt.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#rt.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#rt;return t.form||t.canvas&&e?.size>0}}class U{static#it=new WeakSet;constructor(t){let{callback:e,params:n,objs:r,commonObjs:s,annotationCanvasMap:a,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:u=!1,pageColors:p=null}=t;this.callback=e,this.params=n,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=u,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!=typeof window,this.cancelled=!1,this.capability=new i.PromiseCapability,this.task=new H(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(t){let{transparency:e=!1,optionalContentConfig:n}=t;if(this.cancelled)return;if(this._canvas){if(U.#it.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");U.#it.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:a}=this.params;this.gfx=new c.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),U.#it.delete(this._canvas),this.callback(t||new a.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),U.#it.delete(this._canvas),this.callback())))}}const z="4.0.379",j="9e14d04fd";r()}catch(V){r(V)}}))},6822:(t,e,n)=>{n.d(e,{BaseCMapReaderFactory:()=>a,BaseCanvasFactory:()=>s,BaseFilterFactory:()=>i,BaseSVGFactory:()=>l,BaseStandardFontDataFactory:()=>o}),n(3352);var r=n(3266);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addHighlightHCMFilter(t,e,n,r){return"none"}destroy(){}}class s{constructor(){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}class a{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(n,i).catch((t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(t,e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}class o{constructor(t){let{baseUrl:e=null}=t;this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch((t=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,r.unreachable)("Abstract method `_createSVG` called.")}}},1250:(t,e,n)=>{n.d(e,{CanvasGraphics:()=>L}),n(3352),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583),n(7121),n(2993),n(4226),n(7944);var r=n(3266),i=n(473);const s="Fill",a="Stroke",o="Shading";function l(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class c{constructor(){this.constructor===c&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class d extends c{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const t of this._colorStops)e.addColorStop(t[0],t[1]);return e}getPattern(t,e,n,o){let c;if(o===a||o===s){const s=e.current.getClippedPathBoundingBox(o,(0,i.getCurrentTransform)(t))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,d=Math.ceil(s[3]-s[1])||1,h=e.cachedCanvases.getCanvas("pattern",a,d,!0),u=h.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-s[0],-s[1]),n=r.Util.transform(n,[1,0,0,1,s[0],s[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),l(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),c=t.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(n);c.setTransform(p)}else l(t,this._bbox),c=this._createGradient(t);return c}}function h(t,e,n,r,i,s,a,o){const l=e.coords,c=e.colors,d=t.data,h=4*t.width;let u;l[n+1]>l[r+1]&&(u=n,n=r,r=u,u=s,s=a,a=u),l[r+1]>l[i+1]&&(u=r,r=i,i=u,u=a,a=o,o=u),l[n+1]>l[r+1]&&(u=n,n=r,r=u,u=s,s=a,a=u);const p=(l[n]+e.offsetX)*e.scaleX,f=(l[n+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,g=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY;if(f>=b)return;const y=c[s],_=c[s+1],A=c[s+2],w=c[a],x=c[a+1],E=c[a+2],S=c[o],T=c[o+1],C=c[o+2],k=Math.round(f),M=Math.round(b);let I,R,P,D,L,F,O,B;for(let t=k;t<=M;t++){if(t<g){const e=t<f?0:(f-t)/(f-g);I=p-(p-m)*e,R=y-(y-w)*e,P=_-(_-x)*e,D=A-(A-E)*e}else{let e;e=t>b?1:g===b?0:(g-t)/(g-b),I=m-(m-v)*e,R=w-(w-S)*e,P=x-(x-T)*e,D=E-(E-C)*e}let e;e=t<f?0:t>b?1:(f-t)/(f-b),L=p-(p-v)*e,F=y-(y-S)*e,O=_-(_-T)*e,B=A-(A-C)*e;const n=Math.round(Math.min(I,L)),r=Math.round(Math.max(I,L));let i=h*t+4*n;for(let t=n;t<=r;t++)e=(I-t)/(I-L),e<0?e=0:e>1&&(e=1),d[i++]=R-(R-F)*e|0,d[i++]=P-(P-O)*e|0,d[i++]=D-(D-B)*e|0,d[i++]=255}}function u(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let e=s*o;for(let s=0;s<c;s++,e++)h(t,n,r[e],r[e+1],r[e+o],i[e],i[e+1],i[e+o]),h(t,n,r[e+o+1],r[e+1],r[e+o],i[e+o+1],i[e+1],i[e+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)h(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class p extends c{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(s*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*t[1]*1.1)),3e3),c=s/o,d=a/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/d},p=o+4,f=l+4,m=n.getCanvas("mesh",p,f,!1),g=m.context,v=g.createImageData(o,l);if(e){const t=v.data;for(let n=0,r=t.length;n<r;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const t of this._figures)u(v,t,h);return g.putImageData(v,2,2),{canvas:m.canvas,offsetX:r-2*c,offsetY:i-2*d,scaleX:c,scaleY:d}}getPattern(t,e,n,s){let a;if(l(t,this._bbox),s===o)a=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(t));else if(a=r.Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=r.Util.singularValueDecompose2dScale(this.matrix);a=[a[0]*t[0],a[1]*t[1]]}const c=this._createMeshCanvas(a,s===o?null:this._background,e.cachedCanvases);return s!==o&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class f extends c{getPattern(){return"hotpink"}}class m{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r,i){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,s=this.xstep,a=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,d=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const h=n[0],u=n[1],p=n[2],f=n[3],m=r.Util.singularValueDecompose2dScale(this.matrix),g=r.Util.singularValueDecompose2dScale(this.baseTransform),v=[m[0]*g[0],m[1]*g[1]],b=this.getSizeAndScale(s,this.ctx.canvas.width,v[0]),y=this.getSizeAndScale(a,this.ctx.canvas.height,v[1]),_=t.cachedCanvases.getCanvas("pattern",b.size,y.size,!0),A=_.context,w=d.createCanvasGraphics(A);w.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(w,o,c);let x=h,E=u,S=p,T=f;return h<0&&(x=0,S+=Math.abs(h)),u<0&&(E=0,T+=Math.abs(u)),A.translate(-b.scale*x,-y.scale*E),w.transform(b.scale,0,0,y.scale,0,0),A.save(),this.clipBbox(w,x,E,S,T),w.baseTransform=(0,i.getCurrentTransform)(w.ctx),w.executeOperatorList(e),w.endDrawing(),{canvas:_.canvas,scaleX:b.scale,scaleY:y.scale,offsetX:x,offsetY:E}}getSizeAndScale(t,e,n){t=Math.abs(t);const r=Math.max(m.MAX_PATTERN_SIZE,e);let i=Math.ceil(t*n);return i>=r?i=r:n=i/t,{scale:n,size:i}}clipBbox(t,e,n,r,s){const a=r-e,o=s-n;t.ctx.rect(e,n,a,o),t.current.updateRectMinMax((0,i.getCurrentTransform)(t.ctx),[e,n,r,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,s=t.current;switch(e){case 1:const t=this.ctx;i.fillStyle=t.fillStyle,i.strokeStyle=t.strokeStyle,s.fillColor=t.fillStyle,s.strokeColor=t.strokeStyle;break;case 2:const a=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new r.FormatError(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,i){let s=n;i!==o&&(s=r.Util.transform(s,e.baseTransform),this.matrix&&(s=r.Util.transform(s,this.matrix)));const a=this.createPatternCanvas(e);let l=new DOMMatrix(s);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=t.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}function g(t){let{src:e,srcPos:n=0,dest:i,width:s,height:a,nonBlackColor:o=4294967295,inverseDecode:l=!1}=t;const c=r.FeatureTest.isLittleEndian?4278190080:255,[d,h]=l?[o,c]:[c,o],u=s>>3,p=7&s,f=e.length;i=new Uint32Array(i.buffer);let m=0;for(let t=0;t<a;t++){for(const t=n+u;n<t;n++){const t=n<f?e[n]:255;i[m++]=128&t?h:d,i[m++]=64&t?h:d,i[m++]=32&t?h:d,i[m++]=16&t?h:d,i[m++]=8&t?h:d,i[m++]=4&t?h:d,i[m++]=2&t?h:d,i[m++]=1&t?h:d}if(0===p)continue;const t=n<f?e[n++]:255;for(let e=0;e<p;e++)i[m++]=t&1<<7-e?h:d}return{srcPos:n,destPos:m}}const v=4096,b=16;class y{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return void 0!==this.cache[t]?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function _(t,e,n,r,s,a,o,l,c,d){const[h,u,p,f,m,g]=(0,i.getCurrentTransform)(t);if(0===u&&0===p){const i=o*h+m,v=Math.round(i),b=l*f+g,y=Math.round(b),_=(o+c)*h+m,A=Math.abs(Math.round(_)-v)||1,w=(l+d)*f+g,x=Math.abs(Math.round(w)-y)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(f),v,y),t.drawImage(e,n,r,s,a,0,0,A,x),t.setTransform(h,u,p,f,m,g),[A,x]}if(0===h&&0===f){const i=l*p+m,v=Math.round(i),b=o*u+g,y=Math.round(b),_=(l+d)*p+m,A=Math.abs(Math.round(_)-v)||1,w=(o+c)*u+g,x=Math.abs(Math.round(w)-y)||1;return t.setTransform(0,Math.sign(u),Math.sign(p),0,v,y),t.drawImage(e,n,r,s,a,0,0,x,A),t.setTransform(h,u,p,f,m,g),[x,A]}return t.drawImage(e,n,r,s,a,o,l,c,d),[Math.hypot(h,u)*c,Math.hypot(p,f)*d]}class A{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=r.Util.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=r.Util.applyTransform(e,t),i=r.Util.applyTransform(e.slice(2),t),s=r.Util.applyTransform([e[0],e[3]],t),a=r.Util.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],a[1])}updateScalingPathMinMax(t,e){r.Util.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,i,s,a,o,l,c,d){const h=r.Util.bezierBoundingBox(e,n,i,s,a,o,l,c);if(d)return d[0]=Math.min(d[0],h[0],h[2]),d[1]=Math.max(d[1],h[0],h[2]),d[2]=Math.min(d[2],h[1],h[3]),void(d[3]=Math.max(d[3],h[1],h[3]));this.updateRectMinMax(t,h)}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===a){e||(0,r.unreachable)("Stroke bounding box must include transform.");const t=r.Util.singularValueDecompose2dScale(e),i=t[0]*this.lineWidth/2,s=t[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const t=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function w(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,i=e.width,s=n%b,a=(n-s)/b,o=0===s?a:a+1,l=t.createImageData(i,b);let c,d=0;const h=e.data,u=l.data;let p,f,m,g;if(e.kind===r.ImageKind.GRAYSCALE_1BPP){const e=h.byteLength,n=new Uint32Array(u.buffer,0,u.byteLength>>2),g=n.length,v=i+7>>3,y=4294967295,_=r.FeatureTest.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(m=p<a?b:s,c=0,f=0;f<m;f++){const t=e-d;let r=0;const s=t>v?i:8*t-7,a=-8&s;let o=0,l=0;for(;r<a;r+=8)l=h[d++],n[c++]=128&l?y:_,n[c++]=64&l?y:_,n[c++]=32&l?y:_,n[c++]=16&l?y:_,n[c++]=8&l?y:_,n[c++]=4&l?y:_,n[c++]=2&l?y:_,n[c++]=1&l?y:_;for(;r<s;r++)0===o&&(l=h[d++],o=128),n[c++]=l&o?y:_,o>>=1}for(;c<g;)n[c++]=0;t.putImageData(l,0,p*b)}}else if(e.kind===r.ImageKind.RGBA_32BPP){for(f=0,g=i*b*4,p=0;p<a;p++)u.set(h.subarray(d,d+g)),d+=g,t.putImageData(l,0,f),f+=b;p<o&&(g=i*s*4,u.set(h.subarray(d,d+g)),t.putImageData(l,0,f))}else{if(e.kind!==r.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);for(m=b,g=i*m,p=0;p<o;p++){for(p>=a&&(m=s,g=i*m),c=0,f=g;f--;)u[c++]=h[d++],u[c++]=h[d++],u[c++]=h[d++],u[c++]=255;t.putImageData(l,0,p*b)}}}function x(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,r=e.width,i=n%b,s=(n-i)/b,a=0===i?s:s+1,o=t.createImageData(r,b);let l=0;const c=e.data,d=o.data;for(let e=0;e<a;e++){const n=e<s?b:i;({srcPos:l}=g({src:c,srcPos:l,dest:d,width:r,height:n,nonBlackColor:0})),t.putImageData(o,0,e*b)}}function E(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==t[r]&&(e[r]=t[r]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function S(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0),!r.isNodeJS){const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}}function T(t,e,n,r){const i=t.length;for(let s=3;s<i;s+=4){const i=t[s];if(0===i)t[s-3]=e,t[s-2]=n,t[s-1]=r;else if(i<255){const a=255-i;t[s-3]=t[s-3]*i+e*a>>8,t[s-2]=t[s-2]*i+n*a>>8,t[s-1]=t[s-1]*i+r*a>>8}}}function C(t,e,n){const r=t.length,i=1/255;for(let s=3;s<r;s+=4){const r=n?n[t[s]]:t[s];e[s]=e[s]*r*i|0}}function k(t,e,n){const r=t.length;for(let i=3;i<r;i+=4){const r=77*t[i-3]+152*t[i-2]+28*t[i-1];e[i]=n?e[i]*n[r>>8]>>8:e[i]*r>>16}}function M(t,e){const n=r.Util.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:n[0]<=s||n[1]<=s}const I=["butt","round","square"],R=["miter","round","bevel"],P={},D={};class L{constructor(t,e,n,r,i,s,a,o){let{optionalContentConfig:l,markedContentStack:c=null}=s;this.ctx=t,this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new y(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing(t){let{transform:e,viewport:n,transparency:r=!1,background:s=null}=t;const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=l,r){const t=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),S(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(t,e,n,i){const s=t.argsArray,a=t.fnArray;let o=e||0;const l=s.length;if(l===o)return o;const c=l-o>10&&"function"==typeof n,d=c?Date.now()+15:0;let h=0;const u=this.commonObjs,p=this.objs;let f;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(f=a[o],f!==r.OPS.dependency)this[f].apply(this,s[o]);else for(const t of s[o]){const e=t.startsWith("g_")?u:p;if(!e.has(t))return e.get(t,n),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>d)return n(),o;h=0}}}#st(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#st(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#at()}#at(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width,r=t.height;let i,s,a=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),l=n,c=r,d="prescale1";for(;a>2&&l>1||o>2&&c>1;){let e=l,n=c;a>2&&l>1&&(e=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/e),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),i=this.cachedCanvases.getCanvas(d,e,n),s=i.context,s.clearRect(0,0,e,n),s.drawImage(t,0,0,l,c,0,0,e,n),t=i.canvas,l=e,c=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:c}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:a}=t,o=this.current.fillColor,l=this.current.patternFill,c=(0,i.getCurrentTransform)(e);let d,h,u,p;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),d=this._cachedBitmapsMap.get(e),d||(d=new Map,this._cachedBitmapsMap.set(e,d));const n=d.get(h);if(n&&!l)return{canvas:n,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};u=n}u||(p=this.cachedCanvases.getCanvas("maskCanvas",n,a),x(p.context,t));let f=r.Util.transform(c,[1/n,0,0,-1/a,0,0]);f=r.Util.transform(f,[1,0,0,1,0,-a]);const[m,g,v,b]=r.Util.getAxialAlignedBoundingBox([0,0,n,a],f),y=Math.round(v-m)||1,A=Math.round(b-g)||1,w=this.cachedCanvases.getCanvas("fillCanvas",y,A),E=w.context,S=m,T=g;E.translate(-S,-T),E.transform(...f),u||(u=this._scaleImage(p.canvas,(0,i.getCurrentTransformInverse)(E)),u=u.img,d&&l&&d.set(h,u)),E.imageSmoothingEnabled=M((0,i.getCurrentTransform)(E),t.interpolate),_(E,u,0,0,u.width,u.height,0,0,n,a),E.globalCompositeOperation="source-in";const C=r.Util.transform((0,i.getCurrentTransformInverse)(E),[1,0,0,1,-S,-T]);return E.fillStyle=l?o.getPattern(e,this,C,s):o,E.fillRect(0,0,n,a),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,w.canvas)),{canvas:w.canvas,offsetX:Math.round(S),offsetY:Math.round(T)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=I[t]}setLineJoin(t){this.ctx.lineJoin=R[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),E(this.suspendedCtx,s),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,r,i,s,a){e.transform(t,n,r,i,s,a),this.__originalTransform(t,n,r,i,s,a)},t.setTransform=function(t,n,r,i,s,a){e.setTransform(t,n,r,i,s,a),this.__originalSetTransform(t,n,r,i,s,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,r,i,s,a){e.bezierCurveTo(t,n,r,i,s,a),this.__originalBezierCurveTo(t,n,r,i,s,a)},t.rect=function(t,n,r,i){e.rect(t,n,r,i),this.__originalRect(t,n,r,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),E(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask;(function(t,e,n,r){const i=r[0],s=r[1],a=r[2]-i,o=r[3]-s;0!==a&&0!==o&&(function(t,e,n,r,i,s,a,o,l,c,d){const h=!!s,u=h?s[0]:0,p=h?s[1]:0,f=h?s[2]:0,m="Luminosity"===i?k:C,g=Math.min(r,Math.ceil(1048576/n));for(let i=0;i<r;i+=g){const s=Math.min(g,r-i),v=t.getImageData(o-c,i+(l-d),n,s),b=e.getImageData(o,i+l,n,s);h&&T(v.data,u,p,f),m(v.data,b.data,a),e.putImageData(b,o,i+l)}}(e.context,n,a,o,e.subtype,e.backdrop,e.transferMap,i,s,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())})(this.suspendedCtx,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(E(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),E(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,r,i,s){this.ctx.transform(t,e,n,r,i,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const s=this.ctx,a=this.current;let o,l,c=a.x,d=a.y;const h=(0,i.getCurrentTransform)(s),u=0===h[0]&&0===h[3]||0===h[1]&&0===h[2],p=u?n.slice(0):null;for(let n=0,i=0,f=t.length;n<f;n++)switch(0|t[n]){case r.OPS.rectangle:c=e[i++],d=e[i++];const t=e[i++],n=e[i++],f=c+t,m=d+n;s.moveTo(c,d),0===t||0===n?s.lineTo(f,m):(s.lineTo(f,d),s.lineTo(f,m),s.lineTo(c,m)),u||a.updateRectMinMax(h,[c,d,f,m]),s.closePath();break;case r.OPS.moveTo:c=e[i++],d=e[i++],s.moveTo(c,d),u||a.updatePathMinMax(h,c,d);break;case r.OPS.lineTo:c=e[i++],d=e[i++],s.lineTo(c,d),u||a.updatePathMinMax(h,c,d);break;case r.OPS.curveTo:o=c,l=d,c=e[i+4],d=e[i+5],s.bezierCurveTo(e[i],e[i+1],e[i+2],e[i+3],c,d),a.updateCurvePathMinMax(h,o,l,e[i],e[i+1],e[i+2],e[i+3],c,d,p),i+=6;break;case r.OPS.curveTo2:o=c,l=d,s.bezierCurveTo(c,d,e[i],e[i+1],e[i+2],e[i+3]),a.updateCurvePathMinMax(h,o,l,c,d,e[i],e[i+1],e[i+2],e[i+3],p),c=e[i+2],d=e[i+3],i+=4;break;case r.OPS.curveTo3:o=c,l=d,c=e[i+2],d=e[i+3],s.bezierCurveTo(e[i],e[i+1],c,d,c,d),a.updateCurvePathMinMax(h,o,l,e[i],e[i+1],c,d,c,d,p),i+=4;break;case r.OPS.closePath:s.closePath()}u&&a.updateScalingPathMinMax(h,p),a.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&n?.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,(0,i.getCurrentTransformInverse)(e),a),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,(0,i.getCurrentTransformInverse)(e),s),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=P}eoClip(){this.pendingClip=D}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,r,i,s){this.current.textMatrix=[t,e,n,r,i,s],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,s){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=c&r.TextRenderingMode.FILL_STROKE_MASK,u=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let f;(l.disableFontFace||u||p)&&(f=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p?(a.save(),a.translate(e,n),a.beginPath(),f(a,d),s&&a.setTransform(...s),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||a.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||a.fillText(t,e,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||a.strokeText(t,e,n)),u&&(this.pendingTextPaths||=[]).push({transform:(0,i.getCurrentTransform)(a),x:e,y:n,fontSize:d,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let t=3;t<e.length;t+=4)if(e[t]>0&&e[t]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(0===a)return;const o=this.ctx,l=e.fontSizeScale,c=e.charSpacing,d=e.wordSpacing,h=e.fontDirection,u=e.textHScale*h,p=t.length,f=n.vertical,m=f?1:-1,g=n.defaultVMetrics,v=a*e.fontMatrix[0],b=e.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;let y;if(o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),h>0?o.scale(u,-1):o.scale(u,1),e.patternFill){o.save();const t=e.fillColor.getPattern(o,this,(0,i.getCurrentTransformInverse)(o),s);y=(0,i.getCurrentTransform)(o),o.restore(),o.fillStyle=t}let _=e.lineWidth;const A=e.textMatrixScale;if(0===A||0===_){const t=e.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;t!==r.TextRenderingMode.STROKE&&t!==r.TextRenderingMode.FILL_STROKE||(_=this.getSinglePixelWidth())}else _/=A;if(1!==l&&(o.scale(l,l),_/=l),o.lineWidth=_,n.isInvalidPDFjsFont){const n=[];let r=0;for(const e of t)n.push(e.unicode),r+=e.width;return o.fillText(n.join(""),0,0),e.x+=r*v*u,o.restore(),void this.compose()}let w,x=0;for(w=0;w<p;++w){const e=t[w];if("number"==typeof e){x+=m*e*a/1e3;continue}let r=!1;const i=(e.isSpace?d:0)+c,s=e.fontChar,u=e.accent;let p,_,A=e.width;if(f){const t=e.vmetric||g,n=-(e.vmetric?t[1]:.5*A)*v,r=t[2]*v;A=t?-t[0]:A,p=n/l,_=(x+r)/l}else p=x/l,_=0;if(n.remeasure&&A>0){const t=1e3*o.measureText(s).width/a*l;if(A<t&&this.isFontSubpixelAAEnabled){const e=A/t;r=!0,o.save(),o.scale(e,1),p/=e}else A!==t&&(p+=(A-t)/2e3*a/l)}if(this.contentVisible&&(e.isInFont||n.missingFile))if(b&&!u)o.fillText(s,p,_);else if(this.paintChar(s,p,_,y),u){const t=p+a*u.offset.x/l,e=_-a*u.offset.y/l;this.paintChar(u.fontChar,t,e,y)}x+=f?A*v-i*h:A*v+i*h,r&&o.restore()}f?e.y-=x:e.x+=x*u,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,d=n.textHScale*a,h=n.fontMatrix||r.FONT_IDENTITY_MATRIX,u=t.length;let p,f,m,g;if(n.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(d,a),p=0;p<u;++p){if(f=t[p],"number"==typeof f){g=o*f*s/1e3,this.ctx.translate(g,0),n.x+=g*d;continue}const a=(f.isSpace?c:0)+l,u=i.charProcOperatorList[f.operatorListId];u?(this.contentVisible&&(this.processingType3=f,this.save(),e.scale(s,s),e.transform(...h),this.executeOperatorList(u),this.restore()),m=r.Util.applyTransform([f.width,0],h)[0]*s+a,e.translate(m,0),n.x+=m*d):(0,r.warn)(`Type3 character "${f.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,i,s){this.ctx.rect(n,r,i-n,s-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const n=t[1],r=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),s={createCanvasGraphics:t=>new L(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new m(t,n,this.ctx,s,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){const i=r.Util.makeHexColor(t,e,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(t,e,n){const i=r.Util.makeHexColor(t,e,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=function(t){switch(t[0]){case"RadialAxial":return new d(t);case"Mesh":return new p(t);case"Dummy":return new f}throw new Error(`Unknown IR type: ${t[0]}`)}(this.getObject(t)),this.cachedPatterns.set(t,e)),n&&(e.matrix=n),e}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,(0,i.getCurrentTransformInverse)(e),o);const s=(0,i.getCurrentTransformInverse)(e);if(s){const{width:t,height:n}=e.canvas,[i,a,o,l]=r.Util.getAxialAlignedBoundingBox([0,0,t,n],s);this.ctx.fillRect(i,a,o-i,l-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform(...t),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),e)){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||(0,r.info)("TODO: Support non-isolated groups."),t.knockout&&(0,r.warn)("Knockout groups not supported.");const n=(0,i.getCurrentTransform)(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=r.Util.getAxialAlignedBoundingBox(t.bbox,(0,i.getCurrentTransform)(e));const a=[0,0,e.canvas.width,e.canvas.height];s=r.Util.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]);let c=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1),h=1,u=1;c>v&&(h=c/v,c=v),d>v&&(u=d/v,d=v),this.current.startNewPathAndClipBox([0,0,c,d]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(p,c,d),m=f.context;m.scale(1/h,1/u),m.translate(-o,-l),m.transform(...n),t.smask?this.smaskStack.push({canvas:f.canvas,context:m,offsetX:o,offsetY:l,scaleX:h,scaleY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,l),e.scale(h,u),e.save()),E(e,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...t);const n=r.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,s,a){if(this.#st(),S(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(e)&&4===e.length){const s=e[2]-e[0],o=e[3]-e[1];if(a&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=s,e[3]=o;const[a,l]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:u,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(a,0,0,-l,0,o*l),S(this.ctx)}else S(this.ctx),this.ctx.rect(e[0],e[1],s,o),this.ctx.clip(),this.endPath()}this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#at(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;(t=this.getObject(t.data,t)).count=e;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(t){const{width:e,height:n}=t;if(e>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let s,a,o,l=new Uint8Array(i*(n+1));const c=e+7&-8;let d=new Uint8Array(c*n),h=0;for(const e of t.data){let t=128;for(;t>0;)d[h++]=e&t?0:255,t>>=1}let u=0;for(h=0,0!==d[h]&&(l[0]=1,++u),a=1;a<e;a++)d[h]!==d[h+1]&&(l[a]=d[h]?2:1,++u),h++;for(0!==d[h]&&(l[a]=2,++u),s=1;s<n;s++){h=s*c,o=s*i,d[h-c]!==d[h]&&(l[o]=d[h]?1:8,++u);let t=(d[h]?4:0)+(d[h-c]?8:0);for(a=1;a<e;a++)t=(t>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0),r[t]&&(l[o+a]=r[t],++u),h++;if(d[h-c]!==d[h]&&(l[o+a]=d[h]?2:4,++u),u>1e3)return null}for(h=c*(n-1),o=s*i,0!==d[h]&&(l[o]=8,++u),a=1;a<e;a++)d[h]!==d[h+1]&&(l[o+a]=d[h]?4:8,++u),h++;if(0!==d[h]&&(l[o+a]=4,++u),u>1e3)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),f=new Path2D;for(s=0;u&&s<=n;s++){let t=s*i;const n=t+e;for(;t<n&&!l[t];)t++;if(t===n)continue;f.moveTo(t%i,s);const r=t;let a=l[t];do{const e=p[a];do{t+=e}while(!l[t]);const n=l[t];5!==n&&10!==n?(a=n,l[t]=0):(a=n&51*a>>4,l[t]&=a>>2|a<<2),f.lineTo(t%i,t/i|0),l[t]||--u}while(r!==t);--s}return d=null,l=null,function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(f),t.beginPath(),t.restore()}}(t)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(t),s=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;t=this.getObject(t.data,t);const l=this.ctx;l.save();const c=(0,i.getCurrentTransform)(l);l.transform(e,n,s,a,0,0);const d=this._createMaskCanvas(t);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let t=0,i=o.length;t<i;t+=2){const i=r.Util.transform(c,[e,n,s,a,o[t],o[t+1]]),[h,u]=r.Util.applyTransform([0,0],i);l.drawImage(d.canvas,h,u)}l.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const a of t){const{data:t,width:o,height:l,transform:c}=a,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save(),x(h,this.getObject(t,a)),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,(0,i.getCurrentTransformInverse)(e),s):n,h.fillRect(0,0,o,l),h.restore(),e.save(),e.transform(...c),e.scale(1,-1),_(e,d.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i){if(!this.contentVisible)return;const s=this.getObject(t);if(!s)return void(0,r.warn)("Dependent image isn't ready yet");const a=s.width,o=s.height,l=[];for(let t=0,r=i.length;t<r;t+=2)l.push({transform:[e,0,0,n,i[t],i[t+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:r}=t,i=this.cachedCanvases.getCanvas("inlineImage",n,r),s=i.context;return s.filter=this.current.transferMaps,s.drawImage(e,0,0),s.filter="none",i.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;if(this.save(),!r.isNodeJS){const{filter:t}=s;"none"!==t&&""!==t&&(s.filter="none")}let a;if(s.scale(1/e,-1/n),t.bitmap)a=this.applyTransferMapsToBitmap(t);else if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)a=t;else{const r=this.cachedCanvases.getCanvas("inlineImage",e,n).context;w(r,t),a=this.applyTransferMapsToCanvas(r)}const o=this._scaleImage(a,(0,i.getCurrentTransformInverse)(s));s.imageSmoothingEnabled=M((0,i.getCurrentTransform)(s),t.interpolate),_(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const e=t.width,n=t.height,i=this.cachedCanvases.getCanvas("inlineImage",e,n).context;w(i,t),r=this.applyTransferMapsToCanvas(i)}for(const t of e)n.save(),n.transform(...t.transform),n.scale(1,-1),_(n,r,t.x,t.y,t.w,t.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===D?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=(0,i.getCurrentTransform)(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:i}=this.ctx.getTransform();let s,a;if(0===n&&0===r){const n=Math.abs(e),r=Math.abs(i);if(n===r)if(0===t)s=a=1/n;else{const e=n*t;s=a=e<1?1/e:1}else if(0===t)s=1/n,a=1/r;else{const e=n*t,i=r*t;s=e<1?1/e:1,a=i<1?1/i:1}}else{const o=Math.abs(e*i-n*r),l=Math.hypot(e,n),c=Math.hypot(r,i);if(0===t)s=c/o,a=l/o;else{const e=t*o;s=c>e?c/e:1,a=l>e?l/e:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[r,i]=this.getScaleForStroking();if(e.lineWidth=n||1,1===r&&1===i)return void e.stroke();const s=e.getLineDash();if(t&&e.save(),e.scale(r,i),s.length>0){const t=Math.max(r,i);e.setLineDash(s.map((e=>e/t))),e.lineDashOffset/=t}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const t in r.OPS)void 0!==L.prototype[t]&&(L.prototype[r.OPS[t]]=L.prototype[t])},473:(t,e,n)=>{n.d(e,{DOMCMapReaderFactory:()=>d,DOMCanvasFactory:()=>l,DOMFilterFactory:()=>o,DOMSVGFactory:()=>u,DOMStandardFontDataFactory:()=>h,PDFDateString:()=>x,PageViewport:()=>p,PixelsPerInch:()=>a,RenderingCancelledException:()=>f,StatTimer:()=>y,fetchData:()=>c,getColorValues:()=>T,getCurrentTransform:()=>C,getCurrentTransformInverse:()=>k,getFilenameFromUrl:()=>v,getPdfFilenameFromUrl:()=>b,getRGB:()=>S,getXfaPageViewport:()=>E,isDataScheme:()=>m,isPdfFile:()=>g,isValidFetchUrl:()=>_,noContextMenu:()=>A,setLayerDimensions:()=>M}),n(7944),n(3352),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583),n(4226),n(3655),n(2555),n(2202);var r=n(6822),i=n(3266);const s="http://www.w3.org/2000/svg";class a{static CSS=96;static PDF=72;static#ot=function(t,e,n){var r;return(e="symbol"==typeof(r=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(e))?r:String(r))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}class o extends r.BaseFilterFactory{#lt;#ct;#U;#dt;#ht;#ut;#pt;#ft;#mt;#gt;#vt=0;constructor(){let{docId:t,ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.#U=t,this.#dt=e}get#bt(){return this.#lt||=new Map}get#yt(){if(!this.#ct){const t=this.#dt.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#dt.createElementNS(s,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#ct=this.#dt.createElementNS(s,"defs"),t.append(n),n.append(this.#ct),this.#dt.body.append(t)}return this.#ct}addFilter(t){if(!t)return"none";let e,n,r,i,s=this.#bt.get(t);if(s)return s;if(1===t.length){const s=t[0],a=new Array(256);for(let t=0;t<256;t++)a[t]=s[t]/255;i=e=n=r=a.join(",")}else{const[s,a,o]=t,l=new Array(256),c=new Array(256),d=new Array(256);for(let t=0;t<256;t++)l[t]=s[t]/255,c[t]=a[t]/255,d[t]=o[t]/255;e=l.join(","),n=c.join(","),r=d.join(","),i=`${e}${n}${r}`}if(s=this.#bt.get(i),s)return this.#bt.set(t,s),s;const a=`g_${this.#U}_transfer_map_${this.#vt++}`,o=`url(#${a})`;this.#bt.set(t,o),this.#bt.set(i,o);const l=this.#_t(a);return this.#At(e,n,r,l),o}addHCMFilter(t,e){const n=`${t}-${e}`;if(this.#ut===n)return this.#pt;if(this.#ut=n,this.#pt="none",this.#ht?.remove(),!t||!e)return this.#pt;const r=this.#wt(t);t=i.Util.makeHexColor(...r);const s=this.#wt(e);if(e=i.Util.makeHexColor(...s),this.#yt.style.color="","#000000"===t&&"#ffffff"===e||t===e)return this.#pt;const a=new Array(256);for(let t=0;t<=255;t++){const e=t/255;a[t]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const o=a.join(","),l=`g_${this.#U}_hcm_filter`,c=this.#ft=this.#_t(l);this.#At(o,o,o,c),this.#xt(c);const d=(t,e)=>{const n=r[t]/255,i=s[t]/255,a=new Array(e+1);for(let t=0;t<=e;t++)a[t]=n+t/e*(i-n);return a.join(",")};return this.#At(d(0,5),d(1,5),d(2,5),c),this.#pt=`url(#${l})`,this.#pt}addHighlightHCMFilter(t,e,n,r){const i=`${t}-${e}-${n}-${r}`;if(this.#mt===i)return this.#gt;if(this.#mt=i,this.#gt="none",this.#ft?.remove(),!t||!e)return this.#gt;const[s,a]=[t,e].map(this.#wt.bind(this));let o=Math.round(.2126*s[0]+.7152*s[1]+.0722*s[2]),l=Math.round(.2126*a[0]+.7152*a[1]+.0722*a[2]),[c,d]=[n,r].map(this.#wt.bind(this));l<o&&([o,l,c,d]=[l,o,d,c]),this.#yt.style.color="";const h=(t,e,n)=>{const r=new Array(256),i=(l-o)/n,s=t/255,a=(e-t)/(255*n);let c=0;for(let t=0;t<=n;t++){const e=Math.round(o+t*i),n=s+t*a;for(let t=c;t<=e;t++)r[t]=n;c=e+1}for(let t=c;t<256;t++)r[t]=r[c-1];return r.join(",")},u=`g_${this.#U}_hcm_highlight_filter`,p=this.#ft=this.#_t(u);return this.#xt(p),this.#At(h(c[0],d[0],5),h(c[1],d[1],5),h(c[2],d[2],5),p),this.#gt=`url(#${u})`,this.#gt}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.#pt||this.#gt)||(this.#ct&&(this.#ct.parentNode.parentNode.remove(),this.#ct=null),this.#lt&&(this.#lt.clear(),this.#lt=null),this.#vt=0)}#xt(t){const e=this.#dt.createElementNS(s,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#_t(t){const e=this.#dt.createElementNS(s,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#yt.append(e),e}#Et(t,e,n){const r=this.#dt.createElementNS(s,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#At(t,e,n,r){const i=this.#dt.createElementNS(s,"feComponentTransfer");r.append(i),this.#Et(i,"feFuncR",t),this.#Et(i,"feFuncG",e),this.#Et(i,"feFuncB",n)}#wt(t){return this.#yt.style.color=t,S(getComputedStyle(this.#yt).getPropertyValue("color"))}}class l extends r.BaseCanvasFactory{constructor(){let{ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(_(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(200===i.status||0===i.status){let t;switch(e){case"arraybuffer":case"blob":case"json":t=i.response;break;default:t=i.responseText}if(t)return void n(t)}r(new Error(i.statusText))}},i.send(null)}))}class d extends r.BaseCMapReaderFactory{_fetchData(t,e){return c(t,this.isCompressed?"arraybuffer":"text").then((t=>({cMapData:t instanceof ArrayBuffer?new Uint8Array(t):(0,i.stringToBytes)(t),compressionType:e})))}}class h extends r.BaseStandardFontDataFactory{_fetchData(t){return c(t,"arraybuffer").then((t=>new Uint8Array(t)))}}class u extends r.BaseSVGFactory{_createSVG(t){return document.createElementNS(s,t)}}class p{constructor(t){let{viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}=t;this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=s;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,d,h,u,p,f,m,g;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,d=0,h=0,u=1;break;case 90:c=0,d=1,h=1,u=0;break;case 270:c=0,d=-1,h=-1,u=0;break;case 0:c=1,d=0,h=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,u=-u),0===c?(p=Math.abs(l-e[1])*n+i,f=Math.abs(o-e[0])*n+s,m=(e[3]-e[1])*n,g=(e[2]-e[0])*n):(p=Math.abs(o-e[0])*n+i,f=Math.abs(l-e[1])*n+s,m=(e[2]-e[0])*n,g=(e[3]-e[1])*n),this.transform=[c*n,d*n,h*n,u*n,p-c*n*o-h*n*l,f-d*n*o-u*n*l],this.width=m,this.height=g}get rawDims(){const{viewBox:t}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new p({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(t,e){return i.Util.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=i.Util.applyTransform([t[0],t[1]],this.transform),n=i.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return i.Util.applyInverseTransform([t,e],this.transform)}}class f extends i.BaseException{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function m(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function g(t){return"string"==typeof t&&/\.pdf$/i.test(t)}function v(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||([t]=t.split(/[#?]/,1)),t.substring(t.lastIndexOf("/")+1)}function b(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof t)return e;if(m(t))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class y{started=Object.create(null);times=[];time(t){t in this.started&&(0,i.warn)(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||(0,i.warn)(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:t}of this.times)e=Math.max(t.length,e);for(const{name:n,start:r,end:i}of this.times)t.push(`${n.padEnd(e)} ${i-r}ms\n`);return t.join("")}}function _(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch{return!1}}function A(t){t.preventDefault()}let w;class x{static toDateObject(t){if(!t||"string"!=typeof t)return null;w||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=w.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(e[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(e[6],10);o=o>=0&&o<=59?o:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(s+=c,a+=d):"+"===l&&(s-=c,a-=d),new Date(Date.UTC(n,r,i,s,a,o))}}function E(t,e){let{scale:n=1,rotation:r=0}=e;const{width:i,height:s}=t.attributes.style,a=[0,0,parseInt(i),parseInt(s)];return new p({viewBox:a,scale:n,rotation:r})}function S(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):((0,i.warn)(`Not a valid color format: "${t}"`),[0,0,0])}function T(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,S(r))}e.remove()}function C(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function k(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function M(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof p){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=t,o=i.FeatureTest.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,d=o?`round(${l}, 1px)`:`calc(${l})`,h=o?`round(${c}, 1px)`:`calc(${c})`;n&&e.rotation%180!=0?(a.width=h,a.height=d):(a.width=d,a.height=h)}r&&t.setAttribute("data-main-rotation",e.rotation)}},9423:(t,e,n)=>{n.d(e,{DrawLayer:()=>s}),n(4226);var r=n(473),i=n(3266);class s{#v=null;#vt=0;#St=new Map;constructor(t){let{pageIndex:e}=t;this.pageIndex=e}setParent(t){if(this.#v){if(this.#v!==t){if(this.#St.size>0)for(const e of this.#St.values())e.remove(),t.append(e);this.#v=t}}else this.#v=t}static get _svgFactory(){return(0,i.shadow)(this,"_svgFactory",new r.DOMSVGFactory)}static#Tt(t,e){let{x:n,y:r,width:i,height:s}=e;const{style:a}=t;a.top=100*r+"%",a.left=100*n+"%",a.width=100*i+"%",a.height=100*s+"%"}#Ct(t){const e=s._svgFactory.create(1,1,!0);return this.#v.append(e),s.#Tt(e,t),e}highlight(t,e,n){let{outlines:r,box:i}=t;const a=this.#vt++,o=this.#Ct(i);o.classList.add("highlight");const l=s._svgFactory.createElement("defs");o.append(l);const c=s._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${a}`;c.setAttribute("id",d),c.setAttribute("d",s.#kt(r));const h=s._svgFactory.createElement("clipPath");l.append(h);const u=`clip_${d}`;h.setAttribute("id",u),h.setAttribute("clipPathUnits","objectBoundingBox");const p=s._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${d}`),p.classList.add("clip");const f=s._svgFactory.createElement("use");return o.append(f),o.setAttribute("fill",e),o.setAttribute("fill-opacity",n),f.setAttribute("href",`#${d}`),this.#St.set(a,o),{id:a,clipPathId:`url(#${u})`}}highlightOutline(t){let{outlines:e,box:n}=t;const r=this.#vt++,i=this.#Ct(n);i.classList.add("highlightOutline");const a=s._svgFactory.createElement("defs");i.append(a);const o=s._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("d",s.#kt(e)),o.setAttribute("vector-effect","non-scaling-stroke");const c=s._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${l}`);const d=c.cloneNode();return i.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.#St.set(r,i),r}static#kt(t){const e=[];for(const n of t){let[t,r]=n;e.push(`M${t} ${r}`);for(let i=2;i<n.length;i+=2){const s=n[i],a=n[i+1];s===t?(e.push(`V${a}`),r=a):a===r&&(e.push(`H${s}`),t=s)}e.push("Z")}return e.join(" ")}updateBox(t,e){s.#Tt(this.#St.get(t),e)}rotate(t,e){this.#St.get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){this.#St.get(t).setAttribute("fill",e)}changeOpacity(t,e){this.#St.get(t).setAttribute("fill-opacity",e)}addClass(t,e){this.#St.get(t).classList.add(e)}removeClass(t,e){this.#St.get(t).classList.remove(e)}remove(t){null!==this.#v&&(this.#St.get(t).remove(),this.#St.delete(t))}destroy(){this.#v=null;for(const t of this.#St.values())t.remove();this.#St.clear()}}},4629:(t,e,n)=>{n.d(e,{AnnotationEditorLayer:()=>f}),n(7944),n(5561),n(8587),n(3247),n(3302),n(9490),n(5438),n(7914),n(4226);var r=n(3266),i=n(9115),s=(n(7121),n(8518),n(4812)),a=n(7640);class o extends i.AnnotationEditor{#Mt=this.editorDivBlur.bind(this);#It=this.editorDivFocus.bind(this);#Rt=this.editorDivInput.bind(this);#Pt=this.editorDivKeydown.bind(this);#u;#Dt="";#Lt=`${this.id}-editor`;#Ft;#Ot=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=o.prototype,e=t=>t.isEmpty(),n=s.AnnotationEditorUIManager.TRANSLATE_SMALL,i=s.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}static _type="freetext";static _editorType=r.AnnotationEditorType.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#u=t.color||o._defaultColor||i.AnnotationEditor._defaultLineColor,this.#Ft=t.fontSize||o._defaultFontSize}static initialize(t){i.AnnotationEditor.initialize(t,{strings:["pdfjs-free-text-default-content"]});const e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case r.AnnotationEditorParamsType.FREETEXT_SIZE:o._defaultFontSize=e;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:o._defaultColor=e}}updateParams(t,e){switch(t){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#Bt(e);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#Nt(e)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,o._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,o._defaultColor||i.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#Ft],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#u]]}#Bt(t){const e=t=>{this.editorDiv.style.fontSize=`calc(${t}px * var(--scale-factor))`,this.translate(0,-(t-this.#Ft)*this.parentScale),this.#Ft=t,this.#qt()},n=this.#Ft;this.addCommands({cmd:()=>{e(t)},undo:()=>{e(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Nt(t){const e=this.#u;this.addCommands({cmd:()=>{this.#u=this.editorDiv.style.color=t},undo:()=>{this.#u=this.editorDiv.style.color=e},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-o._internalPadding*t,-(o._internalPadding+this.#Ft)*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#Pt),this.editorDiv.addEventListener("focus",this.#It),this.editorDiv.addEventListener("blur",this.#Mt),this.editorDiv.addEventListener("input",this.#Rt))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#Lt),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#Pt),this.editorDiv.removeEventListener("focus",this.#It),this.editorDiv.removeEventListener("blur",this.#Mt),this.editorDiv.removeEventListener("input",this.#Rt),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width?this.#Ht():(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#Ut(){const t=this.editorDiv.getElementsByTagName("div");if(0===t.length)return this.editorDiv.innerText;const e=[];for(const n of t)e.push(n.innerText.replace(/\r\n?|\n/,""));return e.join("\n")}#qt(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,r=e.style.display;e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=r}this.rotation%180==this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#Dt,e=this.#Dt=this.#Ut().trimEnd();if(t===e)return;const n=t=>{this.#Dt=t,t?(this.#zt(),this._uiManager.rebuild(this),this.#qt()):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#qt()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){o._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#Lt),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),i.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then((t=>this.editorDiv?.setAttribute("default-content",t))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Ft}px * var(--scale-factor))`,n.color=this.#u,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this.#Ot;let[s,a]=this.getInitialTranslation();[s,a]=this.pageTranslationToScreen(s,a);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let h,u;switch(this.rotation){case 0:h=t+(i[0]-c)/o,u=e+this.height-(i[1]-d)/l;break;case 90:h=t+(i[0]-c)/o,u=e-(i[1]-d)/l,[s,a]=[a,-s];break;case 180:h=t-this.width+(i[0]-c)/o,u=e-(i[1]-d)/l,[s,a]=[-s,-a];break;case 270:h=t+(i[0]-c-this.height*l)/o,u=e+(i[1]-d-this.width*o)/l,[s,a]=[-a,s]}this.setAt(h*n,u*r,s,a)}else this.setAt(t*n,e*r,this.width*n,this.height*r);this.#zt(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#zt(){if(this.editorDiv.replaceChildren(),this.#Dt)for(const t of this.#Dt.split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}get contentDiv(){return this.editorDiv}static deserialize(t,e,n){let i=null;if(t instanceof a.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:s,rotation:a,id:o},textContent:l,textPosition:c,parent:{page:{pageNumber:d}}}=t;if(!l||0===l.length)return null;i=t={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(n),fontSize:e,value:l.join("\n"),position:c,pageIndex:d-1,rect:s,rotation:a,id:o,deleted:!1}}const s=super.deserialize(t,e,n);return s.#Ft=t.fontSize,s.#u=r.Util.makeHexColor(...t.color),s.#Dt=t.value,s.annotationElementId=t.id||null,s.#Ot=i,s}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const e=o._internalPadding*this.parentScale,n=this.getRect(e,e),s=i.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#u),a={annotationType:r.AnnotationEditorType.FREETEXT,color:s,fontSize:this.#Ft,value:this.#Dt,pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!this.#jt(a)?null:(a.id=this.annotationElementId,a)}#jt(t){const{value:e,fontSize:n,color:r,rect:i,pageIndex:s}=this.#Ot;return t.value!==e||t.fontSize!==n||t.rect.some(((t,e)=>Math.abs(t-i[e])>=1))||t.color.some(((t,e)=>t!==r[e]))||t.pageIndex!==s}#Ht(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.annotationElementId)return;if(this.#qt(),!t&&(0===this.width||0===this.height))return void setTimeout((()=>this.#Ht(!0)),0);const e=o._internalPadding*this.parentScale;this.#Ot.rect=this.getRect(e,e)}}var l=n(5097),c=n(7405);class d extends i.AnnotationEditor{#Vt;#Gt=null;#Wt=null;#$t=null;#Xt=null;#Kt=null;#vt=null;#Yt=null;#Qt;#Jt=null;static _defaultColor=null;static _defaultOpacity=1;static _l10nPromise;static _type="highlight";static _editorType=r.AnnotationEditorType.HIGHLIGHT;constructor(t){super({...t,name:"highlightEditor"}),d._defaultColor||=this._uiManager.highlightColors?.values().next().value||"#fff066",this.color=t.color||d._defaultColor,this.#Qt=t.opacity||d._defaultOpacity,this.#Vt=t.boxes||null,this._isDraggable=!1,this.#Zt(),this.#te(),this.rotate(this.rotation)}#Zt(){const t=new c.Outliner(this.#Vt,.001);this.#Kt=t.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#Kt.box);const e=new c.Outliner(this.#Vt,.0025,.001,"ltr"===this._uiManager.direction);this.#$t=e.getOutlines();const{lastPoint:n}=this.#$t.box;this.#Yt=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}static initialize(t){i.AnnotationEditor.initialize(t)}static updateDefaultParams(t,e){t===r.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR&&(d._defaultColor=e)}get toolbarPosition(){return this.#Yt}updateParams(t,e){t===r.AnnotationEditorParamsType.HIGHLIGHT_COLOR&&this.#Nt(e)}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,d._defaultColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||d._defaultColor]]}#Nt(t){const e=this.color;this.addCommands({cmd:()=>{this.color=t,this.parent.drawLayer.changeColor(this.#vt,t),this.#Wt?.updateColor(t)},undo:()=>{this.color=e,this.parent.drawLayer.changeColor(this.#vt,e),this.#Wt?.updateColor(e)},mustExec:!0,type:r.AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#Wt=new l.ColorPicker({editor:this}),t.addColorPicker(this.#Wt)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(0)}getRect(t,e){return super.getRect(t,e,0)}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){super.remove(),this.#ee()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#te(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#ee():t&&(this.#te(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#ee(){null!==this.#vt&&this.parent&&(this.parent.drawLayer.remove(this.#vt),this.#vt=null,this.parent.drawLayer.remove(this.#Jt),this.#Jt=null)}#te(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===this.#vt&&(({id:this.#vt,clipPathId:this.#Gt}=t.drawLayer.highlight(this.#Kt,this.color,this.#Qt)),this.#Xt&&(this.#Xt.style.clipPath=this.#Gt),this.#Jt=t.drawLayer.highlightOutline(this.#$t))}static#ne(t,e){let{x:n,y:r,width:i,height:s}=t;switch(e){case 90:return{x:1-r-s,y:n,width:s,height:i};case 180:return{x:1-n-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-n-i,width:s,height:i}}return{x:n,y:r,width:i,height:s}}rotate(t){const{drawLayer:e}=this.parent;e.rotate(this.#vt,t),e.rotate(this.#Jt,t),e.updateBox(this.#vt,d.#ne(this,t)),e.updateBox(this.#Jt,d.#ne(this.#$t.box,t))}render(){if(this.div)return this.div;const t=super.render(),e=this.#Xt=document.createElement("div");t.append(e),e.className="internal",e.style.clipPath=this.#Gt;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),(0,s.bindEvents)(this,this.#Xt,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(this.#Jt,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#Jt,"hovered")}select(){super.select(),this.parent?.drawLayer.removeClass(this.#Jt,"hovered"),this.parent?.drawLayer.addClass(this.#Jt,"selected")}unselect(){super.unselect(),this.parent?.drawLayer.removeClass(this.#Jt,"selected")}#re(){const[t,e]=this.pageDimensions,n=this.#Vt,r=new Array(8*n.length);let i=0;for(const{x:s,y:a,width:o,height:l}of n){const n=s*t,c=(1-a-l)*e;r[i]=r[i+4]=n,r[i+1]=r[i+3]=c,r[i+2]=r[i+6]=n+o*t,r[i+5]=r[i+7]=c+l*e,i+=8}return r}#ie(){const[t,e]=this.pageDimensions,n=this.width*t,r=this.height*e,i=this.x*t,s=(1-this.y-this.height)*e,a=[];for(const t of this.#Kt.outlines){const e=new Array(t.length);for(let a=0;a<t.length;a+=2)e[a]=i+t[a]*n,e[a+1]=s+(1-t[a+1])*r;a.push(e)}return a}static deserialize(t,e,n){const i=super.deserialize(t,e,n),{rect:s,color:a,quadPoints:o}=t;i.color=r.Util.makeHexColor(...a),i.#Qt=t.opacity;const[l,c]=i.pageDimensions;i.width=(s[2]-s[0])/l,i.height=(s[3]-s[1])/c;const d=i.#Vt=[];for(let t=0;t<o.length;t+=8)d.push({x:o[4]/l,y:1-o[t+5]/c,width:(o[t+2]-o[t])/l,height:(o[t+5]-o[t+1])/c});return i.#Zt(),i}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;const e=this.getRect(0,0),n=i.AnnotationEditor._colorManager.convert(this.color);return{annotationType:r.AnnotationEditorType.HIGHLIGHT,color:n,opacity:this.#Qt,quadPoints:this.#re(),outlines:this.#ie(),pageIndex:this.pageIndex,rect:e,rotation:0,structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}n(3352);var h=n(473);class u extends i.AnnotationEditor{#se=0;#ae=0;#oe=this.canvasPointermove.bind(this);#le=this.canvasPointerleave.bind(this);#ce=this.canvasPointerup.bind(this);#de=this.canvasPointerdown.bind(this);#he=null;#ue=new Path2D;#pe=!1;#fe=!1;#me=!1;#ge=null;#ve=0;#be=0;#ye=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=r.AnnotationEditorType.INK;constructor(t){super({...t,name:"inkEditor"}),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t){i.AnnotationEditor.initialize(t)}static updateDefaultParams(t,e){switch(t){case r.AnnotationEditorParamsType.INK_THICKNESS:u._defaultThickness=e;break;case r.AnnotationEditorParamsType.INK_COLOR:u._defaultColor=e;break;case r.AnnotationEditorParamsType.INK_OPACITY:u._defaultOpacity=e/100}}updateParams(t,e){switch(t){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#_e(e);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#Nt(e);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#Ae(e)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,u._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,u._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*u._defaultOpacity)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||u._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||u._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??u._defaultOpacity))]]}#_e(t){const e=this.thickness;this.addCommands({cmd:()=>{this.thickness=t,this.#we()},undo:()=>{this.thickness=e,this.#we()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#Nt(t){const e=this.color;this.addCommands({cmd:()=>{this.color=t,this.#xe()},undo:()=>{this.color=e,this.#xe()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Ae(t){t/=100;const e=this.opacity;this.addCommands({cmd:()=>{this.opacity=t,this.#xe()},undo:()=>{this.opacity=e,this.#xe()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#Ee(),this.#Se()),this.isAttachedToDOM||(this.parent.add(this),this.#Te()),this.#we()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#he&&(clearTimeout(this.#he),this.#he=null),this.#ge.disconnect(),this.#ge=null,super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&null===t&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,e]=this.parentDimensions,n=this.width*t,r=this.height*e;this.setDimensions(n,r)}enableEditMode(){this.#pe||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#de))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#de))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Ce(){const{parentRotation:t,parentDimensions:[e,n]}=this;switch(t){case 90:return[0,n,n,e];case 180:return[e,n,e,n];case 270:return[e,0,n,e];default:return[0,0,e,n]}}#ke(){const{ctx:t,color:e,opacity:n,thickness:r,parentScale:i,scaleFactor:a}=this;t.lineWidth=r*i/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${e}${(0,s.opacityToHex)(n)}`}#Me(t,e){this.canvas.addEventListener("contextmenu",h.noContextMenu),this.canvas.addEventListener("pointerleave",this.#le),this.canvas.addEventListener("pointermove",this.#oe),this.canvas.addEventListener("pointerup",this.#ce),this.canvas.removeEventListener("pointerdown",this.#de),this.isEditing=!0,this.#me||(this.#me=!0,this.#Te(),this.thickness||=u._defaultThickness,this.color||=u._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=u._defaultOpacity),this.currentPath.push([t,e]),this.#fe=!1,this.#ke(),this.#ye=()=>{this.#Ie(),this.#ye&&window.requestAnimationFrame(this.#ye)},window.requestAnimationFrame(this.#ye)}#Re(t,e){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===n&&e===r)return;const i=this.currentPath;let s=this.#ue;if(i.push([t,e]),this.#fe=!0,i.length<=2)return s.moveTo(...i[0]),void s.lineTo(t,e);3===i.length&&(this.#ue=s=new Path2D,s.moveTo(...i[0])),this.#Pe(s,...i.at(-3),...i.at(-2),t,e)}#De(){if(0===this.currentPath.length)return;const t=this.currentPath.at(-1);this.#ue.lineTo(...t)}#Le(t,e){let n;if(this.#ye=null,t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),this.#Re(t,e),this.#De(),1!==this.currentPath.length)n=this.#Fe();else{const r=[t,e];n=[[r,r.slice(),r.slice(),r]]}const r=this.#ue,i=this.currentPath;this.currentPath=[],this.#ue=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(r),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#Ee(),this.#Se()),this.#we())},mustExec:!0})}#Ie(){if(!this.#fe)return;this.#fe=!1;Math.ceil(this.thickness*this.parentScale);const t=this.currentPath.slice(-3),e=t.map((t=>t[0])),n=t.map((t=>t[1])),{ctx:r}=(Math.min(...e),Math.max(...e),Math.min(...n),Math.max(...n),this);r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const t of this.bezierPath2D)r.stroke(t);r.stroke(this.#ue),r.restore()}#Pe(t,e,n,r,i,s,a){const o=(e+r)/2,l=(n+i)/2,c=(r+s)/2,d=(i+a)/2;t.bezierCurveTo(o+2*(r-o)/3,l+2*(i-l)/3,c+2*(r-c)/3,d+2*(i-d)/3,c,d)}#Fe(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const e=[];let n,[r,i]=t[0];for(n=1;n<t.length-2;n++){const[s,a]=t[n],[o,l]=t[n+1],c=(s+o)/2,d=(a+l)/2,h=[r+2*(s-r)/3,i+2*(a-i)/3],u=[c+2*(s-c)/3,d+2*(a-d)/3];e.push([[r,i],h,u,[c,d]]),[r,i]=[c,d]}const[s,a]=t[n],[o,l]=t[n+1],c=[r+2*(s-r)/3,i+2*(a-i)/3],d=[o+2*(s-o)/3,l+2*(a-l)/3];return e.push([[r,i],c,d,[o,l]]),e}#xe(){if(this.isEmpty())return void this.#Oe();this.#ke();const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),this.#Oe();for(const t of this.bezierPath2D)e.stroke(t)}commit(){this.#pe||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#pe=!0,this.div.classList.add("disabled"),this.#we(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){0===t.button&&this.isInEditMode()&&!this.#pe&&(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#Me(t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),this.#Re(t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),this.#Be(t)}canvasPointerleave(t){this.#Be(t)}#Be(t){this.canvas.removeEventListener("pointerleave",this.#le),this.canvas.removeEventListener("pointermove",this.#oe),this.canvas.removeEventListener("pointerup",this.#ce),this.canvas.addEventListener("pointerdown",this.#de),this.#he&&clearTimeout(this.#he),this.#he=setTimeout((()=>{this.#he=null,this.canvas.removeEventListener("contextmenu",h.noContextMenu)}),10),this.#Le(t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#Ee(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Se(){this.#ge=new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),this.#ge.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#pe}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,r,i,s]=this.#Ce();if(this.setAt(n,r,0,0),this.setDims(i,s),this.#Ee(),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(t*n,e*r,this.width*n,this.height*r),this.#me=!0,this.#Te(),this.setDims(this.width*n,this.height*r),this.#xe(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Se(),this.div}#Te(){if(!this.#me)return;const[t,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),this.#Oe()}setDimensions(t,e){const n=Math.round(t),r=Math.round(e);if(this.#ve===n&&this.#be===r)return;this.#ve=n,this.#be=r,this.canvas.style.visibility="hidden";const[i,s]=this.parentDimensions;this.width=t/i,this.height=e/s,this.fixAndSetPosition(),this.#pe&&this.#Ne(t,e),this.#Te(),this.#xe(),this.canvas.style.visibility="visible",this.fixDims()}#Ne(t,e){const n=this.#qe(),r=(t-n)/this.#ae,i=(e-n)/this.#se;this.scaleFactor=Math.min(r,i)}#Oe(){const t=this.#qe()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#He(t){const e=new Path2D;for(let n=0,r=t.length;n<r;n++){const[r,i,s,a]=t[n];0===n&&e.moveTo(...r),e.bezierCurveTo(i[0],i[1],s[0],s[1],a[0],a[1])}return e}static#Ue(t,e,n){const[r,i,s,a]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]+=r,t[e+1]=a-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]+r,t[e+1]=n+i}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=s-t[e],t[e+1]+=i;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=s-t[e+1],t[e+1]=a-n}break;default:throw new Error("Invalid rotation")}return t}static#ze(t,e,n){const[r,i,s,a]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]-=r,t[e+1]=a-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]-i,t[e+1]=n-r}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=s-t[e],t[e+1]-=i;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=a-t[e+1],t[e+1]=s-n}break;default:throw new Error("Invalid rotation")}return t}#je(t,e,n,r){const i=[],s=this.thickness/2,a=t*e+s,o=t*n+s;for(const e of this.paths){const n=[],s=[];for(let r=0,i=e.length;r<i;r++){const[l,c,d,h]=e[r],u=t*l[0]+a,p=t*l[1]+o,f=t*c[0]+a,m=t*c[1]+o,g=t*d[0]+a,v=t*d[1]+o,b=t*h[0]+a,y=t*h[1]+o;0===r&&(n.push(u,p),s.push(u,p)),n.push(f,m,g,v,b,y),s.push(f,m),r===i-1&&s.push(b,y)}i.push({bezier:u.#Ue(n,r,this.rotation),points:u.#Ue(s,r,this.rotation)})}return i}#Ve(){let t=1/0,e=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[a,o,l,c]of s){const s=r.Util.bezierBoundingBox(...a,...o,...l,...c);t=Math.min(t,s[0]),n=Math.min(n,s[1]),e=Math.max(e,s[2]),i=Math.max(i,s[3])}return[t,n,e,i]}#qe(){return this.#pe?Math.ceil(this.thickness*this.parentScale):0}#we(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#pe)return void this.#xe();const e=this.#Ve(),n=this.#qe();this.#ae=Math.max(i.AnnotationEditor.MIN_SIZE,e[2]-e[0]),this.#se=Math.max(i.AnnotationEditor.MIN_SIZE,e[3]-e[1]);const r=Math.ceil(n+this.#ae*this.scaleFactor),s=Math.ceil(n+this.#se*this.scaleFactor),[a,o]=this.parentDimensions;this.width=r/a,this.height=s/o,this.setAspectRatio(r,s);const l=this.translationX,c=this.translationY;this.translationX=-e[0],this.translationY=-e[1],this.#Te(),this.#xe(),this.#ve=r,this.#be=s,this.setDims(r,s);const d=t?n/this.scaleFactor/2:0;this.translate(l-this.translationX-d,c-this.translationY-d)}static deserialize(t,e,n){if(t instanceof a.InkAnnotationElement)return null;const s=super.deserialize(t,e,n);s.thickness=t.thickness,s.color=r.Util.makeHexColor(...t.color),s.opacity=t.opacity;const[o,l]=s.pageDimensions,c=s.width*o,d=s.height*l,h=s.parentScale,p=t.thickness/2;s.#pe=!0,s.#ve=Math.round(c),s.#be=Math.round(d);const{paths:f,rect:m,rotation:g}=t;for(let{bezier:t}of f){t=u.#ze(t,m,g);const e=[];s.paths.push(e);let n=h*(t[0]-p),r=h*(t[1]-p);for(let i=2,s=t.length;i<s;i+=6){const s=h*(t[i]-p),a=h*(t[i+1]-p),o=h*(t[i+2]-p),l=h*(t[i+3]-p),c=h*(t[i+4]-p),d=h*(t[i+5]-p);e.push([[n,r],[s,a],[o,l],[c,d]]),n=c,r=d}const i=this.#He(e);s.bezierPath2D.push(i)}const v=s.#Ve();return s.#ae=Math.max(i.AnnotationEditor.MIN_SIZE,v[2]-v[0]),s.#se=Math.max(i.AnnotationEditor.MIN_SIZE,v[3]-v[1]),s.#Ne(c,d),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:this.#je(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}n(2993),n(9709);class p extends i.AnnotationEditor{#Ge=null;#We=null;#$e=null;#Xe=null;#Ke=null;#Ye="";#Qe=null;#ge=null;#Je=null;#Ze=!1;#tn=!1;static _type="stamp";static _editorType=r.AnnotationEditorType.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#Xe=t.bitmapUrl,this.#Ke=t.bitmapFile}static initialize(t){i.AnnotationEditor.initialize(t)}static get supportedTypes(){return(0,r.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((t=>`image/${t}`)))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:t.getAsFile()})}#en(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.#Ge=t.bitmap,e||(this.#We=t.id,this.#Ze=t.isSvg),t.file&&(this.#Ye=t.file.name),this.#Ee()):this.remove()}#nn(){this.#$e=null,this._uiManager.enableWaiting(!1),this.#Qe&&this.div.focus()}#rn(){if(this.#We)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#We).then((t=>this.#en(t,!0))).finally((()=>this.#nn()));if(this.#Xe){const t=this.#Xe;return this.#Xe=null,this._uiManager.enableWaiting(!0),void(this.#$e=this._uiManager.imageManager.getFromUrl(t).then((t=>this.#en(t))).finally((()=>this.#nn())))}if(this.#Ke){const t=this.#Ke;return this.#Ke=null,this._uiManager.enableWaiting(!0),void(this.#$e=this._uiManager.imageManager.getFromFile(t).then((t=>this.#en(t))).finally((()=>this.#nn())))}const t=document.createElement("input");t.type="file",t.accept=p.supportedTypesStr,this.#$e=new Promise((e=>{t.addEventListener("change",(async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this.#en(e)}else this.remove();e()})),t.addEventListener("cancel",(()=>{this.remove(),e()}))})).finally((()=>this.#nn())),t.click()}remove(){this.#We&&(this.#Ge=null,this._uiManager.imageManager.deleteId(this.#We),this.#Qe?.remove(),this.#Qe=null,this.#ge?.disconnect(),this.#ge=null,this.#Je&&(clearTimeout(this.#Je),this.#Je=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#We&&this.#rn(),this.isAttachedToDOM||this.parent.add(this))):this.#We&&this.#rn()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#$e||this.#Ge||this.#Xe||this.#Ke)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.#Ge?this.#Ee():this.#rn(),this.width){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r)}return this.div}#Ee(){const{div:t}=this;let{width:e,height:n}=this.#Ge;const[r,i]=this.pageDimensions,s=.75;if(this.width)e=this.width*r,n=this.height*i;else if(e>s*r||n>s*i){const t=Math.min(s*r/e,s*i/n);e*=t,n*=t}const[a,o]=this.parentDimensions;this.setDims(e*a/r,n*o/i),this._uiManager.enableWaiting(!1);const l=this.#Qe=document.createElement("canvas");t.append(l),t.hidden=!1,this.#in(e,n),this.#Se(),this.#tn||(this.parent.addUndoableEditor(this),this.#tn=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton(),this.#Ye&&l.setAttribute("aria-label",this.#Ye)}#sn(t,e){const[n,r]=this.parentDimensions;this.width=t/n,this.height=e/r,this.setDims(t,e),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#Je&&clearTimeout(this.#Je),this.#Je=setTimeout((()=>{this.#Je=null,this.#in(t,e)}),200)}#an(t,e){const{width:n,height:r}=this.#Ge;let i=n,s=r,a=this.#Ge;for(;i>2*t||s>2*e;){const n=i,r=s;i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const o=new OffscreenCanvas(i,s);o.getContext("2d").drawImage(a,0,0,n,r,0,0,i,s),a=o.transferToImageBitmap()}return a}#in(t,e){t=Math.ceil(t),e=Math.ceil(e);const n=this.#Qe;if(!n||n.width===t&&n.height===e)return;n.width=t,n.height=e;const r=this.#Ze?this.#Ge:this.#an(t,e),i=n.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(r,0,0,r.width,r.height,0,0,t,e)}getImageForAltText(){return this.#Qe}#on(t){if(t){if(this.#Ze){const t=this._uiManager.imageManager.getSvgUrl(this.#We);if(t)return t}const t=document.createElement("canvas");return({width:t.width,height:t.height}=this.#Ge),t.getContext("2d").drawImage(this.#Ge,0,0),t.toDataURL()}if(this.#Ze){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*h.PixelsPerInch.PDF_TO_CSS_UNITS),r=Math.round(this.height*e*h.PixelsPerInch.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(this.#Ge,0,0,this.#Ge.width,this.#Ge.height,0,0,n,r),i.transferToImageBitmap()}return structuredClone(this.#Ge)}#Se(){this.#ge=new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.#sn(e.width,e.height)})),this.#ge.observe(this.div)}static deserialize(t,e,n){if(t instanceof a.StampAnnotationElement)return null;const r=super.deserialize(t,e,n),{rect:i,bitmapUrl:s,bitmapId:o,isSvg:l,accessibilityData:c}=t;o&&n.imageManager.isValidId(o)?r.#We=o:r.#Xe=s,r.#Ze=l;const[d,h]=r.pageDimensions;return r.width=(i[2]-i[0])/d,r.height=(i[3]-i[1])/h,c&&(r.altTextData=c),r}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:r.AnnotationEditorType.STAMP,bitmapId:this.#We,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#Ze,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#on(!0),n.accessibilityData=this.altTextData,n;const{decorative:i,altText:s}=this.altTextData;if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),null===e)return n;e.stamps||=new Map;const a=this.#Ze?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(this.#We)){if(this.#Ze){const t=e.stamps.get(this.#We);a>t.area&&(t.area=a,t.serialized.bitmap.close(),t.serialized.bitmap=this.#on(!1))}}else e.stamps.set(this.#We,{area:a,serialized:n}),n.bitmap=this.#on(!1);return n}}class f{#P;#ln=!1;#cn=null;#dn=this.pointerup.bind(this);#hn=this.pointerUpAfterSelection.bind(this);#un=this.pointerdown.bind(this);#pn=null;#fn=this.selectionStart.bind(this);#mn=new Map;#gn=!1;#vn=!1;#bn=!1;#yn=null;#_n;static _initialized=!1;static#An=new Map([o,u,p,d].map((t=>[t._editorType,t])));constructor(t){let{uiManager:e,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:a,textLayer:o,viewport:l,l10n:c}=t;const d=[...f.#An.values()];if(!f._initialized){f._initialized=!0;for(const t of d)t.initialize(c)}e.registerEditorTypes(d),this.#_n=e,this.pageIndex=n,this.div=r,this.#P=i,this.#cn=s,this.viewport=l,this.#yn=o,this.drawLayer=a,this.#_n.addLayer(this)}get isEmpty(){return 0===this.#mn.size}updateToolbar(t){this.#_n.updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#_n.getMode();switch(this.#wn(),t){case r.AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;case r.AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case r.AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}if(t!==r.AnnotationEditorType.NONE){const{classList:e}=this.div;for(const n of f.#An.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}}addInkEditorIfNeeded(t){if(this.#_n.getMode()===r.AnnotationEditorType.INK){if(!t)for(const t of this.#mn.values())if(t.isEmpty())return void t.setInBackground();this.#xn({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(t){this.#_n.setEditingState(t)}addCommands(t){this.#_n.addCommands(t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}enable(){this.togglePointerEvents(!0);const t=new Set;for(const e of this.#mn.values())e.enableEditing(),e.annotationElementId&&t.add(e.annotationElementId);if(!this.#cn)return;const e=this.#cn.getEditableAnnotations();for(const n of e){if(n.hide(),this.#_n.isDeletedAnnotationElement(n.data.id))continue;if(t.has(n.data.id))continue;const e=this.deserialize(n);e&&(this.addOrRebuild(e),e.enableEditing())}}disable(){this.#bn=!0,this.togglePointerEvents(!1);const t=new Set;for(const e of this.#mn.values())e.disableEditing(),e.annotationElementId&&null===e.serialize()?(this.getEditableAnnotation(e.annotationElementId)?.show(),e.remove()):t.add(e.annotationElementId);if(this.#cn){const e=this.#cn.getEditableAnnotations();for(const n of e){const{id:e}=n.data;t.has(e)||this.#_n.isDeletedAnnotationElement(e)||n.show()}}this.#wn(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const t of f.#An.values())e.remove(`${t._type}Editing`);this.disableTextSelection(),this.#bn=!1}getEditableAnnotation(t){return this.#cn?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#_n.getActive()!==t&&this.#_n.setActiveEditor(t)}enableTextSelection(){this.#yn?.div&&document.addEventListener("selectstart",this.#fn)}disableTextSelection(){this.#yn?.div&&document.removeEventListener("selectstart",this.#fn)}enableClick(){this.div.addEventListener("pointerdown",this.#un),this.div.addEventListener("pointerup",this.#dn)}disableClick(){this.div.removeEventListener("pointerdown",this.#un),this.div.removeEventListener("pointerup",this.#dn)}attach(t){this.#mn.set(t.id,t);const{annotationElementId:e}=t;e&&this.#_n.isDeletedAnnotationElement(e)&&this.#_n.removeDeletedAnnotationElement(t)}detach(t){this.#mn.delete(t.id),this.#P?.removePointerInTextLayer(t.contentDiv),!this.#bn&&t.annotationElementId&&this.#_n.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#_n.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#vn||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.annotationElementId&&(this.#_n.addDeletedAnnotationElement(t.annotationElementId),i.AnnotationEditor.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(this.changeParent(t),this.#_n.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#_n.addToAnnotationStorage(t)}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#pn&&(t._focusEventsAllowed=!1,this.#pn=setTimeout((()=>{this.#pn=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0}),e.focus())}),0)),t._structTreeParentId=this.#P?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getNextId(){return this.#_n.getId()}get#En(){return f.#An.get(this.#_n.getMode())}#Sn(t){const e=this.#En;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#En?.canCreateNewEmptyEditor()}pasteEditor(t,e){this.#_n.updateToolbar(t),this.#_n.updateMode(t);const{offsetX:n,offsetY:r}=this.#Tn(),i=this.getNextId(),s=this.#Sn({parent:this,id:i,x:n,y:r,uiManager:this.#_n,isCentered:!0,...e});s&&this.add(s)}deserialize(t){return f.#An.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#_n)||null}#xn(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),i=this.#Sn({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#_n,isCentered:e,...n});return i&&this.add(i),i}#Tn(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,t),s=Math.max(0,e),a=(i+Math.min(window.innerWidth,t+n))/2-t,o=(s+Math.min(window.innerHeight,e+r))/2-e,[l,c]=this.viewport.rotation%180==0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}addNewEditor(){this.#xn(this.#Tn(),!0)}setSelected(t){this.#_n.setSelected(t)}toggleSelected(t){this.#_n.toggleSelected(t)}isSelected(t){return this.#_n.isSelected(t)}unselect(t){this.#_n.unselect(t)}selectionStart(t){this.#yn?.div.addEventListener("pointerup",this.#hn,{once:!0})}pointerUpAfterSelection(t){const e=document.getSelection();if(0===e.rangeCount)return;const n=e.getRangeAt(0);if(n.collapsed)return;if(!this.#yn?.div.contains(n.commonAncestorContainer))return;const{x:r,y:i,width:s,height:a}=this.#yn.div.getBoundingClientRect(),o=n.getClientRects();let l;switch(this.viewport.rotation){case 90:l=(t,e,n,o)=>({x:(e-i)/a,y:1-(t+n-r)/s,width:o/a,height:n/s});break;case 180:l=(t,e,n,o)=>({x:1-(t+n-r)/s,y:1-(e+o-i)/a,width:n/s,height:o/a});break;case 270:l=(t,e,n,o)=>({x:1-(e+o-i)/a,y:(t-r)/s,width:o/a,height:n/s});break;default:l=(t,e,n,o)=>({x:(t-r)/s,y:(e-i)/a,width:n/s,height:o/a})}const c=[];for(const{x:t,y:e,width:n,height:r}of o)0!==n&&0!==r&&c.push(l(t,e,n,r));0!==c.length&&this.#xn(t,!1,{boxes:c}),e.empty()}pointerup(t){const{isMac:e}=r.FeatureTest.platform;0!==t.button||t.ctrlKey&&e||t.target===this.div&&this.#gn&&(this.#gn=!1,this.#ln?this.#_n.getMode()!==r.AnnotationEditorType.STAMP?this.#xn(t,!1):this.#_n.unselectAll():this.#ln=!0)}pointerdown(t){if(this.#_n.getMode()===r.AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),this.#gn)return void(this.#gn=!1);const{isMac:e}=r.FeatureTest.platform;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;this.#gn=!0;const n=this.#_n.getActive();this.#ln=!n||n.isEmpty()}findNewParent(t,e,n){const r=this.#_n.findParent(e,n);return null!==r&&r!==this&&(r.changeParent(t),!0)}destroy(){this.#_n.getActive()?.parent===this&&(this.#_n.commitOrRemove(),this.#_n.setActiveEditor(null)),this.#pn&&(clearTimeout(this.#pn),this.#pn=null);for(const t of this.#mn.values())this.#P?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#mn.clear(),this.#_n.removeLayer(this)}#wn(){this.#vn=!0;for(const t of this.#mn.values())t.isEmpty()&&t.remove();this.#vn=!1}render(t){let{viewport:e}=t;this.viewport=e,(0,h.setLayerDimensions)(this.div,e);for(const t of this.#_n.getEditors(this.pageIndex))this.add(t);this.updateMode()}update(t){let{viewport:e}=t;this.#_n.commitOrRemove();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,(0,h.setLayerDimensions)(this.div,{rotation:r}),n!==r)for(const t of this.#mn.values())t.rotate(r);this.updateMode()}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}}},5097:(t,e,n)=>{n.d(e,{ColorPicker:()=>a});var r=n(3266),i=n(4812),s=n(473);class a{#i=this.#s.bind(this);#Cn=null;#kn=null;#Mn;#In=null;#Rn=!1;#Pn=!1;#Dn;#_n=null;static get _keyboardManager(){return(0,r.shadow)(this,"_keyboardManager",new i.KeyboardManager([[["Escape","mac+Escape"],a.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],a.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],a.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],a.prototype._moveToPrevious],[["Home","mac+Home"],a.prototype._moveToBeginning],[["End","mac+End"],a.prototype._moveToEnd]]))}constructor(t){let{editor:e=null,uiManager:n=null}=t;this.#Pn=!e,this.#_n=e?._uiManager||n,this.#Dn=this.#_n._eventBus,this.#Mn=e?.color||this.#_n?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const t=this.#Cn=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0),t.addEventListener("click",this.#Ln.bind(this));const e=this.#kn=document.createElement("span");return e.className="swatch",e.style.backgroundColor=this.#Mn,t.append(e),t}renderMainDropdown(){const t=this.#In=this.#Fn(r.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR);return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#Fn(t){const e=document.createElement("div");e.addEventListener("contextmenu",s.noContextMenu),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of this.#_n.highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=n,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=r,i.setAttribute("aria-selected",r===this.#Mn),i.addEventListener("click",this.#On.bind(this,t,r)),e.append(i)}return e.addEventListener("keydown",this.#i),e}#On(t,e,n){n.stopPropagation(),this.#Dn.dispatch("switchannotationeditorparams",{source:this,type:t,value:e})}_colorSelectFromKeyboard(t){const e=t.target.getAttribute("data-color");e&&this.#On(e,t)}_moveToNext(t){t.target!==this.#Cn?t.target.nextSibling?.focus():this.#In.firstChild?.focus()}_moveToPrevious(t){t.target.previousSibling?.focus()}_moveToBeginning(){this.#In.firstChild?.focus()}_moveToEnd(){this.#In.lastChild?.focus()}#s(t){a._keyboardManager.exec(this,t)}#Ln(t){if(this.#In&&!this.#In.classList.contains("hidden"))return void this.hideDropdown();if(this.#Cn.addEventListener("keydown",this.#i),this.#Rn=0===t.detail,this.#In)return void this.#In.classList.remove("hidden");const e=this.#In=this.#Fn(r.AnnotationEditorParamsType.HIGHLIGHT_COLOR);this.#Cn.append(e)}hideDropdown(){this.#In?.classList.add("hidden")}_hideDropdownFromKeyboard(){this.#Pn||!this.#In||this.#In.classList.contains("hidden")||(this.hideDropdown(),this.#Cn.removeEventListener("keydown",this.#i),this.#Cn.focus({preventScroll:!0,focusVisible:this.#Rn}))}updateColor(t){if(this.#kn&&(this.#kn.style.backgroundColor=t),!this.#In)return;const e=this.#_n.highlightColors.values();for(const n of this.#In.children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#Cn?.remove(),this.#Cn=null,this.#kn=null,this.#In?.remove(),this.#In=null}}},9115:(t,e,n)=>{n.d(e,{AnnotationEditor:()=>l}),n(3352);var r=n(4812),i=n(3266),s=n(473);class a{#Bn="";#Nn=!1;#qn=null;#Hn=null;#Un=null;#zn=!1;#jn=null;static _l10nPromise=null;constructor(t){this.#jn=t}static initialize(t){a._l10nPromise||=t}async render(){const t=this.#qn=document.createElement("button");t.className="altText";const e=await a._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0",t.addEventListener("contextmenu",s.noContextMenu),t.addEventListener("pointerdown",(t=>t.stopPropagation()));const n=t=>{t.preventDefault(),this.#jn._uiManager.editAltText(this.#jn)};return t.addEventListener("click",n,{capture:!0}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(this.#zn=!0,n(e))})),await this.#Vn(),t}finish(){this.#qn&&(this.#qn.focus({focusVisible:this.#zn}),this.#zn=!1)}get data(){return{altText:this.#Bn,decorative:this.#Nn}}set data(t){let{altText:e,decorative:n}=t;this.#Bn===e&&this.#Nn===n||(this.#Bn=e,this.#Nn=n,this.#Vn())}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#qn&&(!t&&this.#Un&&(clearTimeout(this.#Un),this.#Un=null),this.#qn.disabled=!t)}destroy(){this.#qn?.remove(),this.#qn=null,this.#Hn=null}async#Vn(){const t=this.#qn;if(!t)return;if(!this.#Bn&&!this.#Nn)return t.classList.remove("done"),void this.#Hn?.remove();t.classList.add("done"),a._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((e=>{t.setAttribute("aria-label",e)}));let e=this.#Hn;if(!e){this.#Hn=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip");const n=e.id=`alt-text-tooltip-${this.#jn.id}`;t.setAttribute("aria-describedby",n);const r=100;t.addEventListener("mouseenter",(()=>{this.#Un=setTimeout((()=>{this.#Un=null,this.#Hn.classList.add("show"),this.#jn._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.#jn.editorType,data:{action:"alt_text_tooltip"}}})}),r)})),t.addEventListener("mouseleave",(()=>{this.#Un&&(clearTimeout(this.#Un),this.#Un=null),this.#Hn?.classList.remove("show")}))}e.innerText=this.#Nn?await a._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#Bn,e.parentNode||t.append(e);const n=this.#jn.getImageForAltText();n?.setAttribute("aria-describedby",e.id)}}class o{#Gn=null;#Wt=null;#jn;#Wn=null;constructor(t){this.#jn=t}render(){const t=this.#Gn=document.createElement("div");t.className="editToolbar",t.addEventListener("contextmenu",s.noContextMenu),t.addEventListener("pointerdown",o.#$n);const e=this.#Wn=document.createElement("div");e.className="buttons",t.append(e);const n=this.#jn.toolbarPosition;if(n){const{style:e}=t,r="ltr"===this.#jn._uiManager.direction?1-n[0]:n[0];e.insetInlineEnd=100*r+"%",e.top=`calc(${100*n[1]}% + var(--editor-toolbar-vert-offset))`}return this.#Xn(),t}static#$n(t){t.stopPropagation()}#Kn(t){this.#jn._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}#Yn(t){this.#jn._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}#Qn(t){t.addEventListener("focusin",this.#Kn.bind(this),{capture:!0}),t.addEventListener("focusout",this.#Yn.bind(this),{capture:!0}),t.addEventListener("contextmenu",s.noContextMenu)}hide(){this.#Gn.classList.add("hidden"),this.#Wt?.hideDropdown()}show(){this.#Gn.classList.remove("hidden")}#Xn(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#jn.editorType}-button`),this.#Qn(t),t.addEventListener("click",(t=>{this.#jn._uiManager.delete()})),this.#Wn.append(t)}get#Jn(){const t=document.createElement("div");return t.className="divider",t}addAltTextButton(t){this.#Qn(t),this.#Wn.prepend(t,this.#Jn)}addColorPicker(t){this.#Wt=t;const e=t.renderButton();this.#Qn(e),this.#Wn.prepend(e,this.#Jn)}remove(){this.#Gn.remove(),this.#Wt?.destroy(),this.#Wt=null}}class l{#Zn=null;#Bn=null;#tr=!1;#er=null;#nr=null;#rr=this.focusin.bind(this);#ir=this.focusout.bind(this);#sr=null;#ar="";#or=!1;#lr=!1;#cr=!1;#dr=!1;#hr=null;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#ur=!1;#pr=l._zIndex++;static _borderLineWidth=-1;static _colorManager=new r.ColorManager;static _zIndex=1;static get _resizerKeyboardManager(){const t=l.prototype._resizeWithKeyboard,e=r.AnnotationEditorUIManager.TRANSLATE_SMALL,n=r.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_resizerKeyboardManager",new r.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],l.prototype._stopResizingWithKeyboard]]))}constructor(t){this.constructor===l&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,a];const[o,c]=this.parentDimensions;this.x=t.x/o,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new c({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(l._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((e=>[e,t.get(e.replaceAll(/([A-Z])/g,(t=>`-${t.toLowerCase()}`)))]))),e?.strings)for(const n of e.strings)l._l10nPromise.set(n,t.get(n));if(-1!==l._borderLineWidth)return;const n=getComputedStyle(document.documentElement);l._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){(0,i.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#ur}set _isDraggable(t){this.#ur=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#pr}setParent(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#fr(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#or?this.#or=!1:this.parent.setSelected(this))}focusout(t){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const e=t.relatedTarget;e?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[i,s]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/i,this.y=(e+r)/s,this.fixAndSetPosition()}#mr(t,e,n){let[r,i]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/r,this.y+=n/i,this.fixAndSetPosition()}translate(t,e){this.#mr(this.parentDimensions,t,e)}translateInPage(t,e){this.#mr(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){const[n,r]=this.parentDimensions;if(this.x+=t/n,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:s}=this;const[a,o]=this.#gr();i+=a,s+=o,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#gr(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=l,r=n/t,i=n/e;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[e,n]=this.pageDimensions;let{x:r,y:i,width:s,height:a}=this;switch(s*=e,a*=n,r*=e,i*=n,t){case 0:r=Math.max(0,Math.min(e-s,r)),i=Math.max(0,Math.min(n-a,i));break;case 90:r=Math.max(0,Math.min(e-a,r)),i=Math.min(n,Math.max(s,i));break;case 180:r=Math.min(e,Math.max(s,r)),i=Math.min(n,Math.max(a,i));break;case 270:r=Math.min(e,Math.max(a,r)),i=Math.max(0,Math.min(n-s,i))}this.x=r/=e,this.y=i/=n;const[o,l]=this.#gr();r+=o,i+=l;const{style:c}=this.div;c.left=`${(100*r).toFixed(2)}%`,c.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}static#vr(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return l.#vr(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return l.#vr(t,e,360-this.parentRotation)}#br(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this,r=e*t,s=n*t;return i.FeatureTest.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(t,e){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,this.#tr||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),i=!this.#tr&&e.endsWith("%");if(r&&i)return;const[s,a]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/s).toFixed(2)}%`),this.#tr||i||(t.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#yr(){if(this.#er)return;this.#er=document.createElement("div"),this.#er.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const e of t){const t=document.createElement("div");this.#er.append(t),t.classList.add("resizer",e),t.setAttribute("data-resizer-name",e),t.addEventListener("pointerdown",this.#_r.bind(this,e)),t.addEventListener("contextmenu",s.noContextMenu),t.tabIndex=-1}this.div.prepend(this.#er)}#_r(t,e){e.preventDefault();const{isMac:n}=i.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&n)return;this.#Bn?.toggle(!1);const r=this.#Ar.bind(this,t),s=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,a);const o=this.x,l=this.y,c=this.width,d=this.height,h=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{this.parent.togglePointerEvents(!0),this.#Bn?.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",r,a),this.parent.div.style.cursor=h,this.div.style.cursor=u,this.#wr(o,l,c,d)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)}#wr(t,e,n,r){const i=this.x,s=this.y,a=this.width,o=this.height;i===t&&s===e&&a===n&&o===r||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=i,this.y=s;const[t,e]=this.parentDimensions;this.setDims(t*a,e*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=t,this.y=e;const[i,s]=this.parentDimensions;this.setDims(i*n,s*r),this.fixAndSetPosition()},mustExec:!0})}#Ar(t,e){const[n,r]=this.parentDimensions,i=this.x,s=this.y,a=this.width,o=this.height,c=l.MIN_SIZE/n,d=l.MIN_SIZE/r,h=t=>Math.round(1e4*t)/1e4,u=this.#br(this.rotation),p=(t,e)=>[u[0]*t+u[2]*e,u[1]*t+u[3]*e],f=this.#br(360-this.rotation);let m,g,v=!1,b=!1;switch(t){case"topLeft":v=!0,m=(t,e)=>[0,0],g=(t,e)=>[t,e];break;case"topMiddle":m=(t,e)=>[t/2,0],g=(t,e)=>[t/2,e];break;case"topRight":v=!0,m=(t,e)=>[t,0],g=(t,e)=>[0,e];break;case"middleRight":b=!0,m=(t,e)=>[t,e/2],g=(t,e)=>[0,e/2];break;case"bottomRight":v=!0,m=(t,e)=>[t,e],g=(t,e)=>[0,0];break;case"bottomMiddle":m=(t,e)=>[t/2,e],g=(t,e)=>[t/2,0];break;case"bottomLeft":v=!0,m=(t,e)=>[0,e],g=(t,e)=>[t,0];break;case"middleLeft":b=!0,m=(t,e)=>[0,e/2],g=(t,e)=>[t,e/2]}const y=m(a,o),_=g(a,o);let A=p(..._);const w=h(i+A[0]),x=h(s+A[1]);let E=1,S=1,[T,C]=this.screenToPageTranslation(e.movementX,e.movementY);var k,M;if([T,C]=(k=T/n,M=C/r,[f[0]*k+f[2]*M,f[1]*k+f[3]*M]),v){const t=Math.hypot(a,o);E=S=Math.max(Math.min(Math.hypot(_[0]-y[0]-T,_[1]-y[1]-C)/t,1/a,1/o),c/a,d/o)}else b?E=Math.max(c,Math.min(1,Math.abs(_[0]-y[0]-T)))/a:S=Math.max(d,Math.min(1,Math.abs(_[1]-y[1]-C)))/o;const I=h(a*E),R=h(o*S);A=p(...g(I,R));const P=w-A[0],D=x-A[1];this.width=I,this.height=R,this.x=P,this.y=D,this.setDims(n*I,r*R),this.fixAndSetPosition()}altTextFinish(){this.#Bn?.finish()}async addEditToolbar(){return this.#sr||this.#cr||(this.#sr=new o(this),this.div.append(this.#sr.render()),this.#Bn&&this.#sr.addAltTextButton(await this.#Bn.render())),this.#sr}removeEditToolbar(){this.#sr&&(this.#sr.remove(),this.#sr=null,this.#Bn?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#Bn||(a.initialize(l._l10nPromise),this.#Bn=new a(this),await this.addEditToolbar())}get altTextData(){return this.#Bn?.data}set altTextData(t){this.#Bn&&(this.#Bn.data=t)}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#rr),this.div.addEventListener("focusout",this.#ir);const[t,e]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=i.FeatureTest.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(this.#or=!0,this._isDraggable?this.#xr(t):this.#Er(t))}#Er(t){const{isMac:e}=i.FeatureTest.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#xr(t){const e=this._uiManager.isSelected(this);let n,r;this._uiManager.setUpDragSession(),e&&(n={passive:!0,capture:!0},r=t=>{const[e,n]=this.screenToPageTranslation(t.movementX,t.movementY);this._uiManager.dragSelectedEditors(e,n)},window.addEventListener("pointermove",r,n));const i=()=>{window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),e&&window.removeEventListener("pointermove",r,n),this.#or=!1,this._uiManager.endDragSession()||this.#Er(t)};window.addEventListener("pointerup",i),window.addEventListener("blur",i)}moveInDOM(){this.#hr&&clearTimeout(this.#hr),this.#hr=setTimeout((()=>{this.#hr=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[i,s]=this.pageDimensions,[a,o]=this.pageTranslation,l=t/r,c=e/r,d=this.x*i,h=this.y*s,u=this.width*i,p=this.height*s;switch(n){case 0:return[d+l+a,s-h-c-p+o,d+l+u+a,s-h-c+o];case 90:return[d+c+a,s-h+l+o,d+c+p+a,s-h+l+u+o];case 180:return[d-l-u+a,s-h+c+o,d-l+a,s-h+c+p+o];case 270:return[d-c-p+a,s-h-l-u+o,d-c+a,s-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,i,s]=t,a=i-n,o=s-r;switch(this.rotation){case 0:return[n,e-s,a,o];case 90:return[n,e-r,o,a];case 180:return[i,e-r,a,o];case 270:return[i,e-s,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#cr=!0}disableEditMode(){this.#cr=!1}isInEditMode(){return this.#cr}shouldGetKeyboardEvents(){return this.#dr}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#rr),this.div?.addEventListener("focusout",this.#ir)}rotate(t){}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation;const[i,s]=r.pageDimensions,[a,o,l,c]=r.getRectInCurrentCoords(t.rect,s);return r.x=a/i,r.y=o/s,r.width=l/i,r.height=c/s,r}remove(){this.div.removeEventListener("focusin",this.#rr),this.div.removeEventListener("focusout",this.#ir),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#hr&&(clearTimeout(this.#hr),this.#hr=null),this.#fr(),this.removeEditToolbar()}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#yr(),this.#er.classList.remove("hidden"),(0,r.bindEvents)(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),this.#nr={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#er.children;if(!this.#Zn){this.#Zn=Array.from(e);const t=this.#Sr.bind(this),n=this.#Tr.bind(this);for(const e of this.#Zn){const r=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t),e.addEventListener("blur",n),e.addEventListener("focus",this.#Cr.bind(this,r)),l._l10nPromise.get(`pdfjs-editor-resizer-label-${r}`).then((t=>e.setAttribute("aria-label",t)))}}const n=this.#Zn[0];let r=0;for(const t of e){if(t===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(this.#Zn.length/4);if(i!==r){if(i<r)for(let t=0;t<r-i;t++)this.#er.append(this.#er.firstChild);else if(i>r)for(let t=0;t<i-r;t++)this.#er.firstChild.before(this.#er.lastChild);let t=0;for(const n of e){const e=this.#Zn[t++].getAttribute("data-resizer-name");l._l10nPromise.get(`pdfjs-editor-resizer-label-${e}`).then((t=>n.setAttribute("aria-label",t)))}}this.#kr(0),this.#dr=!0,this.#er.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#Sr(t){l._resizerKeyboardManager.exec(this,t)}#Tr(t){this.#dr&&t.relatedTarget?.parentNode!==this.#er&&this.#fr()}#Cr(t){this.#ar=this.#dr?t:""}#kr(t){if(this.#Zn)for(const e of this.#Zn)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#dr&&this.#Ar(this.#ar,{movementX:t,movementY:e})}#fr(){if(this.#dr=!1,this.#kr(-1),this.#nr){const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#nr;this.#wr(t,e,n,r),this.#nr=null}}_stopResizingWithKeyboard(){this.#fr(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#sr?this.#sr?.show():this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this.#sr?.show()}))}unselect(){this.#er?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus(),this.#sr?.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#lr}set isEditing(t){this.#lr=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#tr=!0;const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}}class c extends l{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},7405:(t,e,n)=>{n.d(e,{Outliner:()=>r}),n(4226),n(5561),n(8587),n(3247),n(3302),n(9490),n(5438),n(7914);class r{#Mr;#Ir=[];#Rr=[];constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=1/0,s=-1/0,a=1/0,o=-1/0;const l=10**-4;for(const{x:n,y:r,width:c,height:d}of t){const t=Math.floor((n-e)/l)*l,h=Math.ceil((n+c+e)/l)*l,u=Math.floor((r-e)/l)*l,p=Math.ceil((r+d+e)/l)*l,f=[t,u,p,!0],m=[h,u,p,!1];this.#Ir.push(f,m),i=Math.min(i,t),s=Math.max(s,h),a=Math.min(a,u),o=Math.max(o,p)}const c=s-i+2*n,d=o-a+2*n,h=i-n,u=a-n,p=this.#Ir.at(r?-1:-2),f=[p[0],p[2]];for(const t of this.#Ir){const[e,n,r]=t;t[0]=(e-h)/c,t[1]=(n-u)/d,t[2]=(r-u)/d}this.#Mr={x:h,y:u,width:c,height:d,lastPoint:f}}getOutlines(){this.#Ir.sort(((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]));const t=[];for(const e of this.#Ir)e[3]?(t.push(...this.#Pr(e)),this.#Dr(e)):(this.#Lr(e),t.push(...this.#Pr(e)));return this.#Fr(t)}#Fr(t){const e=[],n=new Set;for(const n of t){const[t,r,i]=n;e.push([t,r,n],[t,i,n])}e.sort(((t,e)=>t[1]-e[1]||t[0]-e[0]));for(let t=0,r=e.length;t<r;t+=2){const r=e[t][2],i=e[t+1][2];r.push(i),i.push(r),n.add(r),n.add(i)}const r=[];let i;for(;n.size>0;){const t=n.values().next().value;let[e,s,a,o,l]=t;n.delete(t);let c=e,d=s;for(i=[e,a],r.push(i);;){let t;if(n.has(o))t=o;else{if(!n.has(l))break;t=l}n.delete(t),[e,s,a,o,l]=t,c!==e&&(i.push(c,d,e,d===s?s:a),c=e),d=d===s?a:s}i.push(c,d)}return{outlines:r,box:this.#Mr}}#Or(t){const e=this.#Rr;let n=0,r=e.length-1;for(;n<=r;){const i=n+r>>1,s=e[i][0];if(s===t)return i;s<t?n=i+1:r=i-1}return r+1}#Dr(t){let[,e,n]=t;const r=this.#Or(e);this.#Rr.splice(r,0,[e,n])}#Lr(t){let[,e,n]=t;const r=this.#Or(e);for(let t=r;t<this.#Rr.length;t++){const[r,i]=this.#Rr[t];if(r!==e)break;if(r===e&&i===n)return void this.#Rr.splice(t,1)}for(let t=r-1;t>=0;t--){const[r,i]=this.#Rr[t];if(r!==e)break;if(r===e&&i===n)return void this.#Rr.splice(t,1)}}#Pr(t){const[e,n,r]=t,i=[[e,n,r]],s=this.#Or(r);for(let t=0;t<s;t++){const[n,r]=this.#Rr[t];for(let t=0,s=i.length;t<s;t++){const[,a,o]=i[t];if(!(r<=a||o<=n))if(a>=n)if(o>r)i[t][1]=r;else{if(1===s)return[];i.splice(t,1),t--,s--}else i[t][2]=n,o>r&&i.push([e,r,o])}}return i}}},4812:(t,e,n)=>{n.d(e,{AnnotationEditorUIManager:()=>u,ColorManager:()=>h,KeyboardManager:()=>d,bindEvents:()=>s,opacityToHex:()=>a}),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583),n(4226),n(5561),n(8587),n(3247),n(3302),n(9490),n(5438),n(7914),n(7121),n(385),n(7944),n(2808),n(8518);var r=n(3266),i=n(473);function s(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function a(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}class o{#vt=0;getId(){return`${r.AnnotationEditorPrefix}${this.#vt++}`}}class l{#Br=(0,r.getUuid)();#vt=0;#bt=null;static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d"),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const n=e.decode().then((()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0])));return(0,r.shadow)(this,"_isSVGFittingCanvas",n)}async#Nr(t,e){this.#bt||=new Map;let n=this.#bt.get(t);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let t;if(n||={bitmap:null,id:`image_${this.#Br}_${this.#vt++}`,refCounter:0,isSvg:!1},"string"==typeof e?(n.url=e,t=await(0,i.fetchData)(e,"blob")):t=n.file=e,"image/svg+xml"===t.type){const e=l._isSVGFittingCanvas,r=new FileReader,i=new Image,s=new Promise(((t,s)=>{i.onload=()=>{n.bitmap=i,n.isSvg=!0,t()},r.onload=async()=>{const t=n.svgUrl=r.result;i.src=await e?`${t}#svgView(preserveAspectRatio(none))`:t},i.onerror=r.onerror=s}));r.readAsDataURL(t),await s}else n.bitmap=await createImageBitmap(t);n.refCounter=1}catch(t){console.error(t),n=null}return this.#bt.set(t,n),n&&this.#bt.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:i}=t;return this.#Nr(`${e}_${n}_${r}_${i}`,t)}async getFromUrl(t){return this.#Nr(t,t)}async getFromId(t){this.#bt||=new Map;const e=this.#bt.get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=this.#bt.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#bt||=new Map;const e=this.#bt.get(t);e&&(e.refCounter-=1,0===e.refCounter&&(e.bitmap=null))}isValidId(t){return t.startsWith(`image_${this.#Br}_`)}}class c{#qr=[];#Hr=!1;#Ur;#zr=-1;constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#Ur=t}add(t){let{cmd:e,undo:n,mustExec:r,type:i=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}=t;if(r&&e(),this.#Hr)return;const o={cmd:e,undo:n,type:i};if(-1===this.#zr)return this.#qr.length>0&&(this.#qr.length=0),this.#zr=0,void this.#qr.push(o);if(s&&this.#qr[this.#zr].type===i)return a&&(o.undo=this.#qr[this.#zr].undo),void(this.#qr[this.#zr]=o);const l=this.#zr+1;l===this.#Ur?this.#qr.splice(0,1):(this.#zr=l,l<this.#qr.length&&this.#qr.splice(l)),this.#qr.push(o)}undo(){-1!==this.#zr&&(this.#Hr=!0,this.#qr[this.#zr].undo(),this.#Hr=!1,this.#zr-=1)}redo(){this.#zr<this.#qr.length-1&&(this.#zr+=1,this.#Hr=!0,this.#qr[this.#zr].cmd(),this.#Hr=!1)}hasSomethingToUndo(){return-1!==this.#zr}hasSomethingToRedo(){return this.#zr<this.#qr.length-1}destroy(){this.#qr=null}}class d{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=r.FeatureTest.platform;for(const[n,r,i={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:r,options:i}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:r,options:i}),this.allKeys.add(t.split("+").at(-1)))}}#jr(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#jr(e));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:s=[],checker:a=null}}=n;a&&!a(t,e)||(r.bind(t,...s,e)(),i||(e.stopPropagation(),e.preventDefault()))}}class h{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(t),(0,r.shadow)(this,"_colors",t)}convert(t){const e=(0,i.getRGB)(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[t,n]of this._colors)if(n.every(((t,n)=>t===e[n])))return h._colorsMapping.get(t);return e}getHexCode(t){const e=this._colors.get(t);return e?r.Util.makeHexColor(...e):t}}class u{#Vr=null;#Gr=new Map;#Wr=new Map;#$r=null;#Xr=null;#Kr=new c;#Yr=0;#Qr=new Set;#Jr=null;#An=null;#Zr=new Set;#ti=null;#ei=null;#ni=null;#ri=new o;#ii=!1;#si=!1;#ai=null;#oi=null;#li=r.AnnotationEditorType.NONE;#ci=new Set;#di=null;#hi=this.blur.bind(this);#ui=this.focus.bind(this);#pi=this.copy.bind(this);#fi=this.cut.bind(this);#mi=this.paste.bind(this);#gi=this.keydown.bind(this);#vi=this.onEditingAction.bind(this);#bi=this.onPageChanging.bind(this);#yi=this.onScaleChanging.bind(this);#_i=this.onRotationChanging.bind(this);#Ai={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#wi=[0,0];#xi=null;#p=null;#Ei=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=u.prototype,e=t=>t.#p.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new d([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&t.#p.contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:t=>t.#p.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,n,r,s,a,o){this.#p=t,this.#Ei=e,this.#$r=n,this._eventBus=r,this._eventBus._on("editingaction",this.#vi),this._eventBus._on("pagechanging",this.#bi),this._eventBus._on("scalechanging",this.#yi),this._eventBus._on("rotationchanging",this.#_i),this.#Xr=s.annotationStorage,this.#ti=s.filterFactory,this.#di=a,this.#ni=o||null,this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#Si(),this.#Ti(),this._eventBus._off("editingaction",this.#vi),this._eventBus._off("pagechanging",this.#bi),this._eventBus._off("scalechanging",this.#yi),this._eventBus._off("rotationchanging",this.#_i);for(const t of this.#Wr.values())t.destroy();this.#Wr.clear(),this.#Gr.clear(),this.#Zr.clear(),this.#Vr=null,this.#ci.clear(),this.#Kr.destroy(),this.#$r?.destroy(),this.#ei&&(clearTimeout(this.#ei),this.#ei=null),this.#xi&&(clearTimeout(this.#xi),this.#xi=null)}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",this.#di?this.#ti.addHCMFilter(this.#di.foreground,this.#di.background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(this.#p).direction)}get highlightColors(){return(0,r.shadow)(this,"highlightColors",this.#ni?new Map(this.#ni.split(",").map((t=>t.split("=").map((t=>t.trim()))))):null)}setMainHighlightColorPicker(t){this.#oi=t}editAltText(t){this.#$r?.editAltText(this,t)}onPageChanging(t){let{pageNumber:e}=t;this.#Yr=e-1}focusMainContainer(){this.#p.focus()}findParent(t,e){for(const n of this.#Wr.values()){const{x:r,y:i,width:s,height:a}=n.div.getBoundingClientRect();if(t>=r&&t<=r+s&&e>=i&&e<=i+a)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Ei.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#Zr.add(t)}removeShouldRescale(t){this.#Zr.delete(t)}onScaleChanging(t){let{scale:e}=t;this.commitOrRemove(),this.viewParameters.realScale=e*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(const t of this.#Zr)t.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}addToAnnotationStorage(t){t.isEmpty()||!this.#Xr||this.#Xr.has(t.id)||this.#Xr.setValue(t.id,t)}#Ci(){window.addEventListener("focus",this.#ui),window.addEventListener("blur",this.#hi)}#Ti(){window.removeEventListener("focus",this.#ui),window.removeEventListener("blur",this.#hi)}blur(){if(!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#ci)if(e.div.contains(t)){this.#ai=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#ai)return;const[t,e]=this.#ai;this.#ai=null,e.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0}),e.focus()}#ki(){window.addEventListener("keydown",this.#gi)}#Si(){window.removeEventListener("keydown",this.#gi)}#Mi(){document.addEventListener("copy",this.#pi),document.addEventListener("cut",this.#fi),document.addEventListener("paste",this.#mi)}#Ii(){document.removeEventListener("copy",this.#pi),document.removeEventListener("cut",this.#fi),document.removeEventListener("paste",this.#mi)}addEditListeners(){this.#ki(),this.#Mi()}removeEditListeners(){this.#Si(),this.#Ii()}copy(t){if(t.preventDefault(),this.#Vr?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const t of this.#ci){const n=t.serialize(!0);n&&e.push(n)}0!==e.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const t of e.items)for(const e of this.#An)if(e.isHandlingMimeForPasting(t.type))return void e.paste(t,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(t){return void(0,r.warn)(`paste: "${t.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const t=[];for(const e of n){const n=i.deserialize(e);if(!n)return;t.push(n)}const e=()=>{for(const e of t)this.#Ri(e);this.#Pi(t)},r=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:r,mustExec:!0})}catch(t){(0,r.warn)(`paste: "${t.message}".`)}}keydown(t){this.isEditorHandlingKeyboard||u._keyboardManager.exec(this,t)}onEditingAction(t){["undo","redo","delete","selectAll"].includes(t.name)&&this[t.name]()}#Di(t){Object.entries(t).some((t=>{let[e,n]=t;return this.#Ai[e]!==n}))&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Ai,t)})}#Li(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#Ci(),this.#ki(),this.#Mi(),this.#Di({isEditing:this.#li!==r.AnnotationEditorType.NONE,isEmpty:this.#Fi(),hasSomethingToUndo:this.#Kr.hasSomethingToUndo(),hasSomethingToRedo:this.#Kr.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Ti(),this.#Si(),this.#Ii(),this.#Di({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#An){this.#An=t;for(const t of this.#An)this.#Li(t.defaultPropertiesToUpdate)}}getId(){return this.#ri.getId()}get currentLayer(){return this.#Wr.get(this.#Yr)}getLayer(t){return this.#Wr.get(t)}get currentPageIndex(){return this.#Yr}addLayer(t){this.#Wr.set(t.pageIndex,t),this.#ii?t.enable():t.disable()}removeLayer(t){this.#Wr.delete(t.pageIndex)}updateMode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.#li!==t){if(this.#li=t,t===r.AnnotationEditorType.NONE)return this.setEditingState(!1),void this.#Oi();this.setEditingState(!0),this.#Bi(),this.unselectAll();for(const e of this.#Wr.values())e.updateMode(t);if(e||!n){if(e)for(const t of this.#Gr.values())if(t.annotationElementId===e){this.setSelected(t),t.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#li&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){if(this.#An){switch(t){case r.AnnotationEditorParamsType.CREATE:return void this.currentLayer.addNewEditor();case r.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:this.#oi?.updateColor(e)}for(const n of this.#ci)n.updateParams(t,e);for(const n of this.#An)n.updateDefaultParams(t,e)}}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#si!==t){this.#si=t;for(const e of this.#Wr.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}#Bi(){if(!this.#ii){this.#ii=!0;for(const t of this.#Wr.values())t.enable()}}#Oi(){if(this.unselectAll(),this.#ii){this.#ii=!1;for(const t of this.#Wr.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#Gr.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#Gr.get(t)}addEditor(t){this.#Gr.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#ei&&clearTimeout(this.#ei),this.#ei=setTimeout((()=>{this.focusMainContainer(),this.#ei=null}),0)),this.#Gr.delete(t.id),this.unselect(t),t.annotationElementId&&this.#Qr.has(t.annotationElementId)||this.#Xr?.remove(t.id)}addDeletedAnnotationElement(t){this.#Qr.add(t.annotationElementId),t.deleted=!0}isDeletedAnnotationElement(t){return this.#Qr.has(t)}removeDeletedAnnotationElement(t){this.#Qr.delete(t.annotationElementId),t.deleted=!1}#Ri(t){const e=this.#Wr.get(t.pageIndex);e?e.addOrRebuild(t):this.addEditor(t)}setActiveEditor(t){this.#Vr!==t&&(this.#Vr=t,t&&this.#Li(t.propertiesToUpdate))}toggleSelected(t){if(this.#ci.has(t))return this.#ci.delete(t),t.unselect(),void this.#Di({hasSelectedEditor:this.hasSelection});this.#ci.add(t),t.select(),this.#Li(t.propertiesToUpdate),this.#Di({hasSelectedEditor:!0})}setSelected(t){for(const e of this.#ci)e!==t&&e.unselect();this.#ci.clear(),this.#ci.add(t),t.select(),this.#Li(t.propertiesToUpdate),this.#Di({hasSelectedEditor:!0})}isSelected(t){return this.#ci.has(t)}get firstSelectedEditor(){return this.#ci.values().next().value}unselect(t){t.unselect(),this.#ci.delete(t),this.#Di({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#ci.size}get isEnterHandled(){return 1===this.#ci.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#Kr.undo(),this.#Di({hasSomethingToUndo:this.#Kr.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Fi()})}redo(){this.#Kr.redo(),this.#Di({hasSomethingToUndo:!0,hasSomethingToRedo:this.#Kr.hasSomethingToRedo(),isEmpty:this.#Fi()})}addCommands(t){this.#Kr.add(t),this.#Di({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Fi()})}#Fi(){if(0===this.#Gr.size)return!0;if(1===this.#Gr.size)for(const t of this.#Gr.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...this.#ci];this.addCommands({cmd:()=>{for(const e of t)e.remove()},undo:()=>{for(const e of t)this.#Ri(e)},mustExec:!0})}commitOrRemove(){this.#Vr?.commitOrRemove()}hasSomethingToControl(){return this.#Vr||this.hasSelection}#Pi(t){this.#ci.clear();for(const e of t)e.isEmpty()||(this.#ci.add(e),e.select());this.#Di({hasSelectedEditor:!0})}selectAll(){for(const t of this.#ci)t.commit();this.#Pi(this.#Gr.values())}unselectAll(){if((!this.#Vr||(this.#Vr.commitOrRemove(),this.#li===r.AnnotationEditorType.NONE))&&this.hasSelection){for(const t of this.#ci)t.unselect();this.#ci.clear(),this.#Di({hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#wi[0]+=t,this.#wi[1]+=e;const[n,r]=this.#wi,i=[...this.#ci];this.#xi&&clearTimeout(this.#xi),this.#xi=setTimeout((()=>{this.#xi=null,this.#wi[0]=this.#wi[1]=0,this.addCommands({cmd:()=>{for(const t of i)this.#Gr.has(t.id)&&t.translateInPage(n,r)},undo:()=>{for(const t of i)this.#Gr.has(t.id)&&t.translateInPage(-n,-r)},mustExec:!1})}),1e3);for(const n of i)n.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#Jr=new Map;for(const t of this.#ci)this.#Jr.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#Jr)return!1;this.disableUserSelect(!1);const t=this.#Jr;this.#Jr=null;let e=!1;for(const[{x:n,y:r,pageIndex:i},s]of t)s.newX=n,s.newY=r,s.newPageIndex=i,e||=n!==s.savedX||r!==s.savedY||i!==s.savedPageIndex;if(!e)return!1;const n=(t,e,n,r)=>{if(this.#Gr.has(t.id)){const i=this.#Wr.get(r);i?t._setParentAndPosition(i,e,n):(t.pageIndex=r,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:r,newY:i,newPageIndex:s}]of t)n(e,r,i,s)},undo:()=>{for(const[e,{savedX:r,savedY:i,savedPageIndex:s}]of t)n(e,r,i,s)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#Jr)for(const n of this.#Jr.keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#ci.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#Vr===t}getActive(){return this.#Vr}getMode(){return this.#li}get imageManager(){return(0,r.shadow)(this,"imageManager",new l)}}},5171:(t,e,n)=>{n.d(e,{PDFFetchStream:()=>l}),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583),n(4226);var r=n(3266),i=n(8253);function s(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function a(t){const e=new Headers;for(const n in t){const r=t[n];void 0!==r&&e.append(n,r)}return e}function o(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:((0,r.warn)(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class l{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new c(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new d(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class c{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=new r.PromiseCapability,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=a(this._stream.httpHeaders);const n=e.url;fetch(n,s(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:s,suggestedLength:a}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:o(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class d{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const o=t.source;this._withCredentials=o.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const l=o.url;fetch(l,s(this._headers,this._withCredentials,this._abortController)).then((t=>{if(!(0,i.validateResponseStatus)(t.status))throw(0,i.createResponseStatusError)(t.status,l);this._readCapability.resolve(),this._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:o(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}},3742:(t,e,n)=>{n.d(e,{FontFaceObject:()=>s,FontLoader:()=>i}),n(5561),n(8587),n(3247),n(3302),n(9490),n(5438),n(7914),n(4226),n(9709);var r=n(3266);class i{#Ni=new Set;constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#Ni.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,_inspectFont:n}=t;if(e&&!this.#Ni.has(e.loadedName))if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:i,style:s}=e,a=new FontFace(t,i,s);this.addNativeFontFace(a);try{await a.load(),this.#Ni.add(t),n?.(e)}catch{(0,r.warn)(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}}else(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw(0,r.warn)(`Failed to load font '${e.family}': '${n}'.`),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)}))}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(r.isNodeJS||"undefined"!=typeof navigator&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,r){return t.substring(0,e)+r+t.substring(e+n)}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const u=1482184792;let p=n(h,16);for(s=0,a=d.length-3;s<a;s+=4)p=p-u+n(d,s)|0;s<d.length&&(p=p-u+n(d+"XXX",s)|0),h=i(h,16,4,(0,r.string32)(p));const f=`@font-face {font-family:"${d}";src:url(data:font/opentype;base64,${btoa(h)});}`;this.insertRule(f);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const e of[t.loadedName,d]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=e,m.append(t)}this._document.body.append(m),function t(e,n){if(++c>30)return(0,r.warn)("Load test font never loaded."),void n();l.font="30px "+e,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(d,(()=>{m.remove(),e.complete()}))}}class s{constructor(t,e){let{isEvalSupported:n=!0,disableFontFace:r=!1,ignoreErrors:i=!1,inspectFont:s=null}=e;this.compiledGlyphs=Object.create(null);for(const e in t)this[e]=t[e];this.isEvalSupported=!1!==n,this.disableFontFace=!0===r,this.ignoreErrors=!0===i,this._inspectFont=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,r.bytesToString)(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let n;if(this.cssFontInfo){let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${e}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this._inspectFont?.(this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(t){if(!this.ignoreErrors)throw t;return(0,r.warn)(`getPathGenerator - ignoring character: "${t}".`),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const t=[];for(const e of n){const n=void 0!==e.args?e.args.join(","):"";t.push("c.",e.cmd,"(",n,");\n")}return this.compiledGlyphs[e]=new Function("c","size",t.join(""))}return this.compiledGlyphs[e]=function(t,e){for(const r of n)"scale"===r.cmd&&(r.args=[e,-e]),t[r.cmd].apply(t,r.args)}}}},3472:(t,e,n)=>{n.d(e,{Metadata:()=>i});var r=n(3266);class i{#qi;#Hi;constructor(t){let{parsedData:e,rawData:n}=t;this.#qi=e,this.#Hi=n}getRaw(){return this.#Hi}get(t){return this.#qi.get(t)??null}getAll(){return(0,r.objectFromMap)(this.#qi)}has(t){return this.#qi.has(t)}}},3474:(t,e,n)=>{n.d(e,{PDFNetworkStream:()=>a}),n(4226);var r=n(3266),i=n(8253);class s{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const r={begin:t,end:e};for(const t in n)r[t]=n[t];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const t in this.httpHeaders){const n=this.httpHeaders[t];void 0!==n&&e.setRequestHeader(t,n)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=206):r.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void n.onError?.(i.status);const s=i.status||200;if((200!==s||206!==n.expectedStatus)&&s!==n.expectedStatus)return void n.onError?.(i.status);const a=function(t){const e=t.response;return"string"!=typeof e?e:(0,r.stringToBytes)(e).buffer}(i);if(206===s){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError?.(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class a{constructor(t){this._source=t,this._manager=new s(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new l(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class o{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=t=>e.getResponseHeader(t),{allowRangeRequests:r,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,i.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=new r.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class l{constructor(t,e,n){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,i.createResponseStatusError)(t,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=new r.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},8253:(t,e,n)=>{n.d(e,{createResponseStatusError:()=>o,extractFilenameFromHeader:()=>a,validateRangeRequestCapabilities:()=>s,validateResponseStatus:()=>l});var r=n(3266);n(4226),n(9709);var i=n(473);function s(t){let{getResponseHeader:e,isHttp:n,rangeChunkSize:r,disableRange:i}=t;const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e("Content-Length"),10);return Number.isInteger(a)?(s.suggestedLength=a,a<=2*r||i||!n||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s}function a(t){const e=t("Content-Disposition");if(e){let t=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=o(n);return t=unescape(t),t=l(t),t=c(t),a(t)}if(n=function(t){const e=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(t));){let[,t,r,i]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[r,i]}const s=[];for(let t=0;t<e.length&&t in e;++t){let[n,r]=e[t];r=o(r),n&&(r=unescape(r),0===t&&(r=l(r))),s.push(r)}return s.join("")}(t),n)return a(c(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=o(n);return t=c(t),a(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function s(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),s=(0,r.stringToBytes)(n);n=i.decode(s),e=!1}catch{}}return n}function a(t){return e&&/[\x80-\xff]/.test(t)&&(t=s("utf-8",t),e&&(t=s("iso-8859-1",t))),t}function o(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function l(t){const e=t.indexOf("'");return-1===e?t:s(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function c(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,r){if("q"===n||"Q"===n)return s(e,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{r=atob(r)}catch{}return s(e,r)}))}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if((0,i.isPdfFile)(t))return t}return null}function o(t,e){return 404===t||0===t&&e.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+e+'".'):new r.UnexpectedResponseException(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function l(t){return 200===t||206===t}},3498:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{PDFNodeStream:()=>u}),n(4226),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583);var i=n(3266),s=n(8253);let a,o,l,c;i.isNodeJS&&(a=await import("fs"),o=await import("http"),l=await import("https"),c=await import("url"));const d=/^file:\/\/\/[a-zA-Z]:\//;function h(t){const e=c.parse(t);return"file:"===e.protocol||e.host?e:/^[a-z]:[/\\]/i.test(t)?c.parse(`file:///${t}`):(e.host||(e.protocol="file:"),e)}class u{constructor(t){this.source=t,this.url=h(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new g(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new y(this,t,e):new v(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class p{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class g extends p{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=o.request(m(this._url,t.httpHeaders),e):this._request=l.request(m(this._url,t.httpHeaders),e),this._request.on("error",(t=>{this._storedError=t,this._headersCapability.reject(t)})),this._request.end()}}class v extends f{constructor(t,e,n){super(t),this._httpHeaders={};for(const e in t.httpHeaders){const n=t.httpHeaders[e];void 0!==n&&(this._httpHeaders[e]=n)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const r=t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=t}};this._request=null,"http:"===this._url.protocol?this._request=o.request(m(this._url,this._httpHeaders),r):this._request=l.request(m(this._url,this._httpHeaders),r),this._request.on("error",(t=>{this._storedError=t})),this._request.end()}}class b extends p{constructor(t){super(t);let e=decodeURIComponent(this._url.path);d.test(this._url.href)&&(e=e.replace(/^\//,"")),a.lstat(e,((t,n)=>{if(t)return"ENOENT"===t.code&&(t=new i.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=n.size,this._setReadableStream(a.createReadStream(e)),this._headersCapability.resolve()}))}}class y extends f{constructor(t,e,n){super(t);let r=decodeURIComponent(this._url.path);d.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(a.createReadStream(r,{start:e,end:n-1}))}}r()}catch(_){r(_)}}),1)},7738:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{NodeCMapReaderFactory:()=>h,NodeCanvasFactory:()=>d,NodeFilterFactory:()=>c,NodeStandardFontDataFactory:()=>u}),n(3352),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583);var i=n(6822),s=n(3266);let t,a,o;if(s.isNodeJS){t=await import("fs");try{a=await import("canvas")}catch{}try{o=await import("path2d-polyfill")}catch{}}!function(){if(globalThis.DOMMatrix||!s.isNodeJS)return;const t=a?.DOMMatrix;t?globalThis.DOMMatrix=t:(0,s.warn)("Cannot polyfill `DOMMatrix`, rendering may be broken.")}(),function(){if(globalThis.Path2D||!s.isNodeJS)return;const t=a?.CanvasRenderingContext2D,e=o?.polyfillPath2D;t&&e?(globalThis.CanvasRenderingContext2D=t,e(globalThis)):(0,s.warn)("Cannot polyfill `Path2D`, rendering may be broken.")}();const l=function(e){return new Promise(((n,r)=>{t.readFile(e,((t,e)=>{!t&&e?n(new Uint8Array(e)):r(new Error(t))}))}))};class c extends i.BaseFilterFactory{}class d extends i.BaseCanvasFactory{_createCanvas(t,e){return a.createCanvas(t,e)}}class h extends i.BaseCMapReaderFactory{_fetchData(t,e){return l(t).then((t=>({cMapData:t,compressionType:e})))}}class u extends i.BaseStandardFontDataFactory{_fetchData(t){return l(t)}}r()}catch(t){r(t)}}),1)},3890:(t,e,n)=>{n.d(e,{OptionalContentConfig:()=>o});var r=n(3266),i=n(2825);const s=Symbol("INTERNAL");class a{#Ui=!0;constructor(t,e){this.name=t,this.intent=e}get visible(){return this.#Ui}_setVisible(t,e){t!==s&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#Ui=e}}class o{#zi=null;#ji=new Map;#Vi=null;#Gi=null;constructor(t){if(this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,this.#Gi=t.order;for(const e of t.groups)this.#ji.set(e.id,new a(e.name,e.intent));if("OFF"===t.baseState)for(const t of this.#ji.values())t._setVisible(s,!1);for(const e of t.on)this.#ji.get(e)._setVisible(s,!0);for(const e of t.off)this.#ji.get(e)._setVisible(s,!1);this.#Vi=this.getHash()}}#Wi(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let s;if(Array.isArray(e))s=this.#Wi(e);else{if(!this.#ji.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;s=this.#ji.get(e).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}isVisible(t){if(0===this.#ji.size)return!0;if(!t)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===t.type)return this.#ji.has(t.id)?this.#ji.get(t.id).visible:((0,r.warn)(`Optional content group not found: ${t.id}`),!0);if("OCMD"===t.type){if(t.expression)return this.#Wi(t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!this.#ji.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(this.#ji.get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!this.#ji.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(!this.#ji.get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!this.#ji.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(!this.#ji.get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!this.#ji.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(this.#ji.get(e).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${t.policy}.`),!0}return(0,r.warn)(`Unknown group type ${t.type}.`),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.#ji.has(t)?(this.#ji.get(t)._setVisible(s,!!e),this.#zi=null):(0,r.warn)(`Optional content group not found: ${t}`)}get hasInitialVisibility(){return null===this.#Vi||this.getHash()===this.#Vi}getOrder(){return this.#ji.size?this.#Gi?this.#Gi.slice():[...this.#ji.keys()]:null}getGroups(){return this.#ji.size>0?(0,r.objectFromMap)(this.#ji):null}getGroup(t){return this.#ji.get(t)||null}getHash(){if(null!==this.#zi)return this.#zi;const t=new i.MurmurHash3_64;for(const[e,n]of this.#ji)t.update(`${e}:${n.visible}`);return this.#zi=t.hexdigest()}}},5739:(t,e,n)=>{n.d(e,{renderTextLayer:()=>h,updateTextLayer:()=>u}),n(4226),n(3352);var r=n(3266),i=n(473);const s=30,a=new Map;function o(t,e){let n;if(e&&r.FeatureTest.isOffscreenCanvasSupported)n=new OffscreenCanvas(t,t).getContext("2d",{alpha:!1});else{const e=document.createElement("canvas");e.width=e.height=t,n=e.getContext("2d",{alpha:!1})}return n}function l(t,e,n){const i=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};t._textDivs.push(i);const c=r.Util.transform(t._transform,e.transform);let d=Math.atan2(c[1],c[0]);const h=n[e.fontName];h.vertical&&(d+=Math.PI/2);const u=t._fontInspectorEnabled&&h.fontSubstitution||h.fontFamily,p=Math.hypot(c[2],c[3]),f=p*function(t,e){const n=a.get(t);if(n)return n;const r=o(s,e);r.font=`30px ${t}`;const i=r.measureText("");let l=i.fontBoundingBoxAscent,c=Math.abs(i.fontBoundingBoxDescent);if(l){const e=l/(l+c);return a.set(t,e),r.canvas.width=r.canvas.height=0,e}r.strokeStyle="red",r.clearRect(0,0,s,s),r.strokeText("g",0,0);let d=r.getImageData(0,0,s,s).data;c=0;for(let t=d.length-1-3;t>=0;t-=4)if(d[t]>0){c=Math.ceil(t/4/s);break}r.clearRect(0,0,s,s),r.strokeText("A",0,s),d=r.getImageData(0,0,s,s).data,l=0;for(let t=0,e=d.length;t<e;t+=4)if(d[t]>0){l=s-Math.floor(t/4/s);break}if(r.canvas.width=r.canvas.height=0,l){const e=l/(l+c);return a.set(t,e),e}return a.set(t,.8),.8}(u,t._isOffscreenCanvasSupported);let m,g;0===d?(m=c[4],g=c[5]-f):(m=c[4]+f*Math.sin(d),g=c[5]-f*Math.cos(d));const v="calc(var(--scale-factor)*",b=i.style;t._container===t._rootContainer?(b.left=`${(100*m/t._pageWidth).toFixed(2)}%`,b.top=`${(100*g/t._pageHeight).toFixed(2)}%`):(b.left=`${v}${m.toFixed(2)}px)`,b.top=`${v}${g.toFixed(2)}px)`),b.fontSize=`${v}${p.toFixed(2)}px)`,b.fontFamily=u,l.fontSize=p,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,t._fontInspectorEnabled&&(i.dataset.fontName=h.fontSubstitutionLoadedName||e.fontName),0!==d&&(l.angle=d*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(y=!0)}y&&(l.canvasWidth=h.vertical?e.height:e.width),t._textDivProperties.set(i,l),t._isReadableStream&&t._layoutText(i)}function c(t){const{div:e,scale:n,properties:r,ctx:i,prevFontSize:s,prevFontFamily:a}=t,{style:o}=e;let l="";if(0!==r.canvasWidth&&r.hasText){const{fontFamily:c}=o,{canvasWidth:d,fontSize:h}=r;s===h&&a===c||(i.font=`${h*n}px ${c}`,t.prevFontSize=h,t.prevFontFamily=c);const{width:u}=i.measureText(e.textContent);u>0&&(l=`scaleX(${d*n/u})`)}0!==r.angle&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(o.transform=l)}class d{constructor(t){let{textContentSource:e,container:n,viewport:s,textDivs:a,textDivProperties:l,textContentItemsStr:c,isOffscreenCanvasSupported:d}=t;this._textContentSource=e,this._isReadableStream=e instanceof ReadableStream,this._container=this._rootContainer=n,this._textDivs=a||[],this._textContentItemsStr=c||[],this._isOffscreenCanvasSupported=d,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=l||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:s.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:o(0,d)};const{pageWidth:h,pageHeight:u,pageX:p,pageY:f}=s.rawDims;this._transform=[1,0,0,-1,-p,f+u],this._pageWidth=h,this._pageHeight=u,(0,i.setLayerDimensions)(n,s),this._capability.promise.finally((()=>{this._layoutTextParams=null})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(t,e){for(const n of t)if(void 0!==n.str)this._textContentItemsStr.push(n.str),l(this,n,e);else if("beginMarkedContentProps"===n.type||"beginMarkedContent"===n.type){const t=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==n.id&&this._container.setAttribute("id",`${n.id}`),t.append(this._container)}else"endMarkedContent"===n.type&&(this._container=this._container.parentNode)}_layoutText(t){const e=this._layoutTextParams.properties=this._textDivProperties.get(t);if(this._layoutTextParams.div=t,c(this._layoutTextParams),e.hasText&&this._container.append(t),e.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.append(t)}}_render(){const t=new r.PromiseCapability;let e=Object.create(null);if(this._isReadableStream){const n=()=>{this._reader.read().then((r=>{let{value:i,done:s}=r;s?t.resolve():(Object.assign(e,i.styles),this._processItems(i.items,e),n())}),t.reject)};this._reader=this._textContentSource.getReader(),n()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:e,styles:n}=this._textContentSource;this._processItems(e,n),t.resolve()}}t.promise.then((()=>{e=null,function(t){if(t._canceled)return;const e=t._textDivs,n=t._capability;if(e.length>1e5)n.resolve();else{if(!t._isReadableStream)for(const n of e)t._layoutText(n);n.resolve()}}(this)}),this._capability.reject)}}function h(t){const e=new d(t);return e._render(),e}function u(t){let{container:e,viewport:n,textDivs:r,textDivProperties:s,isOffscreenCanvasSupported:a,mustRotate:l=!0,mustRescale:d=!0}=t;if(l&&(0,i.setLayerDimensions)(e,{rotation:n.rotation}),d){const t=o(0,a),e={prevFontSize:null,prevFontFamily:null,div:null,scale:n.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:t};for(const t of r)e.properties=s.get(t),e.div=t,c(e)}}},4092:(t,e,n)=>{n.d(e,{PDFDataTransportStream:()=>s}),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583),n(4226),n(7121),n(8518);var r=n(3266),i=n(473);class s{constructor(t,e){let{length:n,initialData:i,progressiveDone:s=!1,contentDispositionFilename:a=null,disableRange:o=!1,disableStream:l=!1}=t;if((0,r.assert)(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,i?.length>0){const t=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!l,this._isRangeSupported=!o,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),this._pdfDataRangeTransport.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),this._pdfDataRangeTransport.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const t=this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(i),!0)}));(0,r.assert)(t,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){void 0===t.total?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new a(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new o(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class a{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=new r.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class o{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=new r.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},1368:(t,e,n)=>{n.d(e,{GlobalWorkerOptions:()=>r});const r=Object.create(null);r.workerPort=null,r.workerSrc=""},8266:(t,e,n)=>{n.d(e,{XfaLayer:()=>i}),n(4226);var r=n(1521);class i{static setupStorage(t,e,n,r,i){const s=r.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(t.textContent=s.value),"print"===i)break;t.addEventListener("input",(t=>{r.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?t.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",(t=>{r.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&t.setAttribute("value",s.value),"print"===i)break;t.addEventListener("input",(t=>{r.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==s.value){t.setAttribute("value",s.value);for(const t of n.children)t.attributes.value===s.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",(t=>{const n=t.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(e,{value:i})}))}}static setAttributes(t){let{html:e,element:n,storage:r=null,intent:i,linkService:s}=t;const{attributes:a}=n,o=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${i}`);for(const[t,n]of Object.entries(a))if(null!=n)switch(t){case"class":n.length&&e.setAttribute(t,n.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",n);break;case"style":Object.assign(e.style,n);break;case"textContent":e.textContent=n;break;default:(!o||"href"!==t&&"newWindow"!==t)&&e.setAttribute(t,n)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,s=t.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o="richText"!==s,l=t.div;if(l.append(a),t.viewport){const e=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=e}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(0===i.children.length){if(i.value){const t=document.createTextNode(i.value);a.append(t),o&&r.XfaText.shouldBuildText(i.name)&&c.push(t)}return{textDivs:c}}const d=[[i,-1,a]];for(;d.length>0;){const[t,i,a]=d.at(-1);if(i+1===t.children.length){d.pop();continue}const l=t.children[++d.at(-1)[1]];if(null===l)continue;const{name:h}=l;if("#text"===h){const t=document.createTextNode(l.value);c.push(t),a.append(t);continue}const u=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,h):document.createElement(h);if(a.append(u),l.attributes&&this.setAttributes({html:u,element:l,storage:e,intent:s,linkService:n}),l.children?.length>0)d.push([l,-1,u]);else if(l.value){const t=document.createTextNode(l.value);o&&r.XfaText.shouldBuildText(h)&&c.push(t),u.append(t)}}for(const t of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))t.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}},1521:(t,e,n)=>{n.d(e,{XfaText:()=>r}),n(4226);class r{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){if(!n)return;let i=null;const s=n.name;if("#text"===s)i=n.value;else{if(!r.shouldBuildText(s))return;n?.attributes?.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&e.push({str:i}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}},9907:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{AbortException:()=>i.AbortException,AnnotationEditorLayer:()=>l.AnnotationEditorLayer,AnnotationEditorParamsType:()=>i.AnnotationEditorParamsType,AnnotationEditorType:()=>i.AnnotationEditorType,AnnotationEditorUIManager:()=>c.AnnotationEditorUIManager,AnnotationLayer:()=>d.AnnotationLayer,AnnotationMode:()=>i.AnnotationMode,CMapCompressionType:()=>i.CMapCompressionType,ColorPicker:()=>h.ColorPicker,DOMSVGFactory:()=>a.DOMSVGFactory,DrawLayer:()=>u.DrawLayer,FeatureTest:()=>i.FeatureTest,GlobalWorkerOptions:()=>p.GlobalWorkerOptions,ImageKind:()=>i.ImageKind,InvalidPDFException:()=>i.InvalidPDFException,MissingPDFException:()=>i.MissingPDFException,OPS:()=>i.OPS,Outliner:()=>f.Outliner,PDFDataRangeTransport:()=>s.PDFDataRangeTransport,PDFDateString:()=>a.PDFDateString,PDFWorker:()=>s.PDFWorker,PasswordResponses:()=>i.PasswordResponses,PermissionFlag:()=>i.PermissionFlag,PixelsPerInch:()=>a.PixelsPerInch,PromiseCapability:()=>i.PromiseCapability,RenderingCancelledException:()=>a.RenderingCancelledException,UnexpectedResponseException:()=>i.UnexpectedResponseException,Util:()=>i.Util,VerbosityLevel:()=>i.VerbosityLevel,XfaLayer:()=>m.XfaLayer,build:()=>s.build,createValidAbsoluteUrl:()=>i.createValidAbsoluteUrl,fetchData:()=>a.fetchData,getDocument:()=>s.getDocument,getFilenameFromUrl:()=>a.getFilenameFromUrl,getPdfFilenameFromUrl:()=>a.getPdfFilenameFromUrl,getXfaPageViewport:()=>a.getXfaPageViewport,isDataScheme:()=>a.isDataScheme,isPdfFile:()=>a.isPdfFile,noContextMenu:()=>a.noContextMenu,normalizeUnicode:()=>i.normalizeUnicode,renderTextLayer:()=>o.renderTextLayer,setLayerDimensions:()=>a.setLayerDimensions,shadow:()=>i.shadow,updateTextLayer:()=>o.updateTextLayer,version:()=>s.version});var i=n(3266),s=n(9406),a=n(473),o=n(5739),l=n(4629),c=n(4812),d=n(7640),h=n(5097),u=n(9423),p=n(1368),f=n(7405),m=n(8266),g=t([s]);s=(g.then?(await g)():g)[0],r()}catch(t){r(t)}}))},6694:(t,e,n)=>{n.d(e,{MessageHandler:()=>s}),n(3352);var r=n(3266);function i(t){switch(t instanceof Error||"object"==typeof t&&null!==t||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new r.AbortException(t.message);case"MissingPDFException":return new r.MissingPDFException(t.message);case"PasswordException":return new r.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new r.UnknownErrorException(t.message,t.details);default:return new r.UnknownErrorException(t.message,t.toString())}}class s{constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this.#$i(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],1===e.callback)n.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");n.reject(i(e.reason))}return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const t=this.sourceName,s=e.sourceName;new Promise((function(t){t(r(e.data))})).then((function(r){n.postMessage({sourceName:t,targetName:s,callback:1,callbackId:e.callbackId,data:r})}),(function(r){n.postMessage({sourceName:t,targetName:s,callback:2,callbackId:e.callbackId,reason:i(r)})}))}else e.streamId?this.#Xi(e):r(e.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,s=new r.PromiseCapability;this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(t){s.reject(t)}return s.promise}sendWithStream(t,e,n,s){const a=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const i=new r.PromiseCapability;return this.streamControllers[a]={controller:n,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:t,streamId:a,data:e,desiredSize:n.desiredSize},s),i.promise},pull:t=>{const e=new r.PromiseCapability;return this.streamControllers[a].pullCall=e,c.postMessage({sourceName:o,targetName:l,stream:6,streamId:a,desiredSize:t.desiredSize}),e.promise},cancel:t=>{(0,r.assert)(t instanceof Error,"cancel must have a valid reason");const e=new r.PromiseCapability;return this.streamControllers[a].cancelCall=e,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:1,streamId:a,reason:i(t)}),e.promise}},n)}#Xi(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,o=this,l=this.actionHandler[t.action],c={enqueue(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=i,l>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:s,stream:4,streamId:e,chunk:t},o)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:3,streamId:e}),delete o.streamSinks[e])},error(t){(0,r.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:s,stream:5,streamId:e,reason:i(t)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,new Promise((function(e){e(l(t.data,c))})).then((function(){a.postMessage({sourceName:n,targetName:s,stream:8,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:s,stream:8,streamId:e,reason:i(t)})}))}#$i(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,a=this.comObj,o=this.streamControllers[e],l=this.streamSinks[e];switch(t.stream){case 8:t.success?o.startCall.resolve():o.startCall.reject(i(t.reason));break;case 7:t.success?o.pullCall.resolve():o.pullCall.reject(i(t.reason));break;case 6:if(!l){a.postMessage({sourceName:n,targetName:s,stream:7,streamId:e,success:!0});break}l.desiredSize<=0&&t.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=t.desiredSize,new Promise((function(t){t(l.onPull?.())})).then((function(){a.postMessage({sourceName:n,targetName:s,stream:7,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:s,stream:7,streamId:e,reason:i(t)})}));break;case 4:if((0,r.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case 3:if((0,r.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#Ki(o,e);break;case 5:(0,r.assert)(o,"error should have stream controller"),o.controller.error(i(t.reason)),this.#Ki(o,e);break;case 2:t.success?o.cancelCall.resolve():o.cancelCall.reject(i(t.reason)),this.#Ki(o,e);break;case 1:if(!l)break;new Promise((function(e){e(l.onCancel?.(i(t.reason)))})).then((function(){a.postMessage({sourceName:n,targetName:s,stream:2,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:s,stream:2,streamId:e,reason:i(t)})})),l.sinkCapability.reject(i(t.reason)),l.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#Ki(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},2825:(t,e,n)=>{n.d(e,{MurmurHash3_64:()=>o}),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583),n(3352);var r=n(3266);const i=3285377520,s=4294901760,a=65535;class o{constructor(t){this.h1=t?4294967295&t:i,this.h2=t?4294967295&t:i}update(t){let e,n;if("string"==typeof t){e=new Uint8Array(2*t.length),n=0;for(let r=0,i=t.length;r<i;r++){const i=t.charCodeAt(r);i<=255?e[n++]=i:(e[n++]=i>>>8,e[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(t))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");e=t.slice(),n=e.byteLength}const i=n>>2,o=n-4*i,l=new Uint32Array(e.buffer,0,i);let c=0,d=0,h=this.h1,u=this.h2;const p=3432918353,f=461845907,m=11601,g=13715;for(let t=0;t<i;t++)1&t?(c=l[t],c=c*p&s|c*m&a,c=c<<15|c>>>17,c=c*f&s|c*g&a,h^=c,h=h<<13|h>>>19,h=5*h+3864292196):(d=l[t],d=d*p&s|d*m&a,d=d<<15|d>>>17,d=d*f&s|d*g&a,u^=d,u=u<<13|u>>>19,u=5*u+3864292196);switch(c=0,o){case 3:c^=e[4*i+2]<<16;case 2:c^=e[4*i+1]<<8;case 1:c^=e[4*i],c=c*p&s|c*m&a,c=c<<15|c>>>17,c=c*f&s|c*g&a,1&i?h^=c:u^=c}this.h1=h,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&s|36045*t&a,e=4283543511*e&s|(2950163797*(e<<16|t>>>16)&s)>>>16,t^=e>>>1,t=444984403*t&s|60499*t&a,e=3301882366*e&s|(3120437893*(e<<16|t>>>16)&s)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}},3266:(t,e,n)=>{n.d(e,{AbortException:()=>N,AnnotationBorderStyleType:()=>v,AnnotationEditorParamsType:()=>u,AnnotationEditorPrefix:()=>d,AnnotationEditorType:()=>h,AnnotationMode:()=>c,AnnotationPrefix:()=>J,AnnotationType:()=>g,BaseException:()=>R,CMapCompressionType:()=>y,FONT_IDENTITY_MATRIX:()=>s,FeatureTest:()=>j,FormatError:()=>B,IDENTITY_MATRIX:()=>i,ImageKind:()=>m,InvalidPDFException:()=>L,LINE_FACTOR:()=>o,MAX_IMAGE_SIZE_TO_CACHE:()=>a,MissingPDFException:()=>F,OPS:()=>_,PasswordException:()=>P,PasswordResponses:()=>A,PermissionFlag:()=>p,PromiseCapability:()=>$,RenderingIntentFlag:()=>l,TextRenderingMode:()=>f,UnexpectedResponseException:()=>O,UnknownErrorException:()=>D,Util:()=>G,VerbosityLevel:()=>b,assert:()=>k,bytesToString:()=>q,createValidAbsoluteUrl:()=>M,getUuid:()=>Q,getVerbosityLevel:()=>E,info:()=>S,isArrayBuffer:()=>W,isNodeJS:()=>r,normalizeUnicode:()=>Y,objectFromMap:()=>z,setVerbosityLevel:()=>x,shadow:()=>I,string32:()=>U,stringToBytes:()=>H,unreachable:()=>C,warn:()=>T}),n(3352),n(3655),n(2555),n(2202),n(4226),n(8837),n(9803),n(8347),n(7995),n(62),n(4602),n(344),n(4305),n(7583),n(7944);const r=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),i=[1,0,0,1,0,0],s=[.001,0,0,.001,0,0],a=1e7,o=1.35,l={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},c={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},d="pdfjs_internal_editor_",h={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},u={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32},p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},f={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},m={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},g={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},v={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},b={ERRORS:0,WARNINGS:1,INFOS:5},y={NONE:0,BINARY:1},_={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},A={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let w=b.WARNINGS;function x(t){Number.isInteger(t)&&(w=t)}function E(){return w}function S(t){w>=b.INFOS&&console.log(`Info: ${t}`)}function T(t){w>=b.WARNINGS&&console.log(`Warning: ${t}`)}function C(t){throw new Error(t)}function k(t,e){t||C(e)}function M(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(n&&"string"==typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e?.length>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch{}}const r=e?new URL(t,e):new URL(t);if(function(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch{}return null}function I(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const R=function(){function t(e,n){this.constructor===t&&C("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class P extends R{constructor(t,e){super(t,"PasswordException"),this.code=e}}class D extends R{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class L extends R{constructor(t){super(t,"InvalidPDFException")}}class F extends R{constructor(t){super(t,"MissingPDFException")}}class O extends R{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class B extends R{constructor(t){super(t,"FormatError")}}class N extends R{constructor(t){super(t,"AbortException")}}function q(t){"object"==typeof t&&void 0!==t?.length||C("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function H(t){"string"!=typeof t&&C("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function U(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function z(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}class j{static get isLittleEndian(){return I(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return I(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return I(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get platform(){return"undefined"!=typeof navigator&&"string"==typeof navigator?.platform?I(this,"platform",{isMac:navigator.platform.includes("Mac")}):I(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return I(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const V=[...Array(256).keys()].map((t=>t.toString(16).padStart(2,"0")));class G{static makeHexColor(t,e,n){return`#${V[t]}${V[e]}${V[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[0],e[1]*=t[0],t[3]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[2],e[2]=n,n=e[1],e[1]=e[3],e[3]=n,t[1]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[2],e[1]*=t[2]),e[0]+=t[4],e[1]+=t[4],e[2]+=t[5],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),i=this.applyTransform([t[0],t[3]],e),s=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],i[0],s[0]),Math.min(n[1],r[1],i[1],s[1]),Math.max(n[0],r[0],i[0],s[0]),Math.max(n[1],r[1],i[1],s[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],s=t[2]*e[1]+t[3]*e[3],a=(n+s)/2,o=Math.sqrt((n+s)**2-4*(n*s-i*r))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),s=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>s?null:[n,i,r,s]}static bezierBoundingBox(t,e,n,r,i,s,a,o){const l=[],c=[[],[]];let d,h,u,p,f,m,g,v;for(let c=0;c<2;++c)if(0===c?(h=6*t-12*n+6*i,d=-3*t+9*n-9*i+3*a,u=3*n-3*t):(h=6*e-12*r+6*s,d=-3*e+9*r-9*s+3*o,u=3*r-3*e),Math.abs(d)<1e-12){if(Math.abs(h)<1e-12)continue;p=-u/h,0<p&&p<1&&l.push(p)}else g=h*h-4*u*d,v=Math.sqrt(g),g<0||(f=(-h+v)/(2*d),0<f&&f<1&&l.push(f),m=(-h-v)/(2*d),0<m&&m<1&&l.push(m));let b,y=l.length;const _=y;for(;y--;)p=l[y],b=1-p,c[0][y]=b*b*b*t+3*b*b*p*n+3*b*p*p*i+p*p*p*a,c[1][y]=b*b*b*e+3*b*b*p*r+3*b*p*p*s+p*p*p*o;return c[0][_]=t,c[1][_]=e,c[0][_+1]=a,c[1][_+1]=o,c[0].length=c[1].length=_+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}function W(t){return"object"==typeof t&&void 0!==t?.byteLength}class ${#Yi=!1;constructor(){this.promise=new Promise(((t,e)=>{this.resolve=e=>{this.#Yi=!0,t(e)},this.reject=t=>{this.#Yi=!0,e(t)}}))}get settled(){return this.#Yi}}let X=null,K=null;function Y(t){return X||(X=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,K=new Map([["","t"]])),t.replaceAll(X,((t,e,n)=>e?e.normalize("NFKC"):K.get(n)))}function Q(){if("undefined"!=typeof crypto&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const t=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(255*Math.random());return q(t)}const J="pdfjs_internal_id_"}},r={};function c(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}};return n[t].call(i.exports,i,i.exports,c),i.exports}s="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",a="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",l=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},c.a=(t,e,n)=>{var r;n&&((r=[]).d=-1);var i,c,d,h=new Set,u=t.exports,p=new Promise(((t,e)=>{d=e,c=t}));p[a]=u,p[s]=t=>(r&&t(r),h.forEach(t),p.catch((t=>{}))),t.exports=p,e((t=>{var e;i=(t=>t.map((t=>{if(null!==t&&"object"==typeof t){if(t[s])return t;if(t.then){var e=[];e.d=0,t.then((t=>{n[a]=t,l(e)}),(t=>{n[o]=t,l(e)}));var n={};return n[s]=t=>t(e),n}}var r={};return r[s]=t=>{},r[a]=t,r})))(t);var n=()=>i.map((t=>{if(t[o])throw t[o];return t[a]})),c=new Promise((t=>{(e=()=>t(n)).r=0;var a=t=>t!==r&&!h.has(t)&&(h.add(t),t&&!t.d&&(e.r++,t.push(e)));i.map((t=>t[s](a)))}));return e.r?c:n()}),(t=>(t?d(p[o]=t):c(u),l(r)))),r&&r.d<0&&(r.d=0)},c.d=(t,e)=>{for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i=c(9907);(i=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=i)).AbortException,i.AnnotationEditorLayer,i.AnnotationEditorParamsType,i.AnnotationEditorType,i.AnnotationEditorUIManager,i.AnnotationLayer,i.AnnotationMode,i.CMapCompressionType,i.ColorPicker,i.DOMSVGFactory,i.DrawLayer,i.FeatureTest,i.GlobalWorkerOptions,i.ImageKind,i.InvalidPDFException,i.MissingPDFException,i.OPS,i.Outliner,i.PDFDataRangeTransport,i.PDFDateString,i.PDFWorker,i.PasswordResponses,i.PermissionFlag,i.PixelsPerInch,i.PromiseCapability,i.RenderingCancelledException,i.UnexpectedResponseException,i.Util,i.VerbosityLevel,i.XfaLayer,i.build,i.createValidAbsoluteUrl,i.fetchData,i.getDocument,i.getFilenameFromUrl,i.getPdfFilenameFromUrl,i.getXfaPageViewport,i.isDataScheme,i.isPdfFile,i.noContextMenu,i.normalizeUnicode,i.renderTextLayer,i.setLayerDimensions,i.shadow,i.updateTextLayer,i.version,e()}catch(d){e(d)}var s,a,o,l}),1)}},s={};function a(t){var e=s[t];if(void 0!==e)return e.exports;var n=s[t]={id:t,loaded:!1,exports:{}};return i[t].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.amdD=function(){throw new Error("define cannot be used indirect")},a.amdO={},t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a.a=(i,s,a)=>{var o;a&&((o=[]).d=-1);var l,c,d,h=new Set,u=i.exports,p=new Promise(((t,e)=>{d=e,c=t}));p[e]=u,p[t]=t=>(o&&t(o),h.forEach(t),p.catch((t=>{}))),i.exports=p,s((i=>{var s;l=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[t])return i;if(i.then){var s=[];s.d=0,i.then((t=>{a[e]=t,r(s)}),(t=>{a[n]=t,r(s)}));var a={};return a[t]=t=>t(s),a}}var o={};return o[t]=t=>{},o[e]=i,o})))(i);var a=()=>l.map((t=>{if(t[n])throw t[n];return t[e]})),c=new Promise((e=>{(s=()=>e(a)).r=0;var n=t=>t!==o&&!h.has(t)&&(h.add(t),t&&!t.d&&(s.r++,t.push(s)));l.map((e=>e[t](n)))}));return s.r?c:a()}),(t=>(t?d(p[n]=t):c(u),r(o)))),o&&o.d<0&&(o.d=0)},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var o=a(6975),l=(o=await o).LT;export{l as LT};