var e={7738:(e,n,t)=>{t.r(n),t.d(n,{activity:()=>a,activityId:()=>r,activitySubTitle:()=>l,activityTags:()=>f,activityTemplateId:()=>c,activityTitle:()=>u,adaptiveType:()=>p,annotationsConfig:()=>d,autoSaveConfig:()=>g,elapsedTime:()=>m,hasActivityTemplate:()=>v,hasAnnotations:()=>h,hasAnswerMasking:()=>y,hasAutoSave:()=>b,hasEvents:()=>I,hasItemPool:()=>A,hasLineReader:()=>w,hasResourceItems:()=>k,hasSections:()=>S,hasShuffledItems:()=>_,hasTryAgain:()=>q,isAdaptive:()=>P,isResuming:()=>R,itemBank:()=>T,itemPool:()=>x,maxTime:()=>O,region:()=>B,resourceItems:()=>E,sessionId:()=>C,state:()=>L,timeRemaining:()=>F,totalItems:()=>M,userId:()=>W});var i=t(2844),o=t(8511),s=t(7484);function a(){return i.appInstance().getActivity()}function r(){return a().activity_id}function c(){return a().activity_template_id}function u(){return a().config.title}function l(){return a().config.subtitle}function f(){return i.appInstance().getTags()}function p(){return P()&&a().adaptive.hasOwnProperty("type")?a().adaptive.type:""}function d(){return h()&&a()?.config?.annotations_api_init_options?a().config.annotations_api_init_options:{}}function g(){const e=a();return e?.config?.navigation?.auto_save?e.config.navigation.auto_save:{}}function m(){return i.appInstance().getTime()}function v(){return a().hasOwnProperty("activity_template_id")}function h(){const e=a();return Boolean(!0===e?.config?.annotations||e?.config?.annotations_api_init_options)}function y(){return!!document.querySelector(".test-answer-masking")}function b(){const e=a();return e.hasOwnProperty("config")&&e.config.hasOwnProperty("navigation")&&e.config.navigation.hasOwnProperty("auto_save")&&!1!==e.config.navigation.auto_save}function _(){return Boolean(a()?.config?.configuration?.shuffle_items)}function I(){const e=a();return e.hasOwnProperty("events")&&!1!==e.events}function A(){return a().hasOwnProperty("item_pool_id")}function w(){return!!document.querySelector(".lrn_linereader-toggle")}function k(){return Boolean(a()?.config?.navigation?.resource_items)}function S(){return a().hasOwnProperty("sections")}function q(){return a()?.dynamic_items.hasOwnProperty("try_again")}function P(){return a().hasOwnProperty("adaptive")}function R(){return a().existing_session}function T(){return a()?.organisation_id}function x(){return a()?.item_pool_id}function O(){return a()?.config?.time?.max_time?a().config.time.max_time:0}function B(){return a()?.config?.regions}function E(){return a()?.config?.navigation?.resource_items}function C(){return a()?.session_id}function L(){let e;return e=void 0===a()?.state?"initial":a().state,e}function F(){return 0===O()?null:O()-m()}function M(){if(S()){let e=0,n=o.sections();for(let t=0;t<n.length;t++)e+=n[t].items.length;return e}return P()?a().hasOwnProperty("items")?a().items.length:(s.A.info("This is an adaptive session, no items array found"),0):a().items.length}function W(){return a()?.user_id}},2844:(e,n,t)=>{t.r(n),t.d(n,{annotationsApp:()=>c,appInstance:()=>r,assessApp:()=>u,eventsApp:()=>l,init:()=>a,questionsApp:()=>f});var i=t(1634),o=t(7066);const s={};function a(e){s.app=e,s.app.on("all",(e=>{(0,i.handleEvent)(e)})),s.app.on("item:load",(e=>{(0,o.questionResponseIds)().forEach((e=>{s.app.question(e).on("changed",(e=>{(0,i.handleEvent)("changed")}))}))}))}function r(){return s.app}function c(){return void 0!==r().annotationsApp()?r().annotationsApp():null}function u(){return r().assessApp()}function l(){return r().eventsApp()}function f(){return r().questionsApp()}},1634:(e,n,t)=>{t.r(n),t.d(n,{diagnostics:()=>c,filterEvent:()=>u,handleEvent:()=>l,listen:()=>f});var i=t(2844),o=t(7738),s=t(7484);const a="2.15.0",r={events:{broadcast:!1,listenFor:"item"}};function c(){let e=window.LearnosityApp?LearnosityApp.versions:{};return{apps:{annotations:{app:i.annotationsApp(),config:o.annotationsConfig(),enabled:o.hasAnnotations()},assess:{app:i.assessApp()},events:{app:i.eventsApp(),enabled:o.hasEvents()},items:{app:i.appInstance(),metadata:o.activity().config.metadata},questions:{app:i.questionsApp()}},activity:{activity:o.activityId(),activityTemplate:o.activityTemplateId(),autoSave:{config:o.autoSaveConfig(),enabled:o.hasAutoSave()},itemBank:o.itemBank(),itemPool:o.itemPool(),session:o.sessionId(),state:o.state(),type:o.activity().type,user:o.userId()},LT:{version:a},versions:e}}function u(e){/^[a-zA-Z:*]*$/.test(e)?r.events.listenFor=e:s.A.warn("Invalid event type")}function l(e){if(r.events.broadcast){const n=r.events.listenFor,t=n.replaceAll("*","");1===n.length&&"*"===n||"all"===n?s.A.info(e):n.startsWith("*")&&!n.endsWith("*")?e.endsWith(t)&&s.A.info(e):n.endsWith("*")&&!n.startsWith("*")?e.startsWith(t)&&s.A.info(e):n.startsWith("*")&&n.endsWith("*")?e.includes(t)&&s.A.info(e):e.startsWith(t)&&s.A.info(e)}}function f(e=!0){r.events.broadcast=Boolean(e),Boolean(e)?s.A.info(`ðŸ‘‚ listening for '${r.events.listenFor}'`):s.A.info("ðŸš«ðŸ‘‚ not listening")}},3191:(e,n,t)=>{t.r(n),t.d(n,{dynamic:()=>r,flag:()=>c,isDynamicItem:()=>u,isFirstItem:()=>l,isFlagged:()=>p,isItemFullyAttempted:()=>d,isLastItem:()=>f,isMaskingEnabled:()=>g,item:()=>m,itemAttemptStatus:()=>v,itemByResponseId:()=>h,itemElement:()=>y,itemPosition:()=>b,itemReference:()=>_,itemTags:()=>I});var i=t(2844),o=t(7738),s=t(7066),a=t(8511);function r(){const e=_();return i.assessApp().item(e).dynamic||{}}function c(){const e=_();i.assessApp().item(e).flag()}function u(){return m()?.source.hasOwnProperty("data_table_seed")}function l(){let e;return o.hasSections()?(e="object"==typeof a.sections()[0].items[0]?a.sections()[0].items[0].reference:a.sections()[0].items[0],e===m().reference):(e="object"==typeof o.activity().items[0]?o.activity().items[0].reference:o.activity().items[0],e===m().reference)}function f(){return m().is_last_item}function p(){return m().user_flagged}function d(e){let n,t,o;if(n=e?i.appInstance().getItems()[e].questions:s.questions(),Array.isArray(n)&&n.length)for(let e=0;e<n.length;e++){let i=n[e];if(o=s.questionResponse(i.response_id),!o)return!1;if(i.hasOwnProperty("metadata")&&i.metadata.hasOwnProperty("valid_response_count")&&Array.isArray(o.value)){if(o.value.filter((e=>void 0===e)).length)return!1;if(o.value.filter((e=>null===e)).length)return!1}t=!0}else t=!0;return t}function g(){return Boolean(document.querySelector(".lrn-masking"))}function m(e){return e?i.appInstance().getItems()[e]:i.appInstance().getCurrentItem()}function v(){return i.appInstance().getCurrentItem().attempt_status}function h(e){const n=i.appInstance().getItems();let t;for(const i in n)if(n[i].response_ids.includes(e)){t=n[i];break}return t}function y(){return document.querySelector(`div[data-reference='${_()}']`)}function b(){return i.appInstance().assessApp().getItemPosition(_())+1}function _(){return i.appInstance().getCurrentItem().reference}function I(e){return i.appInstance().getTags()[e||_()]||[]}},1570:(e,n,t)=>{t.r(n),t.d(n,{answerMasking:()=>r,dialog:()=>c,hideDialog:()=>u,isResponsiveMode:()=>l,isReviewScreen:()=>f,lineReader:()=>p,navigate:()=>d,next:()=>g,previous:()=>m,review:()=>v,submit:()=>h}),t(7738);var i=t(2844),o=t(3191),s=t(7484);const a={answerMasking:{enabled:null},lineReader:{enabled:null,id:null}};function r(e){if(null===a.answerMasking.enabled){const e=document.querySelector(".test-answer-masking");a.answerMasking.enabled=!!e}a.answerMasking.enabled?void 0!==e&&i.appInstance().questionsApp().masking(e):s.A.warn("Answer masking is not enabled in the Items API configuration.")}function c(e){i.assessApp().dialogs().custom.show(e)}function u(){i.assessApp().dialogs().custom.hide()}function l(){return Boolean(document.querySelector(".has-menu-region"))}function f(){let e=!1;setTimeout((()=>(null===document.getElementsByClassName("review-screen")[0].getAttribute("aria-hidden")&&(e=!0),e)),500)}function p(e){if(null===a.lineReader.enabled){const e=document.querySelector(".lrn_linereader-toggle");if(e){a.lineReader.enabled=!0;const n=e.querySelector("[data-lrn-widget-container]").getAttribute("data-lrn-widget-container").match(/\d+$/);n?a.lineReader.id=n[0]:s.A.warn("Could not find the line reader unique id.")}else a.lineReader.enabled=!1}if(a.lineReader.enabled&&null!==a.lineReader.id){const n=i.appInstance().features()[`lrn-assessapp-feature_${a.lineReader.id}`];switch(e){case"show":n.show();break;case"hide":n.hide();break;default:n.toggle()}}else s.A.warn("Line reader is not enabled in the Items API configuration.")}function d(e){switch(e){case"previous":i.appInstance().items().previous();break;case"next":o.isLastItem()||i.appInstance().items().next();break;case"review":null===document.getElementsByClassName("review-screen")[0].getAttribute("aria-hidden")?i.appInstance().dialogs().reviewScreen.hide():i.appInstance().dialogs().reviewScreen.show();break;case"submit":let n={show_submit_confirmation:!0,show_submit_ui:!0,success:function(e){alert("Test saved!")},error:function(e){alert("Test submit failed...check browser log"),console.log("Submission failed: ",e)}};i.appInstance().submit(n);break;default:"number"==typeof Number(e)&&Number(e)>=0?i.appInstance().items().goto(Number(e)):s.A.warn(`Invalid target (${e})`)}}function g(){d("next")}function m(){d("previous")}function v(){d("review")}function h(){d("submit")}},7066:(e,n,t)=>{t.r(n),t.d(n,{hasCheckAnswer:()=>r,isAutoScorable:()=>c,question:()=>u,questionInstance:()=>l,questionResponse:()=>p,questionResponseIds:()=>d,questionScore:()=>g,questions:()=>f});var i=t(2844),o=t(3191),s=t(7738),a=t(7484);function r(e){if(!c(e))return!1;const n=(0,s.activity)()?.config?.questions_api_init_options?.attribute_overrides&&(0,s.activity)().config.questions_api_init_options.attribute_overrides.hasOwnProperty("instant_feedback")&&"boolean"==typeof(0,s.activity)().config.questions_api_init_options.attribute_overrides.instant_feedback,t=u(e);return n?(0,s.activity)().config.questions_api_init_options.attribute_overrides.instant_feedback:!(!t.hasOwnProperty("instant_feedback")||"boolean"!=typeof t.instant_feedback)&&t.instant_feedback}function c(e){return u(e),l(e).checkValidation().has_validation}function u(e){let n=e||d()[0];return n?i.appInstance().question(n).getQuestion():(a.A.error(`Question not found (index ${n})`),{})}function l(e){let n=e||d()[0];return n?i.appInstance().question(n):{}}function f(){return o.item().questions}function p(e){let n=e||d()[0];return n?function(e){return i.appInstance().question(e)?i.appInstance().question(e).getResponse():void a.A.error(`Response not found ${e}`)}(n):{}}function d(){return f().map((e=>e.response_id))}function g(e){let n=e||d()[0];return n&&i.appInstance().getScores()[n]||{}}},8511:(e,n,t)=>{t.r(n),t.d(n,{isFirstItemInSection:()=>s,isLastItemInSection:()=>a,section:()=>r,sectionHasShuffledItems:()=>c,sectionIndex:()=>u,sectionItemPosition:()=>l,sections:()=>f,totalItemsInSection:()=>p});var i=t(7738),o=t(3191);function s(){return 1===l()}function a(){return l()===p()}function r(){if(i.hasSections()){const e=o.itemReference(),n=f();let t=-1,i=!1;for(let o=0;o<n.length&&!i;o++){++t;for(let t=0;t<n[o].items.length;t++)if(e===n[o].items[t].reference){i=!0;break}}return f()[t]}return{}}function c(){return Boolean(r()?.config?.configuration?.shuffle_items)}function u(){if(i.hasSections()){const e=o.itemReference(),n=n();let t=0,i=!1;for(let o=0;o<n.length&&!i;o++){++t;for(let t=0;t<n[o].items.length;t++)if(e===n[o].items[t].reference){i=!0;break}}return t}return 0}function l(){const e=o.itemReference(),n=r();let t=0;if(!Object.keys(n).length)return null;for(let i=0;i<n.items.length&&(++t,e!==n.items[i].reference);i++);return t}function f(){return i.hasSections()?i.activity().sections:[]}function p(){return r()?.items?.length||null}},7484:(e,n,t)=>{t.d(n,{A:()=>i});const i={debug:function(e,n){"DEBUG"===n&&console.log(e)},error:function(e){console.error("%cError:%c "+e,"display:inline-block;background-color:#e0005a;color:#fff;font-weight:bold;padding:3px 7px;border-radius:3px","")},info:function(e){console.info("%cInfo:%c "+e,"display:inline-block;background-color:#46C0FF;color:#000;font-weight:bold;padding:3px 7px;border-radius:3px","")},log:function(e){console.log(e)},warn:function(e,n="log"){console.warn("%cWarning:%c "+e,"display:inline-block;background-color:gold;color:#000;font-weight:bold;padding:3px 7px;border-radius:3px","")}}}},n={};function t(i){var o=n[i];if(void 0!==o)return o.exports;var s=n[i]={exports:{}};return e[i](s,s.exports,t),s.exports}t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};t.d(i,{LT:()=>r});var o=t(2844),s=t(7738),a=t(1634);const r={...o,...t(3191),...s,...t(1570),...t(7066),...t(8511),...a,utils:{logger:t(7484).A}};var c=i.LT;export{c as LT};